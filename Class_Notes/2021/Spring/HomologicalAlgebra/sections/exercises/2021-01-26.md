# Tuesday, January 26


:::{.problem title="Weibel 1.3.3"}
Prove the 5-lemma.
Suppose the following rows are exact:

\begin{tikzcd}
	{A_1} && {A_2} && {A_3} && {A_4} && {A_5} \\
    \\
{B_1} && {B_2} && {B_3} && {B_4} && {B_5}
	\arrow[from=1-1, to=1-3, "{\bd_1^A}"]
	\arrow[from=1-3, to=1-5, "{\bd_2^A}"]
	\arrow[from=1-5, to=1-7, "{\bd_3^A}"]
	\arrow[from=1-7, to=1-9, "{\bd_4^A}"]
	\arrow[from=3-1, to=3-3, "{\bd_1^B}"]
	\arrow[from=3-3, to=3-5, "{\bd_2^B}"]
	\arrow[from=3-5, to=3-7, "{\bd_3^B}"]
	\arrow[from=3-7, to=3-9, "{\bd_4^B}"]
	\arrow["{f_1}"{description}, from=1-1, to=3-1]
	\arrow["{f_2}"{description}, from=1-3, to=3-3]
	\arrow["{f_3}"{description}, from=1-5, to=3-5]
	\arrow["{f_4}"{description}, from=1-7, to=3-7]
	\arrow["{f_5}"{description}, from=1-9, to=3-9]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsMTAsWzAsMCwiQV8xIl0sWzIsMCwiQV8yIl0sWzQsMCwiQV8zIl0sWzYsMCwiQV80Il0sWzgsMCwiQV81Il0sWzAsMiwiQl8xIl0sWzIsMiwiQl8yIl0sWzQsMiwiQl8zIl0sWzYsMiwiQl80Il0sWzgsMiwiQl81Il0sWzAsMV0sWzEsMl0sWzIsM10sWzMsNF0sWzUsNl0sWzYsN10sWzcsOF0sWzgsOV0sWzAsNSwiZl8xIiwxXSxbMSw2LCJmXzIiLDFdLFsyLDcsImZfMyIsMV0sWzMsOCwiZl80IiwxXSxbNCw5LCJmXzUiLDFdXQ==)

a. Show that if $f_2, f_4$ are monic and $f_1$ is an epi, then $f_3$ is monic.
b. Show that if $f_2, f_4$ are epi and $f_5$ is monic, then $f_3$ is an epi.
c. Conclude that if $f_1, f_2, f_4, f_5$ are isomorphisms then $f_4$ is an isomorphism.

:::


:::{.solution title="Part (a)"}
Appealing to the Freyd-Mitchell Embedding Theorem, we proceed by chasing elements.
For this part of the result, only the following portion of the diagram is relevant, where monics have been labeled with "$\injects$" and the epis with "$\surjects$":


\begin{tikzcd}
	{A_1} && {A_2} && {A_3} && {A_4} \\
	\\
	{B_1} && {B_2} && {B_3} && {B_4}
	\arrow["{\bd_1^A}", from=1-1, to=1-3]
	\arrow["{\bd_2^A}", from=1-3, to=1-5]
	\arrow["{\bd_3^A}", from=1-5, to=1-7]
	\arrow["{\bd_1^B}", from=3-1, to=3-3]
	\arrow["{\bd_2^B}", from=3-3, to=3-5]
	\arrow["{\bd_3^B}", from=3-5, to=3-7]
	\arrow["{f_1}"{description}, two heads, from=1-1, to=3-1]
	\arrow["{f_2}"{description}, hook, from=1-3, to=3-3]
	\arrow["{f_3}"{description}, color={rgb,255:red,92;green,214;blue,92}, from=1-5, to=3-5]
	\arrow["{f_4}"{description}, hook, from=1-7, to=3-7]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsOCxbMCwwLCJBXzEiXSxbMiwwLCJBXzIiXSxbNCwwLCJBXzMiXSxbNiwwLCJBXzQiXSxbMCwyLCJCXzEiXSxbMiwyLCJCXzIiXSxbNCwyLCJCXzMiXSxbNiwyLCJCXzQiXSxbMCwxLCJcXGJkXzFeQSJdLFsxLDIsIlxcYmRfMl5BIl0sWzIsMywiXFxiZF8zXkEiXSxbNCw1LCJcXGJkXzFeQiJdLFs1LDYsIlxcYmRfMl5CIl0sWzYsNywiXFxiZF8zXkIiXSxbMCw0LCJmXzEiLDEseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMSw1LCJmXzIiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFsyLDYsImZfMyIsMSx7ImNvbG91ciI6WzEyMCw2MCw2MF19LFsxMjAsNjAsNjAsMV1dLFszLDcsImZfNCIsMSx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV1d)

It suffices to show that $f_3$ is an injection, and since these can be thought of as \(R\dash\)module morphisms, it further suffices to show that $\ker f_3 = 0$, so $f_3(x) = 0 \implies x = 0$.
The following outlines the steps of the diagram chase, with references to specific square and element names in a diagram that follows:

- Suppose $x\in A_3$ and $f(x) = 0\in B_3$.
- Then under $A_3 \to B_3 \to B_4$, $x$ maps to zero.
- Letting $y_1$ be the image of $x$ under $A_3 \to A_4$, commutativity of square 1 and injectivity of $f_4$ forces $y_1 = 0$.
- Exactness of the top row allows pulling this back to some $y_2 \in A_2$.
- Under $A_2 \to B_2$, $y_2$ maps to some unique $y_3\in B_2$, using injectivity of $f_2$.
- Commutativity of square 2 forces $y_3 \to 0$ under $B_2 \to B_3$.
- Exactness of the bottom row allows pulling this back to some $y_3\in B_1$
- Surjectivity of $f_1$ allows pulling this back to some $y_5 \in A_1$.
- Commutativity of square 3 yields $y_5\mapsto y_2$ under $A_1\to A_2$ and $y_5 \mapsto x$ under $A_1 \to A_2 \to A_3$.
- But exactness in the top row forces $y_5 \mapsto 0$ under $A_1 \to A_2 \to A_3$, so $x=0$.

\begin{tikzcd}
	{y_5 \in A_1} && {y_2 \in A_2} && {x\in A_3} && {y_1\in A_4} \\
	& 3 && 2 && 1 \\
	{y_4 \in B_1} && {y_3 \in B_2} && {0\in B_3} && {0\in B_4}
	\arrow["{\bd_1^A}", from=1-1, to=1-3]
	\arrow["{\bd_2^A}", from=1-3, to=1-5]
	\arrow["{\bd_3^A}", from=1-5, to=1-7]
	\arrow["{\bd_1^B}", from=3-1, to=3-3]
	\arrow["{\bd_2^B}", from=3-3, to=3-5]
	\arrow["{\bd_3^B}", from=3-5, to=3-7]
	\arrow["{f_1}"{description}, two heads, from=1-1, to=3-1]
	\arrow["{f_2}"{description}, hook, from=1-3, to=3-3]
	\arrow["{f_3}"{description}, color={rgb,255:red,92;green,214;blue,92}, from=1-5, to=3-5]
	\arrow["{f_4}"{description}, hook, from=1-7, to=3-7]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsMTEsWzAsMCwieV81IFxcaW4gQV8xIl0sWzIsMCwieV8yIFxcaW4gQV8yIl0sWzQsMCwieFxcaW4gQV8zIl0sWzYsMCwieV8xXFxpbiBBXzQiXSxbMCwyLCJ5XzQgXFxpbiBCXzEiXSxbMiwyLCJ5XzMgXFxpbiBCXzIiXSxbNCwyLCIwXFxpbiBCXzMiXSxbNiwyLCIwXFxpbiBCXzQiXSxbNSwxLCIxIl0sWzMsMSwiMiJdLFsxLDEsIjMiXSxbMCwxLCJcXGJkXzFeQSJdLFsxLDIsIlxcYmRfMl5BIl0sWzIsMywiXFxiZF8zXkEiXSxbNCw1LCJcXGJkXzFeQiJdLFs1LDYsIlxcYmRfMl5CIl0sWzYsNywiXFxiZF8zXkIiXSxbMCw0LCJmXzEiLDEseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMSw1LCJmXzIiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFsyLDYsImZfMyIsMSx7ImNvbG91ciI6WzEyMCw2MCw2MF19LFsxMjAsNjAsNjAsMV1dLFszLDcsImZfNCIsMSx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV1d)


:::

:::{.solution title="Part (b)"}
Similarly, it suffices to consider the following portion of the diagram:


\begin{tikzcd}
	{A_2} && {A_3} && {A_4} && {A_5} \\
	\\
	{B_2} && {B_3} && {B_4} && {B_5}
	\arrow["{\bd_2^A}", from=1-1, to=1-3]
	\arrow["{\bd_3^A}", from=1-3, to=1-5]
	\arrow["{\bd_4^A}", from=1-5, to=1-7]
	\arrow["{\bd_2^B}", from=3-1, to=3-3]
	\arrow["{\bd_3^B}", from=3-3, to=3-5]
	\arrow["{\bd_4^B}", from=3-5, to=3-7]
	\arrow["{f_2}"{description}, two heads, from=1-1, to=3-1]
	\arrow["{f_3}"{description}, color={rgb,255:red,92;green,214;blue,92}, from=1-3, to=3-3]
	\arrow["{f_4}"{description}, two heads, from=1-5, to=3-5]
	\arrow["{f_5}"{description}, hook, from=1-7, to=3-7]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsOCxbMCwwLCJBXzIiXSxbMiwwLCJBXzMiXSxbNCwwLCJBXzQiXSxbNiwwLCJBXzUiXSxbMCwyLCJCXzIiXSxbMiwyLCJCXzMiXSxbNCwyLCJCXzQiXSxbNiwyLCJCXzUiXSxbMCwxLCJcXGJkXzJeQSJdLFsxLDIsIlxcYmRfM15BIl0sWzIsMywiXFxiZF80XkEiXSxbNCw1LCJcXGJkXzJeQiJdLFs1LDYsIlxcYmRfM15CIl0sWzYsNywiXFxiZF80XkIiXSxbMCw0LCJmXzIiLDEseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMSw1LCJmXzMiLDEseyJjb2xvdXIiOlsxMjAsNjAsNjBdfSxbMTIwLDYwLDYwLDFdXSxbMiw2LCJmXzQiLDEseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMyw3LCJmXzUiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dXQ==)

We'll proceed by starting with an element in $B_3$ and constructing an element in $A_3$ that maps to it.
We'll complete this in two steps: first by tracing around the RHS rectangle with corners $B_3, B_5, A_5, A_3$ to produce an "approximation" of a preimage, and second by tracing around the LHS square to produce a "correction term".
Various names and relationships between elements are summarized in a diagram following this argument.

---

**Step 1** (the right-hand side approximation): 

- Let ${\color{red}y}\in B_3$ and $y_1$ be its image under $B_3\to B_4$.
- By exactness of the bottom row, under $B_4 \to B_5$, $y_1\mapsto 0$.
- By surjectivity of $f_4$, pull $y_1$ back to an element $y_2 \in A_4$.
- By commutativity of square 1, $y_2\mapsto 0$ under $A_4\to A_5 \to B_5$.
- By injectivity of $f_5$, the preimage of zero must be zero and thus $y_2\mapsto 0$ under $A_4\to A_5$.
- Using exactness of the top row, pull $y_2$ back to obtain some ${\color{blue}y_3} \in A_3$ 

**Step 2** (the left-hand correction term):

- Let $z$ be the image of $\color{blue}y_3$ under $A_3\to B_3$, noting that $z\neq y$ in general.
- By commutativity of square 2, $z\mapsto y_1$ under $B_3\to B_4$
- Thus $z-y\mapsto y_1 - y_1 = 0$ under $B_3\to B_4$, using that $d(z-y) = d(z) - d(y)$ since these are \(R\dash\)module morphisms.
- By exactness of the bottom row, pull $z-y$ back to some $\zeta_1\in B_2$.
- By surjectivity of $f_2$, pull this back to $\zeta_2 \in A_2$.
  Note that by construction, $\zeta_2 \mapsto z-y$ under $A_2\to B_2\to B_3$.
- Let $\zeta_3$ be the image of $\zeta_2$ under $A_2\to A_3$.
- By commutativity of square 3, $\zeta_4 \mapsto z-y$ under $A_3\to B_3$.
- But then ${\color{blue}y_3} - \zeta_3 \mapsto z - (z-y) = {\color{red}y}$ under $A_3\to B_3$ as desired.


\begin{tikzcd}
	&& \textcolor{rgb,255:red,51;green,112;blue,255}{\zeta_3} \\
	\textcolor{rgb,255:red,51;green,112;blue,255}{\zeta_2} && \textcolor{rgb,255:red,153;green,92;blue,214}{y_3} && \textcolor{rgb,255:red,153;green,92;blue,214}{y_2} && \textcolor{rgb,255:red,153;green,92;blue,214}{0} \\
	{A_2} && {A_3} && {A_4} && {A_5} \\
	& 3 && 2 && 1 \\
	{B_2} && {B_3} && {B_4} && {B_5} \\
	\textcolor{rgb,255:red,51;green,112;blue,255}{\zeta_1} && \textcolor{rgb,255:red,153;green,92;blue,214}{y} && \textcolor{rgb,255:red,153;green,92;blue,214}{y_1} && \textcolor{rgb,255:red,153;green,92;blue,214}{0} \\
	&& \textcolor{rgb,255:red,153;green,92;blue,214}{z} \\
	&& \textcolor{rgb,255:red,51;green,112;blue,255}{z-y}
	\arrow["{\bd_2^A}", from=3-1, to=3-3]
	\arrow["{\bd_3^A}", from=3-3, to=3-5]
	\arrow["{\bd_4^A}", from=3-5, to=3-7]
	\arrow["{\bd_2^B}", from=5-1, to=5-3]
	\arrow["{\bd_3^B}", from=5-3, to=5-5]
	\arrow["{\bd_4^B}", from=5-5, to=5-7]
	\arrow["{f_2}"{description}, two heads, from=3-1, to=5-1]
	\arrow["{f_3}"{description}, color={rgb,255:red,92;green,214;blue,92}, from=3-3, to=5-3]
	\arrow["{f_4}"{description}, two heads, from=3-5, to=5-5]
	\arrow["{f_5}"{description}, hook, from=3-7, to=5-7]
	\arrow[color={rgb,255:red,153;green,92;blue,214}, curve={height=-24pt}, dashed, from=2-3, to=7-3]
	\arrow[color={rgb,255:red,153;green,92;blue,214}, dotted, from=6-3, to=6-5]
	\arrow[color={rgb,255:red,153;green,92;blue,214}, curve={height=-18pt}, dotted, from=2-5, to=6-5]
	\arrow[color={rgb,255:red,153;green,92;blue,214}, dotted, from=2-5, to=2-7]
	\arrow[color={rgb,255:red,153;green,92;blue,214}, dotted, from=2-3, to=2-5]
	\arrow[color={rgb,255:red,51;green,112;blue,255}, dotted, from=2-1, to=1-3]
	\arrow[color={rgb,255:red,51;green,112;blue,255}, curve={height=18pt}, dotted, from=2-1, to=6-1]
	\arrow[color={rgb,255:red,51;green,112;blue,255}, dotted, from=6-1, to=8-3]
	\arrow[color={rgb,255:red,153;green,92;blue,214}, dotted, from=6-5, to=6-7]
	\arrow[color={rgb,255:red,153;green,92;blue,214}, curve={height=-12pt}, dotted, from=2-7, to=6-7]
	\arrow[color={rgb,255:red,51;green,112;blue,255}, curve={height=18pt}, dashed, from=1-3, to=8-3]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsMjIsWzAsMiwiQV8yIl0sWzIsMiwiQV8zIl0sWzQsMiwiQV80Il0sWzYsMiwiQV81Il0sWzAsNCwiQl8yIl0sWzIsNCwiQl8zIl0sWzQsNCwiQl80Il0sWzYsNCwiQl81Il0sWzIsNSwieSIsWzI3MCw2MCw2MCwxXV0sWzQsNSwieV8xIixbMjcwLDYwLDYwLDFdXSxbNiw1LCIwIixbMjcwLDYwLDYwLDFdXSxbNCwxLCJ5XzIiLFsyNzAsNjAsNjAsMV1dLFs2LDEsIjAiLFsyNzAsNjAsNjAsMV1dLFsyLDEsInlfMyIsWzI3MCw2MCw2MCwxXV0sWzIsNiwieiIsWzI3MCw2MCw2MCwxXV0sWzIsNywiei15IixbMjIyLDEwMCw2MCwxXV0sWzAsNSwiXFx6ZXRhXzEiLFsyMjIsMTAwLDYwLDFdXSxbMCwxLCJcXHpldGFfMiIsWzIyMiwxMDAsNjAsMV1dLFsyLDAsIlxcemV0YV8zIixbMjIyLDEwMCw2MCwxXV0sWzUsMywiMSJdLFszLDMsIjIiXSxbMSwzLCIzIl0sWzAsMSwiXFxiZF8yXkEiXSxbMSwyLCJcXGJkXzNeQSJdLFsyLDMsIlxcYmRfNF5BIl0sWzQsNSwiXFxiZF8yXkIiXSxbNSw2LCJcXGJkXzNeQiJdLFs2LDcsIlxcYmRfNF5CIl0sWzAsNCwiZl8yIiwxLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzEsNSwiZl8zIiwxLHsiY29sb3VyIjpbMTIwLDYwLDYwXX0sWzEyMCw2MCw2MCwxXV0sWzIsNiwiZl80IiwxLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzMsNywiZl81IiwxLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMTMsMTQsIiIsMCx7ImN1cnZlIjotNCwiY29sb3VyIjpbMjcwLDYwLDYwXSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzgsOSwiIiwwLHsiY29sb3VyIjpbMjcwLDYwLDYwXSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZG90dGVkIn19fV0sWzExLDksIiIsMix7ImN1cnZlIjotMywiY29sb3VyIjpbMjcwLDYwLDYwXSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZG90dGVkIn19fV0sWzExLDEyLCIiLDAseyJjb2xvdXIiOlsyNzAsNjAsNjBdLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkb3R0ZWQifX19XSxbMTMsMTEsIiIsMCx7ImNvbG91ciI6WzI3MCw2MCw2MF0sInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9fX1dLFsxNywxOCwiIiwwLHsiY29sb3VyIjpbMjIyLDEwMCw2MF0sInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9fX1dLFsxNywxNiwiIiwyLHsiY3VydmUiOjMsImNvbG91ciI6WzIyMiwxMDAsNjBdLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkb3R0ZWQifX19XSxbMTYsMTUsIiIsMix7ImNvbG91ciI6WzIyMiwxMDAsNjBdLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkb3R0ZWQifX19XSxbOSwxMCwiIiwwLHsiY29sb3VyIjpbMjcwLDYwLDYwXSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZG90dGVkIn19fV0sWzEyLDEwLCIiLDEseyJjdXJ2ZSI6LTIsImNvbG91ciI6WzI3MCw2MCw2MF0sInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9fX1dLFsxOCwxNSwiIiwwLHsiY3VydmUiOjMsImNvbG91ciI6WzIyMiwxMDAsNjBdLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=)

:::

:::{.solution title="Part (c)"}
Given the previous two result, if the outer maps are isomorphisms then $f_3$ is both monic and epi.
Using a technical fact that monic epis are isomorphisms in a category \( \mathcal{C}\) if and only if \( \mathcal{C} \) is *balanced* and that all abelian categories are balanced, $f_3$ is isomorphism.
:::

:::{.problem title="Weibel 1.4.2"}
Let $C$ be a chain complex.
Show that $C$ is split if and only if there are \(R\dash\)module decompositions
\[
C_n & \cong Z_n \oplus B_n' \\
Z_n &= B_n \oplus H_n'
.\]
Show that $C$ is split exact if and only if $H_n' = 0$.
:::


:::{.solution}
For this problem, we'll use the fact that if $d$ is an epimorphism, it satisfies the right-cancellation property: if $f\circ d = g\circ d$, then $f=g$.
In particular, if $d_n = d_ns_{n-1}d_n$ with $d_n: C_n\to C_{n-1}$ surjective and $s_{n-1}: C_{n-1}\to C_n$, we can conclude $\one_{C_n} = d_ns_{n-1}$.
We'll also use the fact that if we have a SES in any abelian category \( \mathcal{A}  \), then the following are equivalent: 

- The sequence is split on the left.
- The sequence is split on the right.
- The middle term is isomorphic to the direct sum of the outer terms.

Fixing notation, we'll write $C \da (\cdots \to C_{n+1} \mapsvia{\bd_{n+1}} C_n \mapsvia{\bd_n} \cdots)$, and we'll use concatenation $fg$ to denote function composition $f \circ g$.

$\implies$:

Suppose $C$ is split, so we have maps $\ts{s_n}$ such that $\bd_n = \bd_n s_{n-1} \bd_n$.


:::{.claim}
The short exact sequence
\[
0 \to Z_n \mapsvia{\iota} C_n \mapsvia{\bd_n} B_{n-1} \to 0
\]
admits a right-splitting $f: B_{n-1}\to C_n$, and thus there is an isomorphism
\[
C_n \cong Z_n \oplus B_n' \da Z_n \oplus B_{n-1}
.\]

:::


:::{.proof title="?"}
That this sequence is exact follows from the fact that it can be written as 
\[
0 \to \ker \bd_n \injects C_n \overset{\bd_n}\surjects \im \bd _n \to 0
.\]

We proceed by constructing the splitting $f$.
Noting that $s_{n-1}: C_{n-1} \to C_n$ and $B_{n-1} \leq C_{n-1}$, the claim is that its restriction $f\da \ro{s_{n-1}}{B_{n-1}}$ works.
It suffices to show that $(C_n \mapsvia{\bd_n} B_{n-1} \mapsvia{f}  C_n)$ composes to the identity map $\one_{C_n}$.
This follows from the splitting assumption, along with right-cancellability since $\bd_n$ is surjective onto its image:

\[
\bd_n = \bd_n s_{n-1} \bd _n 
\overset{\text{right-cancel $\bd_n$}}{\implies} 
\one_{C_n} = \bd_n s_{n-1} \da \bd_n f
.\]

:::


:::{.claim}
The SES
\[
0 \to B_n \overset{\iota_{BZ}}\injects Z_n \overset{\pi}{\surjects} \frac{Z_n}{B_n} \to 0 
\]
admits a left-splitting $f: Z_n\to B_n$, and thus there is an isomorphism
\[
Z_n \cong B_n \oplus H_n' \da B_n \oplus H_n(C) \da B_n \oplus {Z_n \over B_n}
.\]

:::



:::{.proof title="?"}
We proceed by again constructing the splitting $f:Z_n\to B_n$.
The situation is summarized in the following diagram:


\begin{tikzcd}
	\cdots && {C_{n+1}} & {} & {C_n} && \cdots \\
	\\
	&&&& {Z_n} \\
	\\
	&&&& {B_n}
	\arrow[from=1-1, to=1-3]
	\arrow["{\bd_{n+1}}", from=1-3, to=1-5]
	\arrow[from=1-5, to=1-7]
	\arrow["{\iota_{BZ}}"', hook', from=5-5, to=3-5]
	\arrow["{\iota_{Z}}"', hook', from=3-5, to=1-5]
	\arrow["{s_{n}}"', curve={height=18pt}, dashed, from=1-5, to=1-3]
	\arrow["{\bd_{n+1}}"', two heads, from=1-3, to=5-5]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsNyxbMCwwLCJcXGNkb3RzIl0sWzMsMF0sWzQsMCwiQ19uIl0sWzQsMiwiWl9uIl0sWzQsNCwiQl9uIl0sWzYsMCwiXFxjZG90cyJdLFsyLDAsIkNfe24rMX0iXSxbMCw2XSxbNiwyLCJcXGJkX3tuKzF9Il0sWzIsNV0sWzQsMywiXFxpb3RhXzEiLDIseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6ImJvdHRvbSJ9fX1dLFszLDIsIlxcaW90YV8yIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJib3R0b20ifX19XSxbMiw2LCJzX3tufSIsMix7ImN1cnZlIjozLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNiw0LCJcXGJkX3tuKzF9IiwyLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV1d)

So a natural candidate for the map $f$ is the composition
\[
Z_n \mapsvia{\iota_Z} C_n \mapsvia{s_{n}} C_{n+1} \mapsvia{\bd_{n+1}} B_n
,\]
so $f \da \bd_{n+1} s_{n} \iota_Z$.
We can simplify this slightly by regarding $Z_n \leq C_n$ as a submodule to suppress $\iota_Z$, and identify $s_{n}$ with its restriction to $Z_n$ to write $f \da \bd_{n+1} s_{n}$.
The claim is then that $f\iota_{BZ} = \one_{B_n}$.
Anticipating using the fact that $\bd_{n+1} = \bd_{n+1} s_n \bd_{n+1}$, we post-compose with $\bd_{n+1}$ and compute:
\[
f \iota_{BZ} \bd_{n+1} 
&=
(C_{n+1} \mapsvia{\bd_{n+1}} B_n \mapsvia{\iota_{BZ}} Z_n \mapsvia{\iota_Z} C_n \mapsvia{s_n} C_{n+1} \mapsvia{\bd_{n+1}} C_n ) \\
&=
(C_{n+1} \mapsvia{\bd_{n+1}} B_n \mapsvia{\ro{s_n}{B_n} } C_{n+1} \mapsvia{\bd_{n+1}} ) 
\\
&= \bd_{n+1} s_n \bd_{n+1} \\
&= \bd_{n+1}
,\]
where in the last step we've used the splitting hypothesis and the fact that it remains true when everything is restricted to the submodule $B_n \leq C_n$.
Using surjectivity of $\bd_{n+1}$ onto $B_n$, we can now conclude as before:
\[
f \iota_{BZ} \bd_{n+1} = \bd_{n+1}
\overset{\text{right-cancel $\bd_n$}}{\implies} 
f\iota_{BZ} = \one_{B_n}
.\]

:::





:::


:::{.problem title="Weibel 1.4.3"}
Show that $C$ is a split exact chain complex if and only if $\one_C$ is nullhomotopic.
:::

:::{.solution}
$\impliedby$:

**$C$ is split**:
Suppose $\one_{C}$ is nullhomotopic, so that there exist maps 
\[
s_n: C_n \to C_{n+1} && \one_{C_n} = \bd_{n+1} s_n + s_{n-1} \bd_n
.\]
We then have the following situation:

\begin{tikzcd}
	\cdots && {C_{n+1}} && {C_{n}} && {C_{n-1}} && \cdots \\
	\\
	\cdots && {C_{n+1}} && {C_{n}} && {C_{n-1}} && \cdots
	\arrow["{\bd_{n+1}}", color={rgb,255:red,92;green,214;blue,92}, from=1-3, to=1-5]
	\arrow["{\bd_{n+1}}", color={rgb,255:red,214;green,92;blue,92}, from=3-3, to=3-5]
	\arrow[from=1-1, to=1-3]
	\arrow[from=3-1, to=3-3]
	\arrow["{\bd_{n}}", color={rgb,255:red,214;green,92;blue,92}, from=1-5, to=1-7]
	\arrow["{\bd_{n}}", from=3-5, to=3-7]
	\arrow["{\one_{C_n}}", color={rgb,255:red,92;green,214;blue,92}, from=1-5, to=3-5]
	\arrow["{\one_{C_{n+1}}}"', from=1-3, to=3-3]
	\arrow["{s_n}", color={rgb,255:red,214;green,92;blue,92}, from=1-5, to=3-3]
	\arrow["{s_n}"{description}, curve={height=24pt}, dashed, from=1-5, to=1-3]
	\arrow[from=1-7, to=1-9]
	\arrow[from=3-7, to=3-9]
	\arrow["{\one_{C_{n-1}}}", from=1-7, to=3-7]
	\arrow["{s_{n-1}}", color={rgb,255:red,214;green,92;blue,92}, from=1-7, to=3-5]
	\arrow["{s_{n-1}}"{description}, curve={height=24pt}, dashed, from=1-7, to=1-5]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsMTAsWzIsMCwiQ197bisxfSJdLFs0LDAsIkNfe259Il0sWzIsMiwiQ197bisxfSJdLFs0LDIsIkNfe259Il0sWzAsMCwiXFxjZG90cyJdLFswLDIsIlxcY2RvdHMiXSxbNiwwLCJDX3tuLTF9Il0sWzYsMiwiQ197bi0xfSJdLFs4LDAsIlxcY2RvdHMiXSxbOCwyLCJcXGNkb3RzIl0sWzAsMSwiXFxiZF97bisxfSIsMCx7ImNvbG91ciI6WzEyMCw2MCw2MF19LFsxMjAsNjAsNjAsMV1dLFsyLDMsIlxcYmRfe24rMX0iLDAseyJjb2xvdXIiOlswLDYwLDYwXX0sWzAsNjAsNjAsMV1dLFs0LDBdLFs1LDJdLFsxLDYsIlxcYmRfe259IiwwLHsiY29sb3VyIjpbMCw2MCw2MF19LFswLDYwLDYwLDFdXSxbMyw3LCJcXGJkX3tufSJdLFsxLDMsIlxcb25lX3tDX259IiwwLHsiY29sb3VyIjpbMTIwLDYwLDYwXX0sWzEyMCw2MCw2MCwxXV0sWzAsMiwiXFxvbmVfe0Nfe24rMX19IiwyXSxbMSwyLCJzX24iLDAseyJjb2xvdXIiOlswLDYwLDYwXX0sWzAsNjAsNjAsMV1dLFsxLDAsInNfbiIsMSx7ImN1cnZlIjo0LCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNiw4XSxbNyw5XSxbNiw3LCJcXG9uZV97Q197bi0xfX0iXSxbNiwzLCJzX3tuLTF9IiwwLHsiY29sb3VyIjpbMCw2MCw2MF19LFswLDYwLDYwLDFdXSxbNiwxLCJzX3tuLTF9IiwxLHsiY3VydmUiOjQsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==)

Here the nullhomotopy is outlined in red, and the map relevant to the splitting in green.
Note that $s_n: C_n \to C_{n+1}$ is a candidate for a splitting, we just need to show that $\bd_{n+1} = \bd_{n+1} s_n \bd_{n+1}$. 
We can proceed by post-composing the LHS with the identity $\one_C$, which allows us to substitute in the nullhomotopy:
\[
\bd_{n+1} 
&= \one_{C_n} \bd_{n+1} \\
&= \qty{ \bd_{n+1} s_n + s_{n-1} \bd_n } \bd_{n+1} \\
&= \bd_{n+1} s_n \bd_{n+1} + s_{n-1} \bd_n \bd_{n+1} \\
&= \bd_{n+1} s_n \bd_{n+1} + s_{n-1} {\color{red} 0} && \text{since } \bd^2 = 0\\
&= \bd_{n+1} s_n \bd_{n+1}
.\]

**$C$ is exact**:
This follows from the fact that since $\one_C = \bd s + s\bd$ are equal as maps of chain complexes, the images $D_1 \da \one_C(C)$ and $D_2 \da (\bd s + s \bd)(C)$ are equal as chain complexes and have equal homology.
Evidently $D_1 = C$, and on the other hand, each graded piece $(D_2)_n$ *only* consists of boundaries coming from various pieces of $C$, since $\bd s + s\bd$ necessarily lands in the images of the maps $\bd_n$.
Thus $C_n(D_2) \subseteq B_n(D_2) = \emptyset$, i.e. there are no chains (or cycles) in $D_2$ which are *not* boundaries, and thus $H_n(D_2) \da Z_n(D_2)/ B_n(D_2) = 0$ for all $n$.
We can thus conclude that $C = D_2 \implies H(C) = H(D_2) = 0$, so $C$ must be exact.

---

$\implies$:
Suppose $C$ is split.
Then by exercise 1.4.2, we have \(R\dash\)module decompositions
\[
C_n &\cong Z_n \oplus B_{n-1} \\
Z_n &\cong B_n \oplus H_n \\ \\
\implies C_n &\cong B_n \oplus B_{n-1} \oplus H_n
.\]

Supposing further that $C$ is exact, we have $H_n = 0$, and thus $C_n \cong B_n \oplus B_{n-1}$.
We first note that in this case, we can explicitly write the differential $\bd_n$.
Letting $\one_n$ denote the identity on $C_n$, where by abuse of notation we also write this for its restriction to any submodules, we have:

\begin{tikzcd}
	{C_n} && {C_{n-1}} \\
	\\
	{B_n} && {B_{n-1}} \\
	\oplus && \oplus \\
	{B_{n-1}} && {B_{n-2}}
	\arrow["{\bd_n}", from=1-1, to=1-3]
	\arrow["{=}"{marking}, draw=none, from=1-1, to=3-1]
	\arrow["{=}"{marking}, draw=none, from=1-3, to=3-3]
	\arrow["{\one_{n}}"{description, pos=0.3}, from=5-1, to=3-3]
	\arrow["0"{description, pos=0.2}, dashed, from=3-1, to=3-3]
	\arrow["0"{description, pos=0.2}, dashed, from=3-1, to=5-3]
	\arrow["0"{description, pos=0.2}, dashed, from=5-1, to=5-3]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsOCxbMCwyLCJCX24iXSxbMCwzLCJcXG9wbHVzIl0sWzAsNCwiQl97bi0xfSJdLFswLDAsIkNfbiJdLFsyLDAsIkNfe24tMX0iXSxbMiwyLCJCX3tuLTF9Il0sWzIsNCwiQl97bi0yfSJdLFsyLDMsIlxcb3BsdXMiXSxbMyw0LCJcXGJkX24iXSxbMywwLCI9IiwzLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoibm9uZSJ9LCJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzQsNSwiPSIsMyx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6Im5vbmUifSwiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFsyLDUsIlxcb25lX3tufSIsMSx7ImxhYmVsX3Bvc2l0aW9uIjozMCwiY3VydmUiOjF9XSxbMCw1LCIwIiwxLHsibGFiZWxfcG9zaXRpb24iOjIwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMCw2LCIwIiwxLHsibGFiZWxfcG9zaXRpb24iOjIwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMiw2LCIwIiwxLHsibGFiZWxfcG9zaXRpb24iOjIwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=)

We can thus write $\bd_n$ as the matrix
\[
\bd_n =
\begin{bmatrix}
0 & \one_n 
\\
0 & 0
\end{bmatrix}
.\]

Similarly using this decomposition, we can construct a map $s_n: C_{n} \to C_{n+1}$:


\begin{tikzcd}
	{C_n} && {C_{n+1}} \\
	\\
	{B_n} && {B_{n+1}} \\
	\oplus && \oplus \\
	{B_{n-1}} && {B_{n}}
	\arrow["{s_n}", from=1-1, to=1-3]
	\arrow["{=}"{marking}, draw=none, from=1-1, to=3-1]
	\arrow["{=}"{marking}, draw=none, from=1-3, to=3-3]
	\arrow["{\one_n}"{description, pos=0.3}, from=3-1, to=5-3]
	\arrow["0"{description, pos=0.2}, dashed, from=3-1, to=3-3]
	\arrow["0"{description, pos=0.2}, dashed, from=5-1, to=5-3]
	\arrow["0"{description, pos=0.2}, dashed, from=5-1, to=3-3]
\end{tikzcd}

> [Link to Diagram](https://q.uiver.app/?q=WzAsOCxbMCwyLCJCX24iXSxbMCwzLCJcXG9wbHVzIl0sWzAsNCwiQl97bi0xfSJdLFswLDAsIkNfbiJdLFsyLDAsIkNfe24rMX0iXSxbMiwyLCJCX3tuKzF9Il0sWzIsNCwiQl97bn0iXSxbMiwzLCJcXG9wbHVzIl0sWzMsNCwic19uIl0sWzMsMCwiPSIsMyx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6Im5vbmUifSwiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFs0LDUsIj0iLDMseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJub25lIn0sImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMCw2LCJcXG9uZV9uIiwxLHsibGFiZWxfcG9zaXRpb24iOjMwfV0sWzAsNSwiMCIsMSx7ImxhYmVsX3Bvc2l0aW9uIjoyMCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzIsNiwiMCIsMSx7ImxhYmVsX3Bvc2l0aW9uIjoyMCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzIsNSwiMCIsMSx7ImxhYmVsX3Bvc2l0aW9uIjoyMCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d)


We can write this as the following matrix:
\[
s_n =
\begin{bmatrix}
0 & 0 
\\
\one_n & 0
\end{bmatrix}
.\]

We can now verify that $s_n$ is a nullhomotopy from a direct computation:
\[
\bd_{n+1} s_n + s_{n-1} \bd_n
&=
\begin{bmatrix}
0 & \one_{n+1}
\\
0 & 0
\end{bmatrix}
\begin{bmatrix}
0 & 0 
\\
\one_n & 0
\end{bmatrix}
+
\begin{bmatrix}
0 & 0 
\\
\one_{n-1} & 0
\end{bmatrix}
\begin{bmatrix}
0 & \one_{n}
\\
0 & 0
\end{bmatrix}
\\
&=
\begin{bmatrix}
\one_n &  0
\\
0 & 0
\end{bmatrix}
+
\begin{bmatrix}
0 & 0 
\\
0 & \one_{n-1}
\end{bmatrix}
\\
&=
\begin{bmatrix}
\one_{B_n} &  0
\\
0 & \one_{B_{n-1}}
\end{bmatrix}
\\
&= \one_{C_n}
,\]
expressed as a map $B_n \oplus B_{n-1} \to B_n \oplus B_{n-1}$.

:::

:::{.problem title="Weibel 1.4.5"}
Show that chain homotopy classes of maps form a quotient category $K$ of $\Ch(\rmod)$ and that the functors $H_n$ factor through the quotient functor $\Ch(\rmod) \to K$ using the following steps:

1. Show that chain homotopy equivalence is an equivalence relation on $\ts{f:C\to D \st f\text{ is a chain map}}$.
  Define $\Hom_K(C, D)$ to be the equivalence classes of such maps and show that it is an abelian group.

2. Let $f \homotopic g: C\to D$ be two chain homotopic maps.
  If $u: B\to C, v:D\to E$ are chain maps, show that $vfu, vgu$ are chain homotopic.
  Deduce that $K$ is a category when the objects are defined as chain complexes and the morphisms are defined as in (1).

3. Let $f_0, f_1, g_0, g_1: C\to D$ all be chain maps such that each pair $f_i \homotopic g_i$ are chain homotopic.
  Show that $f_0 + f_1$ is chain homotopic to $g_0 + g_1$.
  Deduce that $K$ is an additive category and $\Ch(\rmod)\to K$ is an additive functor.

4. Is $K$ an abelian category? 
  Explain.

> Try at least two parts.

:::

:::{.problem title="Weibel 1.5.1"}
Let $\cone(C) \da \cone(\one_C)$, so 
\[
\cone(C)_n = C_{n-1} \oplus C_n
.\]
Show that $\cone(C)$ is split exact, with splitting map given by $(b, c) \mapsto (-c, 0)$.
:::


:::{.solution}
Fixing notation, let $\one_C$ be the identity chain map on $C$, $\one_n: C_n\to C_n$ its $n$th graded piece, and write $\hat{C} \da \cone(C) \da \cone(\one_C)$, $\hat{\one}$ for the identity on $\hat{C}$, and $\hat{\one}_n$ for its $n$th piece.
The result will follow from a direct computation: from exercise 1.4.2, it suffices to show that $\hat{\one}$ is nullhomotopic.
:::



:::{.problem title="Weibel 1.5.2"}
Let $f:C\to D \in \Mor(\Ch(\mathcal{A}))$ and show that $f$ is nullhomotopic if and only if $f$ lifts to a map
\[
(s, f): \cone(C) \to D
.\]

:::


:::{.problem title="Extra"}
\envlist

a. Show that free implies projective.

b. Show that $\Hom_R(M, \wait)$ is left-exact.

c. Show that $P$ is projective if and only if $\Hom_R(P, \wait)$ is exact.
:::


