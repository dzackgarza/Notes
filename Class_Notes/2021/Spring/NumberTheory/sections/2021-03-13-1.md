# Saturday, March 13

## Discriminants


:::{.example title="?"}
Suppose \( K = \QQ( \sqrt{d} ) \) where $d$ is squarefree.
What is its discriminant?
We need a $\ZZ\dash$basis of $\ZZ_K$, for $d=2,3 \mod 4$ we can take \( (1, \sqrt{d} ) \).
Then we construct a matrix whose columns are the different embeddings of each entry.
The embeddings here are the identity and complex conjugation, so we get
\[
\Delta_K = \Delta(1, \sqrt{ d} )
= 
\det 
\qty{
\begin{bmatrix}
1 & \sqrt{d} 
\\
 1 & -\sqrt{d} 
\end{bmatrix}
}^2
= (-2 \sqrt{d} )^2 = 4d
.\]
If $d = 1 \mod 4$, then we can take a basis $(1, {1 + \sqrt{d} \over 2})$,
and
\[
\Delta_K
=
\qty{
\begin{bmatrix}
1 & {1 + \sqrt{d} \over 2}
\\
1 & {1 - \sqrt{d} \over 2}
\end{bmatrix}
}^2
= (- \sqrt{d} )^2 = d
.\]
So we have
\[
\Delta_K = 

\begin{cases}
d & d = 1 \mod 4 
\\
4d & d = 2,3 \mod 4 .
\end{cases}
.\]

:::


:::{.remark}
Note that $\Delta_\QQ = 1$ if you trace through the computation.
:::

## Norms of Ideals


:::{.definition title="?"}
Let $I \normal \ZZ_K$ be a nonzero ideal, then define \( N(I) \da \# \ZZ_K/I \).
:::


:::{.remark}
Note that this was finite in the quadratic field case since nonzero ideals had a "standard basis".
For general number fields, the ideals can be more complicated, so we'll need another way to show finiteness.
:::


:::{.lemma title="?"}
Let \( \alpha\in \ZZ_K \), then \( \alpha\divides N( \alpha) \) in \( \ZZ_K \).
:::


:::{.proof title="of lemma"}
Write down the obvious thing and see that it works!
\[
N \alpha 
\da \prod_{ \sigma: K \embeds \CC} \sigma( \alpha) \\
= \alpha \prod_{ \substack{ \sigma: K \embeds \CC \\ \sigma\neq \one_K } } \sigma( \alpha) \\
&\da \alpha C 
,\]
where we've used that one embedding is the identity and factored it out.
So it only remains to show that the *cofactor* $C$ (the product term) is actually in $\ZZ_K$.
It is \( \bar{ZZ} \), since \( \alpha \) was an algebraic integer, i.e. a root of some monic polynomial with integer coefficients.
But then under every embedding, \( \sigma( \alpha) \) is a root of the same monic polynomial, so each \( \sigma( \alpha) \in \bar{\ZZ} \), as is their product since it's a ring.
On the other hand, we can write \( C = N \alpha/ \alpha \).
Since \( N \alpha \) is a nonzero rational integer and \( \alpha\in K \), and since $K$ is a field, this quotient is in $K$.
But then \( C \in \bar{\ZZ} \intersect K = \ZZ_K \). 
:::



:::{.proposition title="?"}
For $I\normal \ZZ_K$ nonzero,
\[
N(I) < \infty 
.\]
:::


:::{.proof title="?"}
We start with principal ideals.
Let $m\in \ZZ^+$, then \( \ZZ_K \gens{ m } \da \ZZ_K /m \ZZ_K \cong_{\zmod} \ZZ^n / m\ZZ^n \cong (\ZZ/m\ZZ)^n  \) where we've forgotten the ring structure and are just considering it as a \(\ZZ\dash\)module .
But this has size $m^n < \infty$.

Now let \( \alpha\in I \) be nonzero and let \( m \da \pm N \alpha \), choosing whichever sign makes $m>0$.
Since \( \alpha\divides N \alpha \), so \( N \alpha = \ell \alpha \) is a multiple of \( \alpha \).
But \( \alpha\in I \) and $I$ is an ideal, so \( N \alpha\in I \implies m \in I\).
Then (check!) the following map is surjective:
\[
\ZZ_K/ \gens{ m } &\surjects \ZZ_K/I \\
[ \alpha]_m &\mapsto [ \alpha]_I
,\]
where we've used \( m\in I \) for this to be well-defined.
So $\# \ZZ_K /I \leq \ZZ_K / \gens{ m } = m^n < \infty$. 
:::


:::{.theorem title="The norm is multiplicative"}
For every pair $I, J\normal \ZZ_K$ nonzero, 
\[
N( IJ) + N(I) N(J)
.\]
:::


:::{.proof title="?"}
Deferred!
:::


:::{.theorem title="Formula for norm of principal ideals"}
For all \( \alpha\in \ZZ_K \) nonzero, 
\[
N( \gens{ \alpha }) = \abs{ N ( \alpha ) | 
,\]
i.e. the norm of a principal ideal is the absolute value of the norm of the element-wise ideal.
:::

This will follow from the following proposition:

:::{.proposition title="Index = Determinant"}
Let $M \in \zmod$ be free of rank $n$ and let \( H \leq M \).
Then $H$ is free of rank at most $n$, so suppose $\rank_\ZZ H = n$.
Suppose that \( \omega_1, \cdots, \omega_n \) is a $\ZZ\dash$basis for $M$ and \( \theta_1, \cdots, \theta_n \) a $\ZZ\dash$basis for $H$.
We can thus write \( \tv{ \theta_1, \cdots, \theta_n} = \tv{ \omega_1, \cdots, \omega_n } A \) for some $A \in \Mat(n\times n, \ZZ)$.
Then \( [M: H] = \#M/H = \abs{ \det A } \).
:::


:::{.proof title="Sketch"}
Idea: convert this problem about an arbitrary \( M \in \zmod \) to a problem about $\ZZ^n$.
We know \( M \cong \ZZ^n \), and if we send the \( \omega_i \) to the standard basis vectors, this identifies $H \cong A \ZZ^n$.
So \( M/H \cong \ZZ^n/A\ZZ^n \), and it's easy to see that \( \det A \neq 0 \): if not, there would be a linear dependence among the \( \theta_j \).
Using *Smith normal form*, we can choose $S, T \in \GL_n(\ZZ)$ with 
\[
SAT = \diag(a_1, \cdots, a_n) && a_i \in \ZZ
.\]
Since $\det A \neq 0$, we have \( \det S, \det T \neq 0 \), and so all of the \( a_i \) are nonzero.
We can write \( \ZZ^n/A\ZZ^n \cong \ZZ^n/SAT\ZZ^n \cong \bigoplus_{i=1}^n \ZZ/a_i \ZZ \), which has size \( \prod \abs{a_i} = \abs{ \prod a_i } = \abs{ \det (SAT) } = \abs{ \det(A) } \) since $S, T$ are invertible and thus have determinant $\pm 1$.
:::












