# Tuesday, March 30

## Chapter 15 (continued)

:::{.remark}
We want to develop theorems of ideal theory for $\ZZ_K$ for $K$ a general number field, i.e. factorization into prime ideals and the finiteness of the class group.
The strategy:

- Prove $\Cl(\ZZ_K)$ is a finite monoid,
- Prove $\Cl(\ZZ_K)$ has inverses and is thus a group, i.e. every nonzero ideal can be multiplied by another ideal to become principle (principle multiple lemma),
- Run proofs/corollaries as before.

Last time, we proved the first one.
:::

:::{.lemma title="?"}
Let $I, J \in \Id(\ZZ)_K$, then if $IJ = J$ then $I = \gens{ 1 }$. 
:::

:::{.remark}
Note that this is a special case of cancellation.
To prove this, we'll use that $\ZZ_K$ is Noetherian, i.e. every ideal is finitely generated as a \(\ZZ_K\dash\)module.
In fact, $\ZZ_K \cong \ZZ^n$, so any ideal is free of rank $\leq n$ as a \(\ZZ\dash\)module, hence finitely generated as a \(\ZZ\dash\)module, hence finitely-generated as a $\ZZ_K\dash$module since one can use the same generators.
:::


:::{.proof title="?"}
Let $J = \gens{ \beta_1, \cdots, \beta_n }$, then since $IJ = J$, for every $j$ we can write \( \beta_j = \sum_{i=1}^m A_{ij} \beta_i  \).
This means that there is some matrix $A\in \Mat(m\times m, I)$ with entries $A_{ij} \in I$ such that
\[
\tv{\beta_1, \cdots, \beta_m}
=
\tv{\beta_1, \cdots, \beta_m}A
.\]
Then $A-\one \vector{\beta} = 0$, making $A-\one$ singular since not all of the $\beta_i$ were zero since they were generators of a nonzero ideal.
Now take the determinant mod $I$, which yields
\[
0 \equiv \det(A-\one) \equiv \det(-\one) \equiv \pm 1\mod I
,\]
but this can only occur if $1\in I$, making \( \gens{ 1 }= I  \).
:::


:::{.lemma title="?"}
Let $I, J\normal \ZZ_K$, then if $IJ = \beta J$ with $\beta \in \ZZ_K \smz$, we have $I = \gens{ \beta }$. 
:::


:::{.remark}
Note that the previous lemma is a special case of this where $\beta = 1$.
One can then bootstrap the previous lemma to get this, see the book.
:::


:::{.lemma title="Principal Multiple Lemma"}
For all $I\in \Id(\ZZ_K)$ there is a $J \in \Id(\ZZ_K)$ such that $IJ$ is principal.
:::


:::{.proof title="?"}
Consider $[I], [I]^2, \cdots \in \Cl(\ZZ_K)$.
By the pigeonhole principle, there is some $k, \ell$ such that $[I^k] = [I]^\ell$, so $I^k = \lambda I^\ell$ for some $\lambda \in K\units$.
:::








