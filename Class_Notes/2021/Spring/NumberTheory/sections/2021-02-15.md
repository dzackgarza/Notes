# Chapter 8: Units in $\ZZ_K$ (Monday, February 15)

Last time:
A discrete subgroup \( \Lambda \leq \RR \) is either $0$ or infinite cyclic, where *discrete* meant finite intersection with every interval $[-x, x]$.



:::{.proof title="?"}
Suppose \( \Lambda \neq 0 \), then we can choose a smallest positive element \( \alpha\in \Lambda \).
Why does this exist? 
There are only finitely many elements in $[0, \alpha]$, so there is a smallest, and we could replace \( \alpha \) with it.
The claim is that \( \Lambda = \ZZ \alpha \).
The reverse containment is clear because the RHS is necessarily a subgroup.
Toward a contradiction, suppose there is some \( \beta\in \Lambda\sm \ZZ \alpha \) with \( n \alpha < \beta < (n+1) \alpha \) for some $n\in \ZZ$.
This can't happen: subtracting $n$ from both sides yields 
\[
0 < \beta - n \alpha < \alpha
,\]
where the middle term is necessarily in \( \Lambda \), contradicting minimality of \( \alpha \).

\begin{tikzpicture}
\fontsize{45pt}{1em} 
\node (node_one) at (0,0) { \import{/home/zack/SparkleShare/github.com/Notes/Class_Notes/2021/Spring/NumberTheory/sections/figures}{2021-02-15_21-44.pdf_tex} };
\end{tikzpicture}

:::


:::{.remark}
Recall that to show the theorem we wanted, it was enough to show $\log U(\ZZ_K)^+$ is an infinite cyclic subgroup of $\GG_a(\RR)$.
We proved that this was a discrete subgroup.
If this were just the zero element, the only possible units would be $\pm 1$, so it suffices to find a unit \( \epsilon \in U(\ZZ_K) \) with \( \epsilon>0 \) and \( \epsilon\neq 1 \).


:::

## Aside on Diophantine approximation

:::{.remark}
Let \( \alpha\in \RR \) and let \( Q \in \ZZ^+ \).
How well can we approximate \( \alpha \) with a fraction with denominator bounded by $Q$?
:::

:::{.theorem title="Dirichlet"}
There is a $q \leq Q \in \ZZ^+$ with 
\[ 
\norm{q \alpha } \leq {1 \over Q+1} 
,\] 
where \( \norm{\wait} \) denotes the distance to the nearest integer.
:::

:::{.remark}
The way to think about this inequality: if the LHS is close to an integer $p$, then \( \alpha \) is close to \( p/q \).

:::

:::{.proof title="?"}
Chop the interval into $Q+1$ pieces, and think of the inequality as a condition on the fractional part of \( \alpha \), denoted \( \fractional{ qa } \da qa - \floor{ qa }\in [0, 1) \).
Note that if \( \fractional{ qa } \in [0, 1/Q+1)\) or \( [Q/Q+1, Q) \) for some $q$, then we are done.
If not, it must land in one of the $q-1$ middle intervals 
\[
[1/Q+1, 2/Q+1), 
[2/Q+1, 3/Q+1), 
\cdots,
[Q-1/Q+1, Q/Q+1)
\]
for all all $q\leq Q$.
But we have $Q$ choices for $q$ and only $Q-1$ intervals, so there are two values of $q$ with fractional part in the same interval.
So choose these, say $q_1<q_2 \leq Q$, and consider $q \da q_2 - q_1$.
Since \( \fractional{q_1 \alpha}, \fractional{q_2 \alpha} \) are in the same interval, we have \( \fractional{q \alpha \in [0, 1/Q+1) \), putting it close to an integer.
:::

:::{.corollary title="?"}
There are infinitely many pairs of positive integers $(p, q)$ such that 
\[
\abs{p^2 - dq^2}\leq 1 + 2 \sqrt{d}  
,\]
where $d$ was the squarefree integer for which $K = \QQ( \sqrt{d} )$.
:::

:::{.remark}
Note that the RHS does not depend on $p$ or $q$, and only depends on the field.
Moreover, this proof is also true with the 1 removed..
:::

:::{.proof title="?"}
Using Dirichlet's approximation theorem, choose \( Q \in \ZZ^+ \) and \( 1\leq q\leq Q \) 
such that 
\[
\norm{ q \sqrt{d} } \leq {1 \over Q+1}
,\]
then there is a \( p \in \ZZ \) such that
\[
\abs{ p - q \sqrt{d} } \leq {1 \over Q+1}
.\]
We know $q$ is positive by Dirichlet's theorem, and $p$ is positive since $q\sqrt{d} \geq \sqrt{d} \geq 1$, and the distance from $p$ to $q$ is at most $1/2$.
We can now check
\[
\abs{p^2 - dq^2} 
&= \abs{p - q \sqrt{d}} \abs{p + q \sqrt{d}}    \\
&= \abs{p - q \sqrt{d}} \abs{(p- q \sqrt{d} ) + 2q \sqrt{d} }    \\
&\leq \abs{p - q \sqrt{d}} \abs{p- q \sqrt{d}} + \abs{2q \sqrt{d} }    \\
&\leq {1\over Q+1} \qty{ {1\over Q+1} + 2Q \sqrt{d} }\\
&= \qty{1\over Q+1}^2 + {2Q \over Q+1} \sqrt{d} \\
&< 1 + 2\srqt{d}
,\]
where we've applied the triangle inequality and used the bound twice.
How do we know that this results in infinitely many distinct pairs?
Things could also go wrong if the same pairs resulted from all but finitely many choices of $Q$.
However, the bound from Dirichlet's theorem prevents this: any pair $(p, q)$ can arise for ay most *finitely* many starting values for $Q$.
Pick a $Q$, then produce $q$ satisfying the bound.
Then $\norm{ q \sqrt{d} } \neq 0$ since \( \sqrt{d} \) is irrational, and thus the LHS is some positive irrational number.
For a fixed $q$, choosing $Q'$ big enough can make the RHS smaller than the LHS, meaning that $q$ can not occur for that value of $Q'$ or anything larger.
In other words, we're using
\[
\norm{ q \sqrt{d} } \leq {1\over Q+1} \converges{Q \to \infty } \to 0
.\]

:::

