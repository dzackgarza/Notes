
---
title: Algebraic Curves
todos: true
book: true
---


\medskip
\begin{flushright}
  D. Zack Garza, \today \\
  \currenttime
\end{flushright}

# Monday, August 24

Review of lecture one:

:::{.theorem title="Finitely Generated in Towers"}
See video
:::

- Transcendence bases
- LÃ¼roth problem


# Monday August 21st

For $K/k$ a one variable function field, if we want a curve $C/k$, what are the points?
We'll use *valuations*, see NT 2.1.

See also completions, residue fields.

If $R \subset K$ a field, $R$ is a *valuation ring* of $K$ if for all $x\in K\units$, at least one of $x, x^{-1} \in R$.

:::{.example}
The valuation rings of $\QQ$ are $\ZZ_{(p)}\da \ZZ[\ts{{1\over \ell} \st \ell\neq p}]$ for all primes $p$.
:::

See also Krull valuation, takes values in some totally ordered commutative group.

:::{.exercise}
Show that a valuation ring is a local ring, i.e. it has a unique maximal ideal.
:::

:::{.example}
Where does the log come from?

There is a $p\dash$adic valuation:
\[  
v: \QQ &\to \ZZ_{(p)} \\
{a\ over b} = p^n {u \over v} &\mapsto n
.\]
 
Then we recover
\[  
\ZZ_{(p)} = \ts {x\in \QQ\units \st v_p(x) \geq 0} \union \ts{0} \\
\mfm_{(p)} = \ts {x\in \QQ\units \st v_p(x) > 0} \union \ts{0} \\
.\]

There is a $p\dash$adic norm
\[  
\abs{\wait}_p: \QQ &\to \RR \\
0 & \mapsto 0 \\
x &\mapsto p^{-n} = p^{-v_p(x)}
.\]

Then we get an ultrametric function, a non-archimedean function
\[  
d_p: \QQ^2 \to \RR \\
(x, y) &\mapsto \abs{x- y}_p
.\]

We then recover $v_p(x) = -\log_p \abs{x}_p$.

See NT 1 notes.
:::

For $A\subset K$ a subring of a field, we'll be interested in the place $\tilde \Sigma = \ts{\text{Valuation rings } R_v \text{ of } K} \st A \subset R_v \subsetneq K$.
Thus the valuation takes non-negative values on all elements of $K$.
Can equip this with a topology (the "Zariski" topology, not the usual one).
This is always quasicompact, and called the *Zariski-Riemann space*.
Can determine a sheaf of rings to make this a locally ringed space.

We can define an equivalence of valuations and define the set of *places* 
\[  
\Sigma(K/k) \da \ts{\text{Nontrivial valuations } v\in K \st v(x) \geq 0\, \forall x\in k\units}
,\]
which will be the points on the curve.
Here the Zariski topology will be the cofinite topology (which is not Hausdorff).
Scheme-theoretically, this is exactly the set of closed points on the curve.

:::{.definition title="?"}
Generic point: closure is entire space.
:::

> Note we will have unique models for curves, but this won't be the case for surfaces: blowing up a point will yield a birational but inequivalent surface.

From this we can also define *divisor group* as the free $\ZZ\dash$module on $\Sigma(K/k)$, which comes with a degree map
\[  
\deg: \Div(K) \to \ZZ
\]
which need not be surjective.

We can consider principle divisors with the map
\[  
K\units &\to \Div(K) \\
f &\mapsto (f)
.\]

We can define the class group as divisors modulo principle divisors $\cl(K) = \Div(K) / \im(K\units)$ and the Riemann-Roch space $\mathcal{L}(D)$.
The Riemann-Roch theorem will then be a statement about $\dim \mathcal{L}(D)$.




# Friday, August 28

## Field Theory

See Chapter 11 of Field Theory notes.

### Notion 1
:::{.definition title="Finitely Generated Field Extension"}
A field extension $\ell/k$ is *finitely generated* if there exists a finite set $x_1, \cdots, x_n \in \ell$ such that $\ell = k(x_1, \cdots, x_n)$ and $\ell$ is the smallest field extension of $k$.

Concretely, every element of $\ell$ is a quotient of the form ${p(x_1, \cdots, x_n) \over q(x_1, \cdots, x_n)}$ with $p, q\in k[x_1, \cdots, x_n]$.
:::

There are three different notions of finite generation for fields, the above is the weakest.

### Notion 2
The second is being finitely generated as an algebra:

:::{.definition title="Finitely Generated Algebras"}
For $R\subset S$ finitely generated algebras, $S$ is finitely generated over $R$ if every element of $S$ is a polynomial in $x_1, \cdots, x_n$, with coefficients in $R$, i.e. $S = R[x_1, \cdots, x_n]$.
:::

Note that this implies the previous definition, since anything that is a polynomial is also a quotient of polynomials.

### Notion 3

The final notion: $\ell/k$ is finite (finite degree) if $\ell$ is finitely generated as a $k\dash$module, i.e. a finite-dimensional $k\dash$vector space.


:::{.definition title="Rational Function Field"}
A *rational function field* is $k(t_1, \cdots, t_n) \da ff \qty{ k[t_1, \cdots, t_n]}$.
:::

Note that we can make a similar definition for infinitely many generators by taking a direct limit (here: union), and in fact every element will only involve finitely many generators.

:::{.exercise}
\hfill
a. Show $k(t) / k$ is finitely generated by notion (3) but not by (2).

b. Show that $k[t]/k$ is (2) but not (1).

  > Note $k[t]$ is not a field.

c. Show that it is not possible for a **field** extension to satisfy (2) but not (1).
  
  > Hint: Zariski's lemma.

d. Show that if $\ell/k$ is finitely generated by (3) and algebraic, then it satisfies (1).
:::


:::{.theorem title="Field Theory Notes 11.19"}
If $L/K/F$ are field extensions, then $L/F$ is finitely generated $\iff$ $K/F$ and $L/K$ are finitely generated.
:::

> See Artin-Tate Lemma, this doesn't necessarily hold for general rings.

:::{.definition title="Algebraically Independent"}
For $\ell/k$, a subset $\ts{x_i}\subset \ell$ is *algebraically independent* over $k$ if no finite subset satisfies a nonzero polynomial with $k$ coefficients.

In this case, $k[\ts{x_i}] / k$ is *purely transcendental* as a rational function field.
:::

:::{.theorem title="?"}
For $\ell/k$ a field extension,

a. There exists a subset $\ts{x_i}\subset \ell$ algebraically independent over $k$ such that $\ell/k(\ts{x_i})$ is algebraic. 

b. If $\ts{y_t}$ is another set of algebraically independent elements such that $\ell/k(\ts{y_t})$ is algebraic, then $\abs{\ts{x_i}} = \abs{\ts{y_t}}$.
:::

Thus every field extension is algebraic over a purely transcendental extension.
A subset as above is called a *transcendence basis*, and every 2 such bases have the same cardinality.

We have a notion of generation (similar to "spanning"), independence, and bases, so there are analogies to linear algebra (e.g. every vector space has a basis, any two have the same cardinality).
There is a common generalization: matroids.

:::{.definition title="Transcendence Degree"}
The *transcendence degree* of $\ell/k$ is the cardinality of any transcendence basis.

> Analogy: dimension in linear algebra.
:::

:::{.theorem title="Transcendence Degree is Additive in Towers"}
If $L/K/F$ are fields then $\trdeg(L/F) = \trdeg(K/F) + \trdeg(L/K)$.
:::

:::{.theorem title="Bounds on Transcendence Degree"}
Let $K/k$ be finitely degenerated, so $K = k(x_1, \cdots, x_n)$.
Then $\trdeg(K/k) \leq n$, with equality iff $K/k$ is purely transcendental.
:::

:::{.proof}
Suppose $K$ is monogenic, i.e. generated by one element. Then $\trdeg(F(x)/F) = \indic{x/F\text{ is transcendental}}$.

So the degree increases when a transcendental element is added, and doesn't change when $x$ is algebraic.

By additivity in towers, we take $k \injects k(x_1) \injects k(x_1, x_2) \injects \cdots \injects k(x_1, \cdots, x)n) = K$ to obtain a chain of length $n$. 
The transcendence degree is thus the number of indices $i$ such that $x_i$ is transcendental over $k(x_1, \cdots, x_{i-1})$.

> Similar to checking if a vector is in the span of a collection of previous vectors.

:::

:::{.definition title="Function Fields"}
For $d\in\ZZ^{\geq 0}$, an extension $K/k$ is *a function field in $d$ variables* (i.e. of dimension $d$) if $K/k$ is finitely generated of transcendence degree $d$.
:::

The study of such fields is birational geometry over the ground field $k$.
$k=\CC$ is of modern interest, things get more difficult in other fields.

The case of $d=1$ is much easier: the function field will itself be the geometric object and everything will built from that.

Main tool: valuation theory, which will correspond to points on the curve.

## Case Study: The Luroth Problem.

For which fields $k$ and $d\in \ZZ^{\geq 0}$ is it true that if $k \subset \ell \subset k(t_1, \cdots, t_d)$ with $k(t_1 ,\cdots, t_d)/\ell$ finite then $\ell$ is purely transcendental?


:::{.theorem title="Luroth"}
True for $d=1$: For any $k\subset \ell \subset k(t)$, $\ell = k(x)$.
:::

:::{.theorem title="Castelnuovo"}
Also true for $d=2, k=\CC$.
:::

:::{.theorem title="Zariski"}
No if $d= 2$, $k=\bar k$, and $k$ is positive characteristic.
Also no if $d=2, k\neq \bar k$ in characteristic zero.
:::

:::{.theorem title="Clemens-Griffiths"}
No if $d\geq 3$ and $k= \CC$.
:::

> Unirational need not imply rational for varieties.

:::{.exercise}
Let $k$ be a field, $G$ a finite group with $G\injects S_n$ the Cayley embedding.
Then $S_n$ acts by permutation of variables on $k(t_1, \cdots, t_n)$, thus so does $G$.
Set $\ell \da k(t_1, \cdots, t_n)^G$ the fixed field, then by Artin's observation in Galois theory: if you have a finite field acting effectively by automorphisms on a field then taking the fixed field yields a galois extension with automorphism group $G$.

So $\aut(k(t_1, \cdots, t_n)/ \ell) = G$.A

a. Suppose $k=\QQ$, and show that an affirmative answer to the Luroth problem implies an affirmative answer to the inverse galois problem for $\QQ$.

  > Hint: works for any field for which Hilbert's Irreducibility Theorem holds.

b. $\ell /\QQ$ need not be a rational function field, explore the literature on this: first example due to Swan with $\abs{G} = 47$.

c. Can still give many positive examples using the Shepherd-Todd Theorem.
:::

\todo[inline]{What's a global field?}

## Onto Business

:::{.definition title="?"}
For $K/k$ a field extension, set $\kappa(K)$ to be the algebraic closure of $k$ in $K$, i.e. special case of *integral closure*.
If $K/k$ is finitely generated, then $\kappa(K)/k$ is finite degree.

Here $\kappa(k)$ is called the *field of constants*, and $K$ is also a function field over $\kappa(k)$.
:::

In practice, we don't want $\kappa(k)$ to be a proper extension of $k$. 

If this isn't the case, we replace considering $K/k$ by $K/\kappa(k)$.
If $K/k$ is finitely generated, then

\begin{center}
\begin{tikzcd}
k \arrow[rr, "\text{finite}", hook] &  & \kappa(k) \arrow[rr, "\text{finitely generated}", hook] &  & K
\end{tikzcd}
\end{center}

Where we use the fact that from above, $\kappa(k)/k$ is finitely generated and algebraic and thus finite, and by a previous theorem, if $K/k$ is transcendental then $K/\kappa(k)$ is as well, and thus finitely generated.

Thus if you have a function field over $k$, you can replace $k$ by $\kappa(k)$ and regard $K$ as a function field over $\kappa(k)$ instead.


















# Sunday, August 30

## Base Extension

Given some object $A/k$ and $k\injects \ell$ is a field extension, we would like some extended object $A/\ell$.

:::{.example}
An *affine variety* $V/k$ is given by finitely many polynomials in $p_i \in k[t_1, \cdots, t_n]$, and base extension comes from the map $k[t_1, \cdots, t_n] \injects \ell[t_1, \cdots, t_n]$.

More algebraically, we have the affine coordinate ring over $k$ given by $k[V] = k[t_1,\cdots, t_n]/\gens{p_i}$, the ring of polynomial functions on the zero locus corresponding to this variety.
We can similarly replace $k$ be $\ell$ in this definition.
Here we can observe that $\ell[V] \cong k[V] \tensor_k \ell$.

:::

In general we have a map
\[  
\wait \tensor_k \ell & \\
\ts{k\dash\text{vector spaces}} &\to \ts{\ell\dash\text{vector spaces}} \\
\ts{k\dash\text{algebras}} &\to\ts{\ell\dash\text{algebras}}
.\]

Note that this will be an exact functor on the category $k\dash\text{Vect}$, i.e. $\ell$ is a flat module.
Here everything is free, and free $\implies$ flat, so things work out nicely.

What about for function fields?

Since $k$ is a $k\dash$algebra, we can consider $k\tensor_k \ell$, however this need not be a field.

> Note: tensor products of fields come up very often, but don't seem to be explicitly covered in classes!
  We'll broach this subject here.

:::{.exercise}
If $\ell/k$ is algebraic and $\ell\tensor_k \ell$ is a domain, the $\ell = k$.

> I.e. this is rarely a domain.
> Hint: start with the monogenic case, and also reduce to the case where the extension is not just algebraic but finite.

:::

Tensor products of field extensions are still interesting: if $\ell/k$ is finite, it is galois $\iff$ $\ell \tensor_k \ell \cong \ell^{[\ell: k]}$.
So its dimension as an $\ell\dash$algebra is equal to the degree of $\ell/k$, so it splits as a product of copies of $\ell$.

:::{.remark}
We'd like the tensor product of a field to be a field, or at least a domain where we can take the fraction field and get a field.
This hints that we should not be tensoring algebraic extensions, but rather transcendental ones.
:::

:::{.exercise}
For $\ell/k$ a field extension,

a. Show $k(t) \tensor_k \ell$ is a domain with fraction field $\ell(t)$.

b. Show it is a field $\iff$ $\ell/k$ is algebraic.

:::

:::{.proposition title="FT 12.7, 12.8"}
Let $k_1, k_2 / k$ are field extensions, and suppose $k_1 \tensor_k k_2$ is a domain.
Then this is a field $\iff$ at least one of $k_1/k$ or $k_2/k$ is algebraic.
:::

> Reminder: for $\ell/k$ and $\alpha\in \ell$ algebraic over $k$, then $k(\alpha) = k[\alpha]$.

So we'll concentrate on when $K \tensor_k \ell$ is a domain.
What's the condition on a function field $K/k$ that guarantees this, i.e. when extending scalars from $k$ to $\ell$ still yields a domain?
If this remains a domain, we'll take the fraction field and call it the *base change*.

:::{.exercise}
If $K/k$ is finitely generated (i.e. a function field) and $K\tensor_k \ell$ is a domain, then $ff(K\tensor_k \ell)/\ell$ is finitely generated.

> The point: if taking a function field and extending scalars still results in a domain, we'll call the result a function field as well.
:::

Most of all, we want to base change to the algebraic closure.
We'll have issues if the constant field is not just $k$ itself:

:::{.lemma}
If $K\tensor_k \bar k$ is a domain, then the constant field $\kappa(k) = k$.

:::

:::{.proof}
Use the fact that $\wait \tensor_k V$ is exact.
We then get an injection
\begin{center}
\begin{tikzcd}
\kappa(k) \tensor_k \kappa(k) \ar[rr, hookrightarrow]\ar[rd, hookrightarrow] & &
K \tensor_k \bar k \\
& \kappa(k) \tensor_k \bar k\ar[ru, hookrightarrow] & 
\end{tikzcd} 
\end{center}
Here we use the injections $\kappa(k) \injects \bar k$ and $\kappa(k) \injects K$.

We now have an injection of $k\dash$algebras, and subrings of domains are domains. 
So apply the first exercise: the only way this can happen is if $\kappa(k) = k$.
:::


:::{.exercise}
The simplest possible case: describe $\CC(t) \tensor_\RR \CC$, tensored as $\RR\dash$algebras.

> Won't be a domain by the lemma, some $\CC(t)\dash$algebra of dimension 2.
:::

In order to have a good base change for our function fields, we want to constant extension to be trivial, i.e. $\kappa(k) = k$. 
This requires that the ground field be algebraically closed.

In this case, you might expect that extending scalars to the algebraic closure would yield a field again.
This is true in characteristic zero, but false in positive characteristic.

A more precise question: if $\kappa(k) = k$, must $K\tensor_K \bar k$ be a field?
If that's true and we're in positive characteristic, recalling the for an algebraic extension this being a field is equivalent to it being a domain. 
But if that's a domain, the tensor product of every algebraic extension must be a domain, which is why this is an important case.

If so, then $K\tensor_k k^{1\over p}$ is a field, where $k^{1\over p} \da k(\ts{x^{1\over p} \st x\in k })$ is obtained by adjoining all $p$th roots of all elements.
This is a purely inseparable extension.
The latter condition (this tensor product being a field) is one of several equivalent conditions for a field to be separable.

> Note that frobenius maps $k^{1\over p} \surjects k$, so this is sort of like inverting this map.

Remember that $K/k$ is transcendental, and there is an extended notion of separability for non-algebraic extensions.
Another equivalent condition is that every finitely generated subextension is separably generated, i.e. it admits a transcendence basis $\ts{x_i}$ such that $k\injects k(\ts{x_i}) \injects F$ where $F/k(\ts{x_i})$ is algebraic and separable.
Such a transcendence basis is called a *separating transcendence basis*.
Since we're only looking at finitely generated extensions, we wont' have to worry much about the difference between separable and separably generated.

What's the point? 
There's an extra technical condition to ensure the base change is a field: the function field being separable over the ground field.

Is this necessarily the case if $\kappa(k) = k$? 
No, for a technical reason:

:::{.warning}
This is pretty technical, yo.
:::

:::{.example}
\label{technical_example} 
Set $k = \FF_p(a, b)$ a rational function field in two variables sa the ground field.
Set 
\[  
A \da k[x, y]/ \gens{ax^p + b-y^b}
.\]
Then $A$ is a domain, so set $k = ff(A)$.

Claim: $\kappa(k) = k$, so $k$ is algebraically closed in this extension, but $K/k$ is *not* separable.
How to show: extending scalars to $k^{1\over p}$ does not yield a domain.

Let $\alpha, \beta \in \bar k$ such that $\alpha^p = a, \beta^b = b$, so
\[  
ax^p + b-y^b = (\alpha x + \beta - y)^p
,\]
which implies $K \tensor_k  k^{1\over p}$ is not a domain: $k[x, y]$ is a UFD, so the quotient of a polynomial is a domain iff the polynomial is irreducible.
However, the $p$th power map is a homomorphism, and this exhibits the image of the defining polynomial as something non-irreducible.
:::

Note that $f(x, y) = ax^p + b - y^p$ is the curve in this situation.
The one variable function field is defined by quotienting out a function in two variables and taking the function field.
Every 1-variable function field can be obtained in this way.
Therefore this polynomial is irreducible, but becomes reducible over the algebraic closure.
So we'd like the polynomial to be irreducible over both.

:::{.remark}
This is pretty technical, but we won't have to worry if $k = k^{1\over p}$. 
Equivalently, frobenius is surjective on $k$, i.e. $k$ is a perfect field.

If $k$ is not perfect, it can happen (famous paper of Tate) making an inseparable base extension can decrease the genus of the curve.
:::

Reminder: the perfect fields:

- Anything characteristic zero, every reducible polynomial is separable.
- Any algebraically closed field 
- Finite fields (frobenius is always injective)

Imperfect fields include:

- Function fields in characteristic $p$
- Complete discretely valued fields $k((t))$ in characteristic $p$

\todo[inline]{Look up uniformizing elements and valuations.}

:::{.theorem title="FT 12.20"}
For field extensions $K/k$, TFAE

1. $\kappa(k) = k$ and $K/k$ is separable

2. $K\tensor_k \bar k$ is a domain, or equivalently a field

3. For all field extensions $\ell/k$, $K\tensor_k \ell$ is a domain.

> Allows making not just an algebraic base change, but a totally arbitrary one.
:::

A field extension satisfying these conditions is called **regular**.

> Regular corresponds to nonsingularity in this neck of the woods.

:::{.remark}
The implication $2\implies 3$ is the interesting one.
To prove it, reduces to showing that if $k= \bar k$ and $R_i$ are domains that are finitely generated as $k\dash$algebras, then $R_1 \tensor_k R_2$ is also a domain.

This doesn't always happen, e.g. $\QQ(\sqrt{2}) \tensor_\QQ \QQ(\sqrt{2})$ is not a domain.
Really need algebraically closed.

This is a result in affine algebraic geometry.
An algebra that is a domain and finitely generated over a field is an *affine algebraic variety*, more precisely it is integral.
The tensor product on the coordinate ring side corresponds to taking the product of varieties.

Thus the fact here is that a product of integral varieties remains integral, as long as you're over an algebraically closed field.
Proof uses Hilbert's Nullstellensatz.
:::


:::{.exercise}
\hfill

a. Show that $k(t) / k$ is regular.

  > I.e. $k(t)\tensor_k \bar k$ is a domain.

b. Show every purely transcendental extension is regular.

c. Show that for a field $k$, every extension is regular $\iff$ $k = \bar k$.

d. Show $K/k$ is regular $\iff$ every finitely generated subextension is regular.
:::

## Example of a Non-Regular Family of Function Fields

Choose an elliptic curve $E/\QQ(t)$ with $j\dash$invariant $t$.
For $N\in \ZZ^{+}$, define $\tilde K_N \da \QQ(t)(E[N])$ the $N\dash$torsion field of $E$.

Then $\tilde K_N/\QQ(t)$ is a finite galois extension with galois group isomorphic to the image of the modular galois representation 
\[  
\rho_N: g(\QQ(t)) \to \GL(2, \ZZ/N\ZZ) \mod N
.\]

> See Cornell-Silverman-Stevens covering the proof of FLT, modular curves from the function field perspective.

:::{.proposition title="Some Facts"}
$\rho_N$ is surjective, and 
\[  
\Aut(\tilde K_N / \QQ(t))  \cong \GL(2, \ZZ/N\ZZ)
.\]

$\det \rho_N = \chi_N \mod N$, the cyclotomic character, and therefore $\chi_N$ restricted to $g(\tilde K_N)$ is trivial, so $\tilde K_N \supset \QQ(\zeta_N)$.
For $N\geq 3$, $\QQ(\zeta_N) \supsetneq \QQ$, so $\tilde K_N / \QQ(t)$ is a non-regular function field.
:::

Actually $\tilde K_N$ depends on the choice of $E$: difference choices of nonisomorphic curves with the same $j\dash$invariant differ by a quadratic twist and the $\rho_N$ differ by a quadratic character on $g(\QQ(t))$.
Importantly, this changes the kernel, and thus the field.

To fix this, we look at the *reduced galois representation*, the following composition:
\[  
\bar \rho_N: g(\QQ(t)) \to \GL(2, \ZZ/N\ZZ) \surjects \GL(2, \ZZ/N\ZZ)/\ts{\pm I}
.\]

We obtain a field theory diagram
\begin{center}
\begin{tikzcd}
\ar[dd, bend right, "{\GL(2, \ZZ/N\ZZ)}"'] \bar K_N \ar[d, bend left, "\ts{\pm I}"] &\\
K_N \ar[d, bend left, "{\GL(2, \ZZ/N\ZZ)/\ts{\pm I}}"] &\\
\QQ(t)&
\end{tikzcd}
\end{center}

So if you just take the field fixed by $\pm I$, you get $K_N$.
In this case, the reduced galois representation depends only on the $j\dash$invariant, and not on the model chosen.
So the function field $K_N/\QQ(t)$ is the "canonical" choice.

Question:
Does this make $K_N/\QQ(t)$ regular?

Answer:
No, $\rho_N(g(K_N)) = \ts{\pm I}$ and $\det(\pm I) = 1$, so we still have $K_N \supset \QQ(\zeta_N)$.

In this course, we'll identify algebraic curves over $k$ and one-variable function fields $K/k$.
The function field $K_N$ corresponds to an algebraic curve $X(N)/\QQ$ that is "nicer" over $\QQ(\zeta_N)$.
In fact, see Rohrlich: $\kappa(K_N) = \QQ(\zeta_N)$.

Our curves will have points (equal to valuations) which will have degrees. 
If the constant subfield is not just $k$, this prevents degree 1 points on the curve.

By Galois theory, for every subgroup $H \subseteq \GL(2, \ZZ/N\ZZ) / \ts{\pm I}$, we'll get a function field $\QQ(H) \da H_N^H$.
In this case, $\QQ(H)/\QQ$ is regular $\iff$ $\det(H) = (\ZZ/N\ZZ)\units$.

Later we'll understand the residues at points as the residue fields of some DVRs, then the residue field will always contain the field of constants.








# Sunday, August 30

Last of preliminaries.
Upcoming: one-variable function fields and their valuation rings.


## Polynomials Defining Regular Function Fields
Where's the curve: $f(x, y) = 0$.

:::{.exercise}
Let $R_1, R_2$ be $k\dash$algebras that are also domains with fraction fields $K_i$.
Show $R_1 \tensor_k R_2$ is a domain $\iff$ $K_1 \tensor_k K_2$ is a domain.

> Denominator-clearing argument.
:::

:::{.definition title="Geometrically Irreducible"}
A polynomial of positive degree $f\in k[t_1, \cdots, t_n]$ is *geometrically irreducible* if $f\in \bar k[t_1, \cdots, t_n]$ is irreducible as a polynomial.
:::

If $n=1$ then $f$ is geometrically irreducible $\iff$ it's linear, i.e. of degree 1.

Let $f$ be irreducible, then since polynomial rings are UFDs then $\gens{f}$ is a prime ideal (irreducibles generate principal ideals) and $k[t_1, \cdots, t_n]/\gens{f}$ is a domain.
Let $K_f$ be the fraction field.

:::{.exercise}
Easy:

a. Above for $1\leq i \leq n$ let $x_i$ be the image of $t_i$ in $K_f$.
  Show that $K_f = k(x_1, \cdots, x_n)$.

b. Show that if $K/k$ is generated by $x_1, \cdots, x_n$, then it is the fraction field of $k[t_1, \cdots, t_n] /\mfp$ for some prime ideal $\mfp$ (equivalently, a height 1 ideal).
:::

:::{.proposition title="?"}
Suppose that $f$ is geometrically irreducible.

a. The function field $K/k$ is regular.

b. For all $\ell/k$, $f\in \ell[t_1, \cdots, t_n]$ is irreducible.

  > In this case we say $f$ is *absolutely irreducible* as a synonym for geometrically irreducible.
:::


:::{.proof}
By definition of geometric irreducibility, $\bar k[t_1, \cdots, t_n]/\gens{f} = k[t_1, \cdots, t_n]/\gens{f} \tensor_k \bar k$ is a domain.
The exercise shows that $K_f \tensor_k k$ is a domain, so $K_f$ is regular.

It follows that for all $\ell/k$, $K_f \tensor_k \ell$ is a domain, so $\ell[t_1, \cdots, t_n]/\gens{f}$ is a domain.

:::

Moral: geometrically irreducible polynomials are good sources of regular function fields.

:::{.exercise}
Let $k$ be a field, $d\in \ZZ^+$ such that $4\notdivides d$ and $p(x) \in k[x]$ be positive degree.
Factor $p(x) = \prod_{i=1}^r (x-a_i)^{\ell_i}$ in $\bar k[x]$.

a. Suppose that for some $i$, $d\notdivides \ell_i$. 
  Show that $f(x, y) \da y^d - p(x) \in k[x, y]$ is geometrically irreducible.
  Conclude that $K_f \da ff\qty{k[x, y] / \gens{y^d - p(x)}}$ is a regular one-variable function field over $k$, and thus elliptic curves yield regular function fields.

  > Referred to as *hyperelliptic* or *superelliptic* function fields.
  > Hint: use FT 9.21 or Lang's Algebra.

b. What happens when $4\divides d$?
:::


:::{.exercise title="Nice, Recommended"}
Assume $k$ is a field, if necessary assuming $\ch(k) \neq 2$.

a. Let $f(x, y) = x^2 - y^2 -1$ and show $K_f$ is is rational: $K_f = k(z)$.

b. Let $f(x, y) = x^2 + y^2 - 1$.
  Show that $K_f$ is again rational.

c. Let $k = \CC$ and $f(x, y) = x^2 + y^2 + 1$, $K_f$ is rational.

d. Let $k= \RR$.
  For $f(x ,y) = x^2 + y^2 + 1$, is $K_f$ rational?

> Example of a non-rational genus zero function field.

:::

Question (converse):
Can we always construct regular function fields using geometrically irreducible polynomials?

Answer:
In several variables, no, since not every variety is birational to a hypersurface.

In one variable, yes:

:::{.theorem title="Regular Function Fields in One Variable are Geometrically Irreducible"}
Let $K/k$ be a one variable function fields (finitely generated, transcendence degree one). 
Then

a. If $K/k$ is separable, then $K = k(x, y)$ for some $x, y\in K$.

b. If $K/k$ is regular (separable + constant subfield is $k$, so stronger) then $K \cong K_f$ for a geometrically irreducible $f\in k[x ,y]$.
:::

:::{.proof}
Recall separable implies there exists a separating transcendence basis.

Proof of (a):

This means there exists a primitive element $x\in K$ such that $K/k(x)$ is finite and separable.
By the Primitive Element Corollary (FT 7.2), there exist a $y\in K$ such that $K = k(x, y)$.

Proof of (b):

Omitted for now, slightly technical.
:::

Importance of last result: a regular function field on one variable corresponds to a nice geometrically irreducible polynomial $f$.

> Note: the plane curve module may not be smooth, and in fact usually is not possible.
I.e. $k[x ,y]/\gens{f}$ is a one-dimensional noetherian domain, which need not be integrally closed.

Question:
Can every one variable function field be 2-generated?

Answer:
Yes, as long as the ground field is perfect.
In positive characteristic, the suspicion is no: there exists finite inseparable extensions $\ell/k$ that need arbitrarily many generators.

However, what if $K/k$ has constant field $k$ but is not separable?
Riemann-Roch may have something to say about this.

:::{.example}
\hyperref[technical_example]{Example from earlier lecture:}
$ax^p + b - y^b$
:::


Moral: look for examples of nice function fields by taking irreducible polynomials in two variables.
This will define a one-variable function field.
If the polynomial is geometrical reducible, this produces regular function fields.

Next:
One variable function fields and their valuations.






