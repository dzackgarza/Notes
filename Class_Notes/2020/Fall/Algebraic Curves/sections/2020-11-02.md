# Lecture 14: Monday, November 02

Recall the that *Hasse-Weil zeta function* of a one-variable function field $K/\FF_q$ over a finite ground field is defined in the following way: 
let $A_n = A_n(K)$ be the number of effective divisors of degree $n$.
We have proved that $A_n$ is finite, and for $n>2g-2$ we have a formula
\[  
Z(t) = \sum_{n=0}^\infty A_n t^n
= \sum_{D\in \Div^+(K)} t^{\deg(D)} \in \ZZ[[t]]
,\]
which is a formal power series with integer coefficients.

:::{.remark}
Recall that we have proved that it is a rational function of $t$, and in particular when $g=0, \delta = 1$
[^delta_def_reminder] we get
\[  
Z(t) = {1 \over (1-qt)(1-t)}
.\]

We got another expression which isn't fantastic: it involves this $\delta$, which we'll work toward proving is equal to 1.
When $g>1$, we broke the zeta function into two pieces $Z(t) = F(t) + G(t)$.
For divisors of sufficiently high degree, Riemann-Roch tells you what the dimension of the Riemann-Roch space is, and $G(t)$ explains the part coming from divisors of large degree.
We obtained a formula previously for $F(t)$ and $G(t)$, and once we show $\delta=1$ the formula for $G$ will simplify.
For $F(t)$, we specifically had
\[  
F(t) = {1\over q-1} \sum_{0\leq \deg(c) \leq 2g-2} q^{\ell(c) t^{\deg(c)}}
,\]
where the sum is over divisor classes and $\ell$ is the dimension of linear system corresponding to a divisor.
But this isn't a great formula: what are these classes, dhow many are in each degree, and what is the dimension of the Riemann-Roch space?

[^delta_def_reminder]: The *index* of the function field, least positive degree of a divisor.

:::

:::{.remark}
This is analogous to the Dedekind zeta function of a number field $K$, in which case
\[  
\zeta_K(s) = \sum_{T\in \ell(\ZZ_k)}^\bullet \abs{\ZZ_k/I}^{-s}
,\]
which will be covered in a separate lecture on *Serre zeta functions*.
:::

:::{.theorem title="F.K. Schmidt"}
For all $K/\FF_q$, we have $\delta = I(K) = 1$ where $I$ is the index.
:::

This will follow from the associated, but it much weaker.
However, this is one of the facts we'd like to establish to use to *prove* the Riemann hypothesis.

:::{.remark}
Pete studied this in 2004 and found that every $I\in \ZZ^+$ arises as the index of a genus one function field $K/\QQ$.
:::

Notation: for $n\in\ZZ^+$, let $\mu_n$ denote the $n$th roots of unity in $\CC$.

:::{.lemma title="?"}
For $m, r\in \ZZ^+$, set $d \da \gcd(m, r)$.
Then
\[  
\qty{1-t^{mr/d}}^d = \prod_{\xi\in \mu_r}  1 - (\xi t)^m
.\]
:::

:::{.proof title="?"}
In $\CC[x]$, we  have
\[  
(X^{r/1} - 1)^d = \prod_{\xi\in \mu_r}(X - \xi^m)
,\]
where both sides are monic polynomials whose roots include the $(r/d)$th roots of unity, each with multiplicity $d$.
On the LHS, the distinct roots are the $r/d$th roots of unity, then raising to the $d$th power gives them multiplicity $d$.
On the RHS, this is an exercise in cyclic groups: consider the $n$th power map on $\ZZ/r\ZZ$ and compute its image and kernel.
As $\xi$ ranges over $r$th roots of unity, $\xi^m$ ranges over all $r/d$th roots of unity, each occurring with multiplicity $d$.

Substituting $X= t^{-m}$ and multiplying both sides by $t^r$ yields the original result.


> Special case: set $m=r$, so $d=r$, then the RHS is $r$ copies of 1.

:::

Next up, we want to compare the zeta function $Z(t)$ for a function field over $\FF_q$ to the zeta function obtained when extending scalars to $\QQ^r$.

:::{.proposition title="Factorization identity for the zeta function"}
Let $K/\FF_q$ be a function field, $r\in \ZZ^+$, and take the compositum $K_r$ of $K$ and $\FF_q^r$ viewed as a function field over $\FF_q^r$.
Let $Z(t)$ be the zeta function of $K/\FF_q$ and $Z_r(t)$ the zeta function of $K_r/\FF_q^r$.
Then
\[  
Z_r(t^r) = \prod_{\xi \in \mu_r} Z(\xi t)
.\]
:::

:::{.proof title="?"}
We have an Euler product formula
\[  
Z(t) = \prod_{p\in \Sigma(K/\FF_q)} (1 - t^{\deg(p)})^{-1} 
.\]
where the sum is over places of the function field.

> Proving this Euler product formula might show up in a separate lecture, but it is not any more difficult than proving it for the Riemann zeta function.

:::{.exercise title="?"}
Why is this product expansion true?
Write as a geometric series with ratio $t^{\deg(p)}$.
Here just expand each summand to get 
\[  
Z(t) = \prod_p \sum_{j=1}^\infty t^{j\deg(p)}
.\]
Multiplying this out and collecting terms is in effect multiplying out the prime divisors to get effective divisors.
:::

We now use the result about splitting that was stated (but not proved): 

:::{.claim}
If $p\in \Sigma_m(K/\FF_q)$ is a degree $n$ place and $r\in \ZZ^+$, then there exist precisely $d\da \gcd(m, r)$places $p^r$ of $K_r$ lying over $p$. 
Moreover, each place $p^r$ has degree $m/d$.
:::

In order to compare $Z_r(t)$ to $Z(t)$, we collect the $p'$ into ones that have the same fiber.
We then can range over all $p$ first, then over all $p'$ in the fiber above $p$, yielding
\[  
Z_r(t^r) = \prod_{p\in \Sigma(K_{/\FF_q})} \prod_{p'/p} {1 \over 1 - t^{r\deg(p')}}
.\]

Using the Euler product identity, we have for $p\in \Sigma_m(K_{/\FF_q})$ and $d\da \gcd(m, r)$ we can express the innermost product as

\[  
\prod_{p'/p} {1 \over 1 - t^{r\deg(p')}} = (1 - t^{rm/d})^{-d} = \prod_{\xi\in \mu_r} (1- (\xi t)^m)^{-1}
,\]
where we've used the fact that we know there are exactly $d$ places and each contributes the same degree in the first expression.
By using $-d$ in the previous lemma, we get the last term.
Combining all of this yields
\[  
Z_r(t^r) 
= \prod_{\xi \in \mu_r} \prod_{p\in \Sigma(K_{/\FF_q})} (1- (\xi t)^{\deg p})^{-1} 
= \prod_{\xi \in \mu_r} Z(\xi t)
.\]
:::


:::{.remark}
Similar to taking an abelian extension of number fields and noting that the Dedekind zeta function factors into a finite product: the original zeta function, and in general, Hecke $L$ functions.
If you do this for an abelian number field over $\QQ$, then the Dedekind zeta function of the upstairs number field will be a finite product where one of the terms in the Riemann zeta function and the others are Dirichlet $L$ functions associated to certain Dirichlet characters.
So this is some (perhaps simpler) version of that.
:::

We can finally prove Schmidt's theorem that $\delta = 1$.

:::{.proof title="$\delta = 1$"}
Take a $d$th root of unity $\xi \in \mu_d$.
Then for all places $p \in \Sigma(K_{/\FF_q})$ and all $\delta$ dividing $\deg p$, we have
\[  
Z(\xi t) 
= \prod_{p\in \Sigma(K_{/\FF_q})} (q - (\xi t)^{\deg p} )^{-1} 
= \prod_{p\in \Sigma_{K_{\FF_q}}} {1 \over 1 - t^{\deg p}} = Z(t)
.\]

:::
