# Sunday, August 30

## Base Extension

Given some object $A/k$ and $k\injects \ell$ is a field extension, we would like some extended object $A/\ell$.

:::{.example}
An *affine variety* $V/k$ is given by finitely many polynomials in $p_i \in k[t_1, \cdots, t_n]$, and base extension comes from the map $k[t_1, \cdots, t_n] \injects \ell[t_1, \cdots, t_n]$.

More algebraically, we have the affine coordinate ring over $k$ given by $k[V] = k[t_1,\cdots, t_n]/\gens{p_i}$, the ring of polynomial functions on the zero locus corresponding to this variety.
We can similarly replace $k$ be $\ell$ in this definition.
Here we can observe that $\ell[V] \cong k[V] \tensor_k \ell$.

:::

In general we have a map
\[  
\wait \tensor_k \ell & \\
\ts{k\dash\text{vector space}} &\to \ts{\ell\dash\text{vector spaces}} \\
\ts{k\dash\text{algebras}} &\to\ts{\ell\dash\text{algebras}}
.\]

Note that this will be an exact functor on the category $k\dash\text{Vect}$, i.e. $\ell$ is a flat module.
Here everything is free, and free $\implies$ flat, so things work out nicely.

What about for function fields?

Since $k$ is a $k\dash$algebra, we can consider $k\tensor_k \ell$, however this need not be a field.

> Note: tensor products of fields come up very often, but don't seem to be explicitly covered in classes!
  We'll broach this subject here.

:::{.exercise}
If $\ell/k$ is algebraic and $\ell\tensor_k \ell$ is a domain, the $\ell = k$.

> I.e. this is rarely a domain.
> Hint: start with the monogenic case, and also reduce to the case where the extension is not just algebraic but finite.

:::

Tensor products of field extensions are still interesting: if $\ell/k$ is finite, it is galois $\iff$ $\ell \tensor_k \ell \cong \ell^{[\ell: k]}$.
So its dimension as an $\ell\dash$algebra is equal to the degree of $\ell/k$, so it splits as a product of copies of $\ell$.

:::{.remark}
We'd like the tensor product of a field to be a field, or at least a domain where we can take the fraction field and get a field.
This hints that we should not be tensoring algebraic extensions, but rather transcendental ones.
:::

:::{.exercise}
For $\ell/k$ a field extension,

a. Show $k(t) \tensor_k \ell$ is a domain with fraction field $\ell(t)$.

b. Show it is a field $\iff$ $\ell/k$ is algebraic.

:::

:::{.proposition title="FT 12.7, 12.8"}
Let $k_1, k_2 / k$ are field extensions, and suppose $k_1 \tensor_k k_2$ is a domain.
Then this is a field $\iff$ at least one of $k_1/k$ or $k_2/k$ is algebraic.
:::

> Reminder: for $\ell/k$ and $\alpha\in \ell$ algebraic over $k$, then $k(\alpha) = k[\alpha]$.

So we'll concentrate on when $K \tensor_k \ell$ is a domain.
What's the condition on a function field $K/k$ that guarantees this, i.e. when extending scalars from $k$ to $\ell$ still yields a domain?
If this remains a domain, we'll take the fraction field and call it the *base change*.

:::{.exercise}
If $K/k$ is finitely generated (i.e. a function field) and $K\tensor_k \ell$ is a domain, then $ff(K\tensor_k \ell)/\ell$ is finitely generated.

> The point: if taking a function field and extending scalars still results in a domain, we'll call the result a function field as well.
:::

Most of all, we want to base change to the algebraic closure.
We'll have issues if the constant field is not just $k$ itself:

:::{.lemma}
If $K\tensor_k \bar k$ is a domain, then the constant field $\kappa(K) = k$.

:::

:::{.proof}
Use the fact that $\wait \tensor_k V$ is exact.
We then get an injection
\begin{center}
\begin{tikzcd}
\kappa(K) \tensor_k \kappa(K) \ar[rr, hookrightarrow]\ar[rd, hookrightarrow] & &
K \tensor_k \bar k \\
& \kappa(K) \tensor_k \bar k\ar[ru, hookrightarrow] & 
\end{tikzcd} 
\end{center}
Here we use the injections $\kappa(K) \injects \bar k$ and $\kappa(K) \injects K$.

We now have an injection of $k\dash$algebras, and subrings of domains are domains. 
So apply the first exercise: the only way this can happen is if $\kappa(K) = k$.
:::


:::{.exercise}
The simplest possible case: describe $\CC(t) \tensor_\RR \CC$, tensored as $\RR\dash$algebras.

> Won't be a domain by the lemma, some $\CC(t)\dash$algebra of dimension 2.
:::

In order to have a good base change for our function fields, we want to constant extension to be trivial, i.e. $\kappa(K) = k$. 
This requires that the ground field be algebraically closed.

In this case, you might expect that extending scalars to the algebraic closure would yield a field again.
This is true in characteristic zero, but false in positive characteristic.

A more precise question: if $\kappa(K) = k$, must $K\tensor_K \bar k$ be a field?
If that's true and we're in positive characteristic, recalling the for an algebraic extension this being a field is equivalent to it being a domain. 
But if that's a domain, the tensor product of every algebraic extension must be a domain, which is why this is an important case.

If so, then $K\tensor_k k^{1\over p}$ is a field, where $k^{1\over p} \da k(\ts{x^{1\over p} \st x\in k })$ is obtained by adjoining all $p$th roots of all elements.
This is a purely inseparable extension.
The latter condition (this tensor product being a field) is one of several equivalent conditions for a field to be separable.

> Note that frobenius maps $k^{1\over p} \surjects k$, so this is sort of like inverting this map.

Remember that $K/k$ is transcendental, and there is an extended notion of separability for non-algebraic extensions.
Another equivalent condition is that every finitely generated subextension is separably generated, i.e. it admits a transcendence basis $\ts{x_i}$ such that $k\injects k(\ts{x_i}) \injects F$ where $F/k(\ts{x_i})$ is algebraic and separable.
Such a transcendence basis is called a *separating transcendence basis*.
Since we're only looking at finitely generated extensions, we wont' have to worry much about the difference between separable and separably generated.

What's the point? 
There's an extra technical condition to ensure the base change is a field: the function field being separable over the ground field.

Is this necessarily the case if $\kappa(K) = k$? 
No, for a technical reason:

:::{.warning}
This is pretty technical, yo.
:::

:::{.example}
Set $k = \FF_p(a, b)$ a rational function field in two variables sa the ground field.
Set 
\[  
A \da k[x, y] \gens{ax^p + b-y^b}
.\]
Then $A$ is a domain, so set $k = ff(A)$.

Claim: $\kappa(K) = k$, so $k$ is algebraically closed in this extension, but $K/k$ is *not* separable.
How to show: extending scalars to $k^{1\over p}$ does not yield a domain.

Let $\alpha, \beta \in \bar k$ such that $\alpha^p = a, \beta^b = b$, so
\[  
ax^p + b-y^b = (\alpha x + b - y)^p
,\]
which implies $K \tensor_k  k^{1\over p}$ is not a domain: $k[x, y]$ is a UFD, so the quotient of a polynomial is a domain iff the polynomial is irreducible.
However, the $p$th power map is a homomorphism, and this exhibits the image of the defining polynomial as something non-irreducible.
:::

Note that $f(x, y) = ax^p + b - y^p$ is the curve in this situation.
The one variable function field is defined by quotienting out a function in two variables and taking the function field.
Every 1-variable function field can be obtained in this way.
Therefore this polynomial is irreducible, but becomes reducible over the algebraic closure.
So we'd like the polynomial to be irreducible over both.

:::{.remark}
This is pretty technical, but we won't have to worry if $k = k^{1\over p}$. 
Equivalently, frobenius is surjective on $k$, i.e. $k$ is a perfect field.

If $k$ is not perfect, it can happen (famous paper of Tate) making an inseparable base extension can decrease the genus of the curve.
:::

Reminder: the perfect fields:

- Anything characteristic zero, every reducible polynomial is separable.
- Any algebraically closed field 
- Finite fields (frobenius is always injective)

Imperfect fields include:

- Function fields in characteristic $p$
- Complete discretely valued fields $k((t))$ in characteristic $p$

\todo[inline]{Look up uniformizing elements and valuations.}

:::{.theorem title="FT 12.20"}
For field extensions $K/k$, TFAE

1. $\kappa(K) = k$ and $K/k$ is separable

2. $K\tensor_k \bar k$ is a domain, or equivalently a field

3. For all field extensions $\ell/k$, $K\tensor_k \ell$ is a domain.

> Allows making not just an algebraic base change, but a totally arbitrary one.
:::

A field extension satisfying these conditions is called **regular**.

> Regular corresponds to nonsingularity in this neck of the woods.

:::{.remark}

:::








