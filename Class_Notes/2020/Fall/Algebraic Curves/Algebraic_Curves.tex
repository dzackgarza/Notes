\input{"/home/zack/Notes/Latex/preamble.tex"}

\addbibresource{Algebraic\_Curves.bib}

\let\Begin\begin
\let\End\end
\newcommand\wrapenv[1]{#1}

\makeatletter
\def\ScaleWidthIfNeeded{%
 \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\def\ScaleHeightIfNeeded{%
  \ifdim\Gin@nat@height>0.9\textheight
    0.9\textheight
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\setkeys{Gin}{width=\ScaleWidthIfNeeded,height=\ScaleHeightIfNeeded,keepaspectratio}%

\title{
\rule{\linewidth}{1pt} \\
\textbf{
    Algebraic Curves
  }
    \\ {\normalsize University of Georgia, Fall 2020} \\
  \rule{\linewidth}{2pt}
}
\titlehead{
    \begin{center}
  \includegraphics[width=\linewidth,height=0.5\textheight,keepaspectratio]{figures/cover.png}
  \end{center}
       \begin{minipage}{.35\linewidth}
    \begin{flushleft}
      \vspace{2em}
      {\fontsize{6pt}{2pt} \textit{Notes: These are notes live-tex'd
from a graduate course in Algebraic Curves taught by Pete Clark at the
University of Georgia in Fall 2020. As such, any errors or inaccuracies
are almost certainly my own. } } \\
    \end{flushleft}
    \end{minipage}
    \hfill
    \begin{minipage}{.65\linewidth}
    \end{minipage}
  }







\begin{document}

\date{}
\author{D. Zack Garza}
\maketitle
\begin{flushleft}
\textbf{D. Zack Garza} \\
\textit{University of Georgia} \\
\textit{dzackgarza@gmail.com} \\
{\tiny \textit{Last updated:} 2020-11-05 }
\end{flushleft}


\newpage
\tableofcontents

\medskip
\begin{flushright}
  D. Zack Garza, \today \\
  \currenttime
\end{flushright}

\hypertarget{monday-august-24}{%
\section{Monday, August 24}\label{monday-august-24}}

Review of lecture one:

\begin{theorem}[Finitely Generated in Towers]

See video

\end{theorem}

\begin{itemize}
\tightlist
\item
  Transcendence bases
\item
  LÃ¼roth problem
\end{itemize}

\hypertarget{monday-august-21st}{%
\section{Monday August 21st}\label{monday-august-21st}}

For \(K/k\) a one variable function field, if we want a curve \(C/k\),
what are the points? We'll use \emph{valuations}, see NT 2.1.

See also completions, residue fields.

If \(R \subset K\) a field, \(R\) is a \emph{valuation ring} of \(K\) if
for all \(x\in K\units\), at least one of \(x, x^{-1} \in R\).

\begin{example}

The valuation rings of \(\QQ\) are
\(\ZZ_{(p)}\da \ZZ[\ts{{1\over \ell} \st \ell\neq p}]\) for all primes
\(p\).

\end{example}

See also Krull valuation, takes values in some totally ordered
commutative group.

\begin{exercise}

Show that a valuation ring is a local ring, i.e.~it has a unique maximal
ideal.

\end{exercise}

\begin{example}

Where does the log come from?

There is a \(p\dash\)adic valuation:
\begin{align*}  
v: \QQ &\to \ZZ_{(p)} \\
{a\ over b} = p^n {u \over v} &\mapsto n
.\end{align*}

Then we recover
\begin{align*}  
\ZZ_{(p)} = \ts {x\in \QQ\units \st v_p(x) \geq 0} \union \ts{0} \\
\mfm_{(p)} = \ts {x\in \QQ\units \st v_p(x) > 0} \union \ts{0} \\
.\end{align*}

There is a \(p\dash\)adic norm
\begin{align*}  
\abs{\wait}_p: \QQ &\to \RR \\
0 & \mapsto 0 \\
x &\mapsto p^{-n} = p^{-v_p(x)}
.\end{align*}

Then we get an ultrametric function, a non-archimedean function
\begin{align*}  
d_p: \QQ^2 \to \RR \\
(x, y) &\mapsto \abs{x- y}_p
.\end{align*}

We then recover \(v_p(x) = -\log_p \abs{x}_p\).

See NT 1 notes.

\end{example}

For \(A\subset K\) a subring of a field, we'll be interested in the
place
\(\tilde \Sigma = \ts{\text{Valuation rings } R_v \text{ of } K} \st A \subset R_v \subsetneq K\).
Thus the valuation takes non-negative values on all elements of \(K\).
Can equip this with a topology (the ``Zariski'' topology, not the usual
one). This is always quasicompact, and called the \emph{Zariski-Riemann
space}. Can determine a sheaf of rings to make this a locally ringed
space.

We can define an equivalence of valuations and define the set of
\emph{places}
\begin{align*}  
\Sigma(K/k) \da \ts{\text{Nontrivial valuations } v\in K \st v(x) \geq 0\, \forall x\in k\units}
,\end{align*} which will be the points on the curve. Here the Zariski
topology will be the cofinite topology (which is not Hausdorff).
Scheme-theoretically, this is exactly the set of closed points on the
curve.

\begin{definition}[?]

Generic point: closure is entire space.

\end{definition}

\begin{quote}
Note we will have unique models for curves, but this won't be the case
for surfaces: blowing up a point will yield a birational but
inequivalent surface.
\end{quote}

From this we can also define \emph{divisor group} as the free
\(\ZZ\dash\)module on \(\Sigma(K/k)\), which comes with a degree map
\begin{align*}  
\deg: \Div(K) \to \ZZ
\end{align*} which need not be surjective.

We can consider principle divisors with the map
\begin{align*}  
K\units &\to \Div(K) \\
f &\mapsto (f)
.\end{align*}

We can define the class group as divisors modulo principle divisors
\(\cl(K) = \Div(K) / \im(K\units)\) and the Riemann-Roch space
\(\mathcal{L}(D)\). The Riemann-Roch theorem will then be a statement
about \(\dim \mathcal{L}(D)\).

\hypertarget{friday-august-28}{%
\section{Friday, August 28}\label{friday-august-28}}

\hypertarget{field-theory}{%
\subsection{Field Theory}\label{field-theory}}

See Chapter 11 of Field Theory notes.

\hypertarget{notion-1}{%
\subsubsection{Notion 1}\label{notion-1}}

\begin{definition}[Finitely Generated Field Extension]

A field extension \(\ell/k\) is \emph{finitely generated} if there
exists a finite set \(x_1, \cdots, x_n \in \ell\) such that
\(\ell = k(x_1, \cdots, x_n)\) and \(\ell\) is the smallest field
extension of \(k\).

Concretely, every element of \(\ell\) is a quotient of the form
\({p(x_1, \cdots, x_n) \over q(x_1, \cdots, x_n)}\) with
\(p, q\in k[x_1, \cdots, x_n]\).

\end{definition}

There are three different notions of finite generation for fields, the
above is the weakest.

\hypertarget{notion-2}{%
\subsubsection{Notion 2}\label{notion-2}}

The second is being finitely generated as an algebra:

\begin{definition}[Finitely Generated Algebras]

For \(R\subset S\) finitely generated algebras, \(S\) is finitely
generated over \(R\) if every element of \(S\) is a polynomial in
\(x_1, \cdots, x_n\), with coefficients in \(R\),
i.e.~\(S = R[x_1, \cdots, x_n]\).

\end{definition}

Note that this implies the previous definition, since anything that is a
polynomial is also a quotient of polynomials.

\hypertarget{notion-3}{%
\subsubsection{Notion 3}\label{notion-3}}

The final notion: \(\ell/k\) is finite (finite degree) if \(\ell\) is
finitely generated as a \(k\dash\)module, i.e.~a finite-dimensional
\(k\dash\)vector space.

\begin{definition}[Rational Function Field]

A \emph{rational function field} is
\(k(t_1, \cdots, t_n) \da ff \qty{ k[t_1, \cdots, t_n]}\).

\end{definition}

Note that we can make a similar definition for infinitely many
generators by taking a direct limit (here: union), and in fact every
element will only involve finitely many generators.

\begin{exercise}

\hfill

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\item
  Show \(k(t) / k\) is finitely generated by notion (3) but not by (2).
\item
  Show that \(k[t]/k\) is (2) but not (1).
\end{enumerate}

\begin{quote}
Note \(k[t]\) is not a field.
\end{quote}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Show that it is not possible for a \textbf{field} extension to satisfy
  (2) but not (1).
\end{enumerate}

\begin{quote}
Hint: Zariski's lemma.
\end{quote}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  Show that if \(\ell/k\) is finitely generated by (3) and algebraic,
  then it satisfies (1).
\end{enumerate}

\end{exercise}

\begin{theorem}[Field Theory Notes 11.19]

If \(L/K/F\) are field extensions, then \(L/F\) is finitely generated
\(\iff\) \(K/F\) and \(L/K\) are finitely generated.

\end{theorem}

\begin{quote}
See Artin-Tate Lemma, this doesn't necessarily hold for general rings.
\end{quote}

\begin{definition}[Algebraically Independent]

For \(\ell/k\), a subset \(\ts{x_i}\subset \ell\) is \emph{algebraically
independent} over \(k\) if no finite subset satisfies a nonzero
polynomial with \(k\) coefficients.

In this case, \(k[\ts{x_i}] / k\) is \emph{purely transcendental} as a
rational function field.

\end{definition}

\begin{theorem}[?]

For \(\ell/k\) a field extension,

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\item
  There exists a subset \(\ts{x_i}\subset \ell\) algebraically
  independent over \(k\) such that \(\ell/k(\ts{x_i})\) is algebraic.
\item
  If \(\ts{y_t}\) is another set of algebraically independent elements
  such that \(\ell/k(\ts{y_t})\) is algebraic, then
  \(\abs{\ts{x_i}} = \abs{\ts{y_t}}\).
\end{enumerate}

\end{theorem}

Thus every field extension is algebraic over a purely transcendental
extension. A subset as above is called a \emph{transcendence basis}, and
every 2 such bases have the same cardinality.

We have a notion of generation (similar to ``spanning''), independence,
and bases, so there are analogies to linear algebra (e.g.~every vector
space has a basis, any two have the same cardinality). There is a common
generalization: matroids.

\begin{definition}[Transcendence Degree]

The \emph{transcendence degree} of \(\ell/k\) is the cardinality of any
transcendence basis.

\begin{quote}
Analogy: dimension in linear algebra.
\end{quote}

\end{definition}

\begin{theorem}[Transcendence Degree is Additive in Towers]

If \(L/K/F\) are fields then
\(\trdeg(L/F) = \trdeg(K/F) + \trdeg(L/K)\).

\end{theorem}

\begin{theorem}[Bounds on Transcendence Degree]

Let \(K/k\) be finitely degenerated, so \(K = k(x_1, \cdots, x_n)\).
Then \(\trdeg(K/k) \leq n\), with equality iff \(K/k\) is purely
transcendental.

\end{theorem}

\begin{proof}

Suppose \(K\) is monogenic, i.e.~generated by one element. Then
\(\trdeg(F(x)/F) = \indic{x/F\text{ is transcendental}}\).

So the degree increases when a transcendental element is added, and
doesn't change when \(x\) is algebraic.

By additivity in towers, we take
\(k \injects k(x_1) \injects k(x_1, x_2) \injects \cdots \injects k(x_1, \cdots, x)n) = K\)
to obtain a chain of length \(n\). The transcendence degree is thus the
number of indices \(i\) such that \(x_i\) is transcendental over
\(k(x_1, \cdots, x_{i-1})\).

\begin{quote}
Similar to checking if a vector is in the span of a collection of
previous vectors.
\end{quote}

\end{proof}

\begin{definition}[Function Fields]

For \(d\in\ZZ^{\geq 0}\), an extension \(K/k\) is \emph{a function field
in \(d\) variables} (i.e.~of dimension \(d\)) if \(K/k\) is finitely
generated of transcendence degree \(d\).

\end{definition}

The study of such fields is birational geometry over the ground field
\(k\). \(k=\CC\) is of modern interest, things get more difficult in
other fields.

The case of \(d=1\) is much easier: the function field will itself be
the geometric object and everything will built from that.

Main tool: valuation theory, which will correspond to points on the
curve.

\hypertarget{case-study-the-luroth-problem.}{%
\subsection{Case Study: The Luroth
Problem.}\label{case-study-the-luroth-problem.}}

For which fields \(k\) and \(d\in \ZZ^{\geq 0}\) is it true that if
\(k \subset \ell \subset k(t_1, \cdots, t_d)\) with
\(k(t_1 ,\cdots, t_d)/\ell\) finite then \(\ell\) is purely
transcendental?

\begin{theorem}[Luroth]

True for \(d=1\): For any \(k\subset \ell \subset k(t)\),
\(\ell = k(x)\).

\end{theorem}

\begin{theorem}[Castelnuovo]

Also true for \(d=2, k=\CC\).

\end{theorem}

\begin{theorem}[Zariski]

No if \(d= 2\), \(k=\bar k\), and \(k\) is positive characteristic. Also
no if \(d=2, k\neq \bar k\) in characteristic zero.

\end{theorem}

\begin{theorem}[Clemens-Griffiths]

No if \(d\geq 3\) and \(k= \CC\).

\end{theorem}

\begin{quote}
Unirational need not imply rational for varieties.
\end{quote}

\begin{exercise}

Let \(k\) be a field, \(G\) a finite group with \(G\injects S_n\) the
Cayley embedding. Then \(S_n\) acts by permutation of variables on
\(k(t_1, \cdots, t_n)\), thus so does \(G\). Set
\(\ell \da k(t_1, \cdots, t_n)^G\) the fixed field, then by Artin's
observation in Galois theory: if you have a finite field acting
effectively by automorphisms on a field then taking the fixed field
yields a galois extension with automorphism group \(G\).

So \(\aut(k(t_1, \cdots, t_n)/ \ell) = G\).A

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Suppose \(k=\QQ\), and show that an affirmative answer to the Luroth
  problem implies an affirmative answer to the inverse galois problem
  for \(\QQ\).
\end{enumerate}

\begin{quote}
Hint: works for any field for which Hilbert's Irreducibility Theorem
holds.
\end{quote}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\item
  \(\ell /\QQ\) need not be a rational function field, explore the
  literature on this: first example due to Swan with \(\abs{G} = 47\).
\item
  Can still give many positive examples using the Shepherd-Todd Theorem.
\end{enumerate}

\end{exercise}

\todo[inline]{What's a global field?}

\hypertarget{onto-business}{%
\subsection{Onto Business}\label{onto-business}}

\begin{definition}[?]

For \(K/k\) a field extension, set \(\kappa(K)\) to be the algebraic
closure of \(k\) in \(K\), i.e.~special case of \emph{integral closure}.
If \(K/k\) is finitely generated, then \(\kappa(K)/k\) is finite degree.

Here \(\kappa(k)\) is called the \emph{field of constants}, and \(K\) is
also a function field over \(\kappa(k)\).

\end{definition}

In practice, we don't want \(\kappa(k)\) to be a proper extension of
\(k\).

If this isn't the case, we replace considering \(K/k\) by
\(K/\kappa(k)\). If \(K/k\) is finitely generated, then

\begin{center}
\begin{tikzcd}
k \arrow[rr, "\text{finite}", hook] &  & \kappa(k) \arrow[rr, "\text{finitely generated}", hook] &  & K
\end{tikzcd}
\end{center}

Where we use the fact that from above, \(\kappa(k)/k\) is finitely
generated and algebraic and thus finite, and by a previous theorem, if
\(K/k\) is transcendental then \(K/\kappa(k)\) is as well, and thus
finitely generated.

Thus if you have a function field over \(k\), you can replace \(k\) by
\(\kappa(k)\) and regard \(K\) as a function field over \(\kappa(k)\)
instead.

\hypertarget{sunday-august-30}{%
\section{Sunday, August 30}\label{sunday-august-30}}

\hypertarget{base-extension}{%
\subsection{Base Extension}\label{base-extension}}

Given some object \(A/k\) and \(k\injects \ell\) is a field extension,
we would like some extended object \(A/\ell\).

\begin{example}

An \emph{affine variety} \(V/k\) is given by finitely many polynomials
in \(p_i \in k[t_1, \cdots, t_n]\), and base extension comes from the
map \(k[t_1, \cdots, t_n] \injects \ell[t_1, \cdots, t_n]\).

More algebraically, we have the affine coordinate ring over \(k\) given
by \(k[V] = k[t_1,\cdots, t_n]/\gens{p_i}\), the ring of polynomial
functions on the zero locus corresponding to this variety. We can
similarly replace \(k\) be \(\ell\) in this definition. Here we can
observe that \(\ell[V] \cong k[V] \tensor_k \ell\).

\end{example}

In general we have a map
\begin{align*}  
\wait \tensor_k \ell & \\
\ts{k\dash\text{vector spaces}} &\to \ts{\ell\dash\text{vector spaces}} \\
\ts{k\dash\text{algebras}} &\to\ts{\ell\dash\text{algebras}}
.\end{align*}

Note that this will be an exact functor on the category
\(k\dash\text{Vect}\), i.e.~\(\ell\) is a flat module. Here everything
is free, and free \(\implies\) flat, so things work out nicely.

What about for function fields?

Since \(k\) is a \(k\dash\)algebra, we can consider \(k\tensor_k \ell\),
however this need not be a field.

\begin{quote}
Note: tensor products of fields come up very often, but don't seem to be
explicitly covered in classes! We'll broach this subject here.
\end{quote}

\begin{exercise}

If \(\ell/k\) is algebraic and \(\ell\tensor_k \ell\) is a domain, the
\(\ell = k\).

\begin{quote}
I.e. this is rarely a domain. Hint: start with the monogenic case, and
also reduce to the case where the extension is not just algebraic but
finite.
\end{quote}

\end{exercise}

Tensor products of field extensions are still interesting: if \(\ell/k\)
is finite, it is galois \(\iff\)
\(\ell \tensor_k \ell \cong \ell^{[\ell: k]}\). So its dimension as an
\(\ell\dash\)algebra is equal to the degree of \(\ell/k\), so it splits
as a product of copies of \(\ell\).

\begin{remark}

We'd like the tensor product of a field to be a field, or at least a
domain where we can take the fraction field and get a field. This hints
that we should not be tensoring algebraic extensions, but rather
transcendental ones.

\end{remark}

\begin{exercise}

For \(\ell/k\) a field extension,

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\item
  Show \(k(t) \tensor_k \ell\) is a domain with fraction field
  \(\ell(t)\).
\item
  Show it is a field \(\iff\) \(\ell/k\) is algebraic.
\end{enumerate}

\end{exercise}

\begin{proposition}[FT 12.7, 12.8]

Let \(k_1, k_2 / k\) are field extensions, and suppose
\(k_1 \tensor_k k_2\) is a domain. Then this is a field \(\iff\) at
least one of \(k_1/k\) or \(k_2/k\) is algebraic.

\end{proposition}

\begin{quote}
Reminder: for \(\ell/k\) and \(\alpha\in \ell\) algebraic over \(k\),
then \(k(\alpha) = k[\alpha]\).
\end{quote}

So we'll concentrate on when \(K \tensor_k \ell\) is a domain. What's
the condition on a function field \(K/k\) that guarantees this,
i.e.~when extending scalars from \(k\) to \(\ell\) still yields a
domain? If this remains a domain, we'll take the fraction field and call
it the \emph{base change}.

\begin{exercise}

If \(K/k\) is finitely generated (i.e.~a function field) and
\(K\tensor_k \ell\) is a domain, then \(ff(K\tensor_k \ell)/\ell\) is
finitely generated.

\begin{quote}
The point: if taking a function field and extending scalars still
results in a domain, we'll call the result a function field as well.
\end{quote}

\end{exercise}

Most of all, we want to base change to the algebraic closure. We'll have
issues if the constant field is not just \(k\) itself:

\begin{lemma}

If \(K\tensor_k \bar k\) is a domain, then the constant field
\(\kappa(k) = k\).

\end{lemma}

\begin{proof}

Use the fact that \(\wait \tensor_k V\) is exact. We then get an
injection

\begin{center}
\begin{tikzcd}
\kappa(k) \tensor_k \kappa(k) \ar[rr, hookrightarrow]\ar[rd, hookrightarrow] & &
K \tensor_k \bar k \\
& \kappa(k) \tensor_k \bar k\ar[ru, hookrightarrow] & 
\end{tikzcd} 
\end{center}

Here we use the injections \(\kappa(k) \injects \bar k\) and
\(\kappa(k) \injects K\).

We now have an injection of \(k\dash\)algebras, and subrings of domains
are domains. So apply the first exercise: the only way this can happen
is if \(\kappa(k) = k\).

\end{proof}

\begin{exercise}

The simplest possible case: describe \(\CC(t) \tensor_\RR \CC\),
tensored as \(\RR\dash\)algebras.

\begin{quote}
Won't be a domain by the lemma, some \(\CC(t)\dash\)algebra of dimension
2.
\end{quote}

\end{exercise}

In order to have a good base change for our function fields, we want to
constant extension to be trivial, i.e.~\(\kappa(k) = k\). This requires
that the ground field be algebraically closed.

In this case, you might expect that extending scalars to the algebraic
closure would yield a field again. This is true in characteristic zero,
but false in positive characteristic.

A more precise question: if \(\kappa(k) = k\), must
\(K\tensor_K \bar k\) be a field? If that's true and we're in positive
characteristic, recalling the for an algebraic extension this being a
field is equivalent to it being a domain. But if that's a domain, the
tensor product of every algebraic extension must be a domain, which is
why this is an important case.

If so, then \(K\tensor_k k^{1\over p}\) is a field, where
\(k^{1\over p} \da k(\ts{x^{1\over p} \st x\in k })\) is obtained by
adjoining all \(p\)th roots of all elements. This is a purely
inseparable extension. The latter condition (this tensor product being a
field) is one of several equivalent conditions for a field to be
separable.

\begin{quote}
Note that frobenius maps \(k^{1\over p} \surjects k\), so this is sort
of like inverting this map.
\end{quote}

Remember that \(K/k\) is transcendental, and there is an extended notion
of separability for non-algebraic extensions. Another equivalent
condition is that every finitely generated subextension is separably
generated, i.e.~it admits a transcendence basis \(\ts{x_i}\) such that
\(k\injects k(\ts{x_i}) \injects F\) where \(F/k(\ts{x_i})\) is
algebraic and separable. Such a transcendence basis is called a
\emph{separating transcendence basis}. Since we're only looking at
finitely generated extensions, we wont' have to worry much about the
difference between separable and separably generated.

What's the point? There's an extra technical condition to ensure the
base change is a field: the function field being separable over the
ground field.

Is this necessarily the case if \(\kappa(k) = k\)? No, for a technical
reason:

\begin{warning}

This is pretty technical, yo.

\end{warning}

\begin{example}

\label{technical_example} Set \(k = \FF_p(a, b)\) a rational function
field in two variables sa the ground field. Set
\begin{align*}  
A \da k[x, y]/ \gens{ax^p + b-y^b}
.\end{align*} Then \(A\) is a domain, so set \(k = ff(A)\).

Claim: \(\kappa(k) = k\), so \(k\) is algebraically closed in this
extension, but \(K/k\) is \emph{not} separable. How to show: extending
scalars to \(k^{1\over p}\) does not yield a domain.

Let \(\alpha, \beta \in \bar k\) such that
\(\alpha^p = a, \beta^b = b\), so
\begin{align*}  
ax^p + b-y^b = (\alpha x + \beta - y)^p
,\end{align*} which implies \(K \tensor_k k^{1\over p}\) is not a
domain: \(k[x, y]\) is a UFD, so the quotient of a polynomial is a
domain iff the polynomial is irreducible. However, the \(p\)th power map
is a homomorphism, and this exhibits the image of the defining
polynomial as something non-irreducible.

\end{example}

Note that \(f(x, y) = ax^p + b - y^p\) is the curve in this situation.
The one variable function field is defined by quotienting out a function
in two variables and taking the function field. Every 1-variable
function field can be obtained in this way. Therefore this polynomial is
irreducible, but becomes reducible over the algebraic closure. So we'd
like the polynomial to be irreducible over both.

\begin{remark}

This is pretty technical, but we won't have to worry if
\(k = k^{1\over p}\). Equivalently, frobenius is surjective on \(k\),
i.e.~\(k\) is a perfect field.

If \(k\) is not perfect, it can happen (famous paper of Tate) making an
inseparable base extension can decrease the genus of the curve.

\end{remark}

Reminder: the perfect fields:

\begin{itemize}
\tightlist
\item
  Anything characteristic zero, every reducible polynomial is separable.
\item
  Any algebraically closed field
\item
  Finite fields (frobenius is always injective)
\end{itemize}

Imperfect fields include:

\begin{itemize}
\tightlist
\item
  Function fields in characteristic \(p\)
\item
  Complete discretely valued fields \(k((t))\) in characteristic \(p\)
\end{itemize}

\todo[inline]{Look up uniformizing elements and valuations.}

\begin{theorem}[FT 12.20]

For field extensions \(K/k\), TFAE

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \(\kappa(k) = k\) and \(K/k\) is separable
\item
  \(K\tensor_k \bar k\) is a domain, or equivalently a field
\item
  For all field extensions \(\ell/k\), \(K\tensor_k \ell\) is a domain.
\end{enumerate}

\begin{quote}
Allows making not just an algebraic base change, but a totally arbitrary
one.
\end{quote}

\end{theorem}

A field extension satisfying these conditions is called
\textbf{regular}.

\begin{quote}
Regular corresponds to nonsingularity in this neck of the woods.
\end{quote}

\begin{remark}

The implication \(2\implies 3\) is the interesting one. To prove it,
reduces to showing that if \(k= \bar k\) and \(R_i\) are domains that
are finitely generated as \(k\dash\)algebras, then \(R_1 \tensor_k R_2\)
is also a domain.

This doesn't always happen,
e.g.~\(\QQ(\sqrt{2}) \tensor_\QQ \QQ(\sqrt{2})\) is not a domain. Really
need algebraically closed.

This is a result in affine algebraic geometry. An algebra that is a
domain and finitely generated over a field is an \emph{affine algebraic
variety}, more precisely it is integral. The tensor product on the
coordinate ring side corresponds to taking the product of varieties.

Thus the fact here is that a product of integral varieties remains
integral, as long as you're over an algebraically closed field. Proof
uses Hilbert's Nullstellensatz.

\end{remark}

\begin{exercise}

\hfill

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Show that \(k(t) / k\) is regular.
\end{enumerate}

\begin{quote}
I.e. \(k(t)\tensor_k \bar k\) is a domain.
\end{quote}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\item
  Show every purely transcendental extension is regular.
\item
  Show that for a field \(k\), every extension is regular \(\iff\)
  \(k = \bar k\).
\item
  Show \(K/k\) is regular \(\iff\) every finitely generated subextension
  is regular.
\end{enumerate}

\end{exercise}

\hypertarget{example-of-a-non-regular-family-of-function-fields}{%
\subsection{Example of a Non-Regular Family of Function
Fields}\label{example-of-a-non-regular-family-of-function-fields}}

Choose an elliptic curve \(E/\QQ(t)\) with \(j\dash\)invariant \(t\).
For \(N\in \ZZ^{+}\), define \(\tilde K_N \da \QQ(t)(E[N])\) the
\(N\dash\)torsion field of \(E\).

Then \(\tilde K_N/\QQ(t)\) is a finite galois extension with galois
group isomorphic to the image of the modular galois representation
\begin{align*}  
\rho_N: g(\QQ(t)) \to \GL(2, \ZZ/N\ZZ) \mod N
.\end{align*}

\begin{quote}
See Cornell-Silverman-Stevens covering the proof of FLT, modular curves
from the function field perspective.
\end{quote}

\begin{proposition}[Some Facts]

\(\rho_N\) is surjective, and
\begin{align*}  
\Aut(\tilde K_N / \QQ(t))  \cong \GL(2, \ZZ/N\ZZ)
.\end{align*}

\(\det \rho_N = \chi_N \mod N\), the cyclotomic character, and therefore
\(\chi_N\) restricted to \(g(\tilde K_N)\) is trivial, so
\(\tilde K_N \supset \QQ(\zeta_N)\). For \(N\geq 3\),
\(\QQ(\zeta_N) \supsetneq \QQ\), so \(\tilde K_N / \QQ(t)\) is a
non-regular function field.

\end{proposition}

Actually \(\tilde K_N\) depends on the choice of \(E\): difference
choices of nonisomorphic curves with the same \(j\dash\)invariant differ
by a quadratic twist and the \(\rho_N\) differ by a quadratic character
on \(g(\QQ(t))\). Importantly, this changes the kernel, and thus the
field.

To fix this, we look at the \emph{reduced galois representation}, the
following composition:
\begin{align*}  
\bar \rho_N: g(\QQ(t)) \to \GL(2, \ZZ/N\ZZ) \surjects \GL(2, \ZZ/N\ZZ)/\ts{\pm I}
.\end{align*}

We obtain a field theory diagram

\begin{center}
\begin{tikzcd}
\ar[dd, bend right, "{\GL(2, \ZZ/N\ZZ)}"'] \bar K_N \ar[d, bend left, "\ts{\pm I}"] &\\
K_N \ar[d, bend left, "{\GL(2, \ZZ/N\ZZ)/\ts{\pm I}}"] &\\
\QQ(t)&
\end{tikzcd}
\end{center}

So if you just take the field fixed by \(\pm I\), you get \(K_N\). In
this case, the reduced galois representation depends only on the
\(j\dash\)invariant, and not on the model chosen. So the function field
\(K_N/\QQ(t)\) is the ``canonical'' choice.

Question: Does this make \(K_N/\QQ(t)\) regular?

Answer: No, \(\rho_N(g(K_N)) = \ts{\pm I}\) and \(\det(\pm I) = 1\), so
we still have \(K_N \supset \QQ(\zeta_N)\).

In this course, we'll identify algebraic curves over \(k\) and
one-variable function fields \(K/k\). The function field \(K_N\)
corresponds to an algebraic curve \(X(N)/\QQ\) that is ``nicer'' over
\(\QQ(\zeta_N)\). In fact, see Rohrlich: \(\kappa(K_N) = \QQ(\zeta_N)\).

Our curves will have points (equal to valuations) which will have
degrees. If the constant subfield is not just \(k\), this prevents
degree 1 points on the curve.

By Galois theory, for every subgroup
\(H \subseteq \GL(2, \ZZ/N\ZZ) / \ts{\pm I}\), we'll get a function
field \(\QQ(H) \da H_N^H\). In this case, \(\QQ(H)/\QQ\) is regular
\(\iff\) \(\det(H) = (\ZZ/N\ZZ)\units\).

Later we'll understand the residues at points as the residue fields of
some DVRs, then the residue field will always contain the field of
constants.

\hypertarget{sunday-august-30-1}{%
\section{Sunday, August 30}\label{sunday-august-30-1}}

Last of preliminaries. Upcoming: one-variable function fields and their
valuation rings.

\hypertarget{polynomials-defining-regular-function-fields}{%
\subsection{Polynomials Defining Regular Function
Fields}\label{polynomials-defining-regular-function-fields}}

Where's the curve: \(f(x, y) = 0\).

\begin{exercise}

Let \(R_1, R_2\) be \(k\dash\)algebras that are also domains with
fraction fields \(K_i\). Show \(R_1 \tensor_k R_2\) is a domain \(\iff\)
\(K_1 \tensor_k K_2\) is a domain.

\begin{quote}
Denominator-clearing argument.
\end{quote}

\end{exercise}

\begin{definition}[Geometrically Irreducible]

A polynomial of positive degree \(f\in k[t_1, \cdots, t_n]\) is
\emph{geometrically irreducible} if \(f\in \bar k[t_1, \cdots, t_n]\) is
irreducible as a polynomial.

\end{definition}

If \(n=1\) then \(f\) is geometrically irreducible \(\iff\) it's linear,
i.e.~of degree 1.

Let \(f\) be irreducible, then since polynomial rings are UFDs then
\(\gens{f}\) is a prime ideal (irreducibles generate principal ideals)
and \(k[t_1, \cdots, t_n]/\gens{f}\) is a domain. Let \(K_f\) be the
fraction field.

\begin{exercise}

Easy:

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\item
  Above for \(1\leq i \leq n\) let \(x_i\) be the image of \(t_i\) in
  \(K_f\). Show that \(K_f = k(x_1, \cdots, x_n)\).
\item
  Show that if \(K/k\) is generated by \(x_1, \cdots, x_n\), then it is
  the fraction field of \(k[t_1, \cdots, t_n] /\mfp\) for some prime
  ideal \(\mfp\) (equivalently, a height 1 ideal).
\end{enumerate}

\end{exercise}

\begin{proposition}[?]

Suppose that \(f\) is geometrically irreducible.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\item
  The function field \(K/k\) is regular.
\item
  For all \(\ell/k\), \(f\in \ell[t_1, \cdots, t_n]\) is irreducible.
\end{enumerate}

\begin{quote}
In this case we say \(f\) is \emph{absolutely irreducible} as a synonym
for geometrically irreducible.
\end{quote}

\end{proposition}

\begin{proof}

By definition of geometric irreducibility,
\(\bar k[t_1, \cdots, t_n]/\gens{f} = k[t_1, \cdots, t_n]/\gens{f} \tensor_k \bar k\)
is a domain. The exercise shows that \(K_f \tensor_k k\) is a domain, so
\(K_f\) is regular.

It follows that for all \(\ell/k\), \(K_f \tensor_k \ell\) is a domain,
so \(\ell[t_1, \cdots, t_n]/\gens{f}\) is a domain.

\end{proof}

Moral: geometrically irreducible polynomials are good sources of regular
function fields.

\begin{exercise}

Let \(k\) be a field, \(d\in \ZZ^+\) such that \(4\notdivides d\) and
\(p(x) \in k[x]\) be positive degree. Factor
\(p(x) = \prod_{i=1}^r (x-a_i)^{\ell_i}\) in \(\bar k[x]\).

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Suppose that for some \(i\), \(d\notdivides \ell_i\). Show that
  \(f(x, y) \da y^d - p(x) \in k[x, y]\) is geometrically irreducible.
  Conclude that \(K_f \da ff\qty{k[x, y] / \gens{y^d - p(x)}}\) is a
  regular one-variable function field over \(k\), and thus elliptic
  curves yield regular function fields.
\end{enumerate}

\begin{quote}
Referred to as \emph{hyperelliptic} or \emph{superelliptic} function
fields. Hint: use FT 9.21 or Lang's Algebra.
\end{quote}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  What happens when \(4\divides d\)?
\end{enumerate}

\end{exercise}

\begin{exercise}[Nice, Recommended]

Assume \(k\) is a field, if necessary assuming \(\ch(k) \neq 2\).

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\item
  Let \(f(x, y) = x^2 - y^2 -1\) and show \(K_f\) is is rational:
  \(K_f = k(z)\).
\item
  Let \(f(x, y) = x^2 + y^2 - 1\). Show that \(K_f\) is again rational.
\item
  Let \(k = \CC\) and \(f(x, y) = x^2 + y^2 + 1\), \(K_f\) is rational.
\item
  Let \(k= \RR\). For \(f(x ,y) = x^2 + y^2 + 1\), is \(K_f\) rational?
\end{enumerate}

\begin{quote}
Example of a non-rational genus zero function field.
\end{quote}

\end{exercise}

Question (converse): Can we always construct regular function fields
using geometrically irreducible polynomials?

Answer: In several variables, no, since not every variety is birational
to a hypersurface.

In one variable, yes:

\begin{theorem}[Regular Function Fields in One Variable are Geometrically Irreducible]

Let \(K/k\) be a one variable function fields (finitely generated,
transcendence degree one). Then

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\item
  If \(K/k\) is separable, then \(K = k(x, y)\) for some \(x, y\in K\).
\item
  If \(K/k\) is regular (separable + constant subfield is \(k\), so
  stronger) then \(K \cong K_f\) for a geometrically irreducible
  \(f\in k[x ,y]\).
\end{enumerate}

\end{theorem}

\begin{proof}

Recall separable implies there exists a separating transcendence basis.

Proof of (a):

This means there exists a primitive element \(x\in K\) such that
\(K/k(x)\) is finite and separable. By the Primitive Element Corollary
(FT 7.2), there exist a \(y\in K\) such that \(K = k(x, y)\).

Proof of (b):

Omitted for now, slightly technical.

\end{proof}

Importance of last result: a regular function field on one variable
corresponds to a nice geometrically irreducible polynomial \(f\).

\begin{quote}
Note: the plane curve module may not be smooth, and in fact usually is
not possible. I.e. \(k[x ,y]/\gens{f}\) is a one-dimensional noetherian
domain, which need not be integrally closed.
\end{quote}

Question: Can every one variable function field be 2-generated?

Answer: Yes, as long as the ground field is perfect. In positive
characteristic, the suspicion is no: there exists finite inseparable
extensions \(\ell/k\) that need arbitrarily many generators.

However, what if \(K/k\) has constant field \(k\) but is not separable?
Riemann-Roch may have something to say about this.

\begin{example}

\hyperref[technical_example]{Example from earlier lecture:}

\(ax^p + b - y^b\)

\end{example}

Moral: look for examples of nice function fields by taking irreducible
polynomials in two variables. This will define a one-variable function
field. If the polynomial is geometrical reducible, this produces regular
function fields.

Next: One variable function fields and their valuations.

\hypertarget{lecture-14-monday-november-02}{%
\section{Lecture 14: Monday, November
02}\label{lecture-14-monday-november-02}}

Recall the that \emph{Hasse-Weil zeta function} of a one-variable
function field \(K/\FF_q\) over a finite ground field is defined in the
following way: let \(A_n = A_n(K)\) be the number of effective divisors
of degree \(n\). We have proved that \(A_n\) is finite, and for
\(n>2g-2\) we have a formula
\begin{align*}  
Z(t) = \sum_{n=0}^\infty A_n t^n
= \sum_{D\in \Div^+(K)} t^{\deg(D)} \in \ZZ[[t]]
,\end{align*} which is a formal power series with integer coefficients.

\begin{remark}

Recall that we have proved that it is a rational function of \(t\), and
in particular when \(g=0, \delta = 1\) \footnote{The \emph{index} of the
  function field, least positive degree of a divisor.} we get
\begin{align*}  
Z(t) = {1 \over (1-qt)(1-t)}
.\end{align*}

We got another expression which isn't fantastic: it involves this
\(\delta\), which we'll work toward proving is equal to 1. When \(g>1\),
we broke the zeta function into two pieces \(Z(t) = F(t) + G(t)\). For
divisors of sufficiently high degree, Riemann-Roch tells you what the
dimension of the Riemann-Roch space is, and \(G(t)\) explains the part
coming from divisors of large degree. We obtained a formula previously
for \(F(t)\) and \(G(t)\), and once we show \(\delta=1\) the formula for
\(G\) will simplify. For \(F(t)\), we specifically had
\begin{align*}  
F(t) = {1\over q-1} \sum_{0\leq \deg(c) \leq 2g-2} q^{\ell(c) t^{\deg(c)}}
,\end{align*} where the sum is over divisor classes and \(\ell\) is the
dimension of linear system corresponding to a divisor. But this isn't a
great formula: what are these classes, dhow many are in each degree, and
what is the dimension of the Riemann-Roch space?

\end{remark}

\begin{theorem}[F.K. Schmidt]

For all \(K/\FF_q\), we have \(\delta = I(K) = 1\) where \(I\) is the
index.

\end{theorem}

This will follow from the associated, but it much weaker. However, this
is one of the facts we'd like to establish to use to \emph{prove} the
Riemann hypothesis.

\begin{remark}

Pete studied this in 2004 and found that every \(I\in \ZZ^+\) arises as
the index of a genus one function field \(K/\QQ\).

\end{remark}

\begin{lemma}[?]

The index of a function field over an arbitrary

\end{lemma}

Notation: for \(n\in\ZZ^+\), let \(\mu_n\) denote the \(n\)th roots of
unity in \(\CC\).

\begin{lemma}[?]

For \(m, r\in \ZZ^+\), set \(d = \gcd(, r)\). Then
\begin{align*}  
\qty{1-t^{mr/d}}^d = \prod_{\xi\in \mu_r}  1 - (\xi t)^m
.\end{align*}

\end{lemma}

\begin{proof}[?]

In \(\CC[x]\), we have
\begin{align*}  
(X^{r/1} - 1)^d = \prod_{\xi\in \mu_r}(X - \xi^m)
,\end{align*} where both sides are monic polynomials whose roots include
the \((r/d)\)th roots of unity, each with multiplicity \(d\). On the
LHS, the distinct roots are the \(r/d\)th roots of unity, then raising
to the \(d\)th power gives them multiplicity \(d\). On the RHS, this is
an exercise in cyclic groups: consider the \(n\)th power map on
\(\ZZ/r\ZZ\) and compute its image and kernel. As \(\xi\) ranges over
\(r\)th roots of unity, \(\xi^m\) ranges over all \(r/d\)th roots of
unity, each occuring with multiplicity \(d\).

Substituting \(X= t^{-m}\) yields the original result.

\begin{quote}
Special case: set \(m=r\), then the RHS is \(r\) copies of 1.
\end{quote}

\end{proof}

Next up, we want to compare the zeta function for a function field over
\(\FF_q\) to the zeta function obtained when extending scalars to
\(\QQ^r\).

\begin{proposition}[?]

Let \(K/\FF_q\) be a function field, \(r\in \ZZ^+\), and take the
compositum of \(K\) and \(\FF_q^r\) viewed as a function field over
\(\FF_q^r\). Let \(Z(t)\) be the zeta function of \(K/\FF_q\) and
\(Z_r(t)\) the zeta function of \(K_r/\FF_q^r\). Then
\begin{align*}  
Z_r(t^r) = \prod_{q\in \mu_r} Z(qt)
.\end{align*}

\end{proposition}

\begin{proof}[?]

We have an Euler product formula
\begin{align*}  
Z(t) = \prod_{p\in \Sigma(K/\FF_q)} (1 - t^{\deg(p)})^{-1} 
.\end{align*} where the sum is over places of the function field.

\begin{exercise}[?]

Why is this true? Write as a geometric series with ratio
\(t^{\deg(p)}\). Here just expand each summand to get
\begin{align*}  
Z(t) = \prod_p \sum_{j=1}^\infty t^{j\deg(p)}
.\end{align*} Multiplying this out and collecting terms is in effect
multiplying out the prime divisors to get effective divisors.

\end{exercise}

We use the result that was stated (but not proved): If
\(p\in \Sigma_m(K/\FF_q)\) is a degree \(n\) place and \(r\in \ZZ^+\),
then there exist precisely \(d\da \gcd(m, r)\)places \(p^r\) of \(K_r\)
lying over \(p\). Moreover, each place \(p^r\) has degree \(m/d\).

\end{proof}

\newpage

\newpage
\section{Indices}
\listoftodos[List of Todos]

% Hook into amsthm environments to list them.
\renewcommand{\listtheoremname}{Definitions}
\listoftheorems[ignoreall,show={definition}, numwidth=3.5em]

\renewcommand{\listtheoremname}{Theorems}
\listoftheorems[ignoreall,show={theorem,proposition}, numwidth=3.5em]

\renewcommand{\listtheoremname}{Exercises}
\listoftheorems[ignoreall,show={exercise}, numwidth=3.5em]

\listoffigures


\printbibliography[title=Bibliography]


\end{document}
