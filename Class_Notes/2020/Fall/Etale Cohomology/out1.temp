```{=tex}
\newcommand\stacksymbol[3]{%
  \mathrel{\stackunder[2pt]{\stackon[4pt]{$#3$}{$\scriptscriptstyle#1$}}{%
  $\scriptscriptstyle#2$}}}
```
```{=tex}
\newcommand{\ext}{\operatorname{Ext}}
\newcommand{\Ext}{\operatorname{Ext}}
\newcommand{\Endo}{\operatorname{End}}
\newcommand{\Ind}{\operatorname{Ind}}
\newcommand{\ind}{\operatorname{Ind}}
\newcommand{\coind}{\operatorname{Coind}}
\newcommand{\proj}{\operatorname{Proj}}
\newcommand{\Proj}{\operatorname{Proj}}
\newcommand{\res}{\operatorname{Res}}
\newcommand{\Res}{\operatorname{Res}}
\newcommand{\Hol}{\operatorname{Hol}}
\newcommand{\Br}{\operatorname{Br}}
\newcommand{\coh}{\operatorname{coh}}
\newcommand{\colspace}{\operatorname{colspace}}
\newcommand{\rowspace}{\operatorname{rowspace}}
\newcommand{\codom}{\operatorname{codom}}
\newcommand{\range}{\operatorname{range}}
\newcommand{\nullspace}{\operatorname{nullspace}}
\newcommand{\nullity}{\operatorname{nullspace}}
\newcommand{\projection}{\operatorname{Proj}}
\renewcommand{\AA}[0]{{\mathbb{A}}}
\newcommand{\Af}[0]{{\mathbb{A}}}
\newcommand{\CC}[0]{{\mathbb{C}}}
\newcommand{\CP}[0]{{\mathbb{CP}}}
\newcommand{\DD}[0]{{\mathbb{D}}}
\newcommand{\FF}[0]{{\mathbb{F}}}
\newcommand{\fq}[0]{{\mathbb{F}_{q}}}
\newcommand{\fqr}[0]{{\mathbb{F}_{q^r}}}
\newcommand{\GF}[0]{{\mathbb{GF}}}
\newcommand{\GG}[0]{{\mathbb{G}}}
\newcommand{\HH}[0]{{\mathbb{H}}}
\newcommand{\HP}[0]{{\mathbb{HP}}}
\newcommand{\KK}[0]{{\mathbb{K}}}
\newcommand{\kk}[0]{{\Bbbk}}
\newcommand{\bbm}[0]{{\mathbb{M}}}
\newcommand{\NN}[0]{{\mathbb{N}}}
\newcommand{\OP}[0]{{\mathbb{OP}}}
\newcommand{\PP}[0]{{\mathbb{P}}}
\newcommand{\QQ}[0]{{\mathbb{Q}}}
\newcommand{\RP}[0]{{\mathbb{RP}}}
\newcommand{\RR}[0]{{\mathbb{R}}}
\newcommand{\SpSp}[0]{{\mathbb{S}}}
\renewcommand{\SS}[0]{{\mathbb{S}}}
\newcommand{\TT}[0]{{\mathbb{T}}}
\newcommand{\ZZ}[0]{{\mathbb{Z}}}
\newcommand{\znz}[0]{\mathbb{Z}/n\mathbb{Z}}
\newcommand{\zpz}[0]{\mathbb{Z}/p\mathbb{Z}}
\newcommand{\zlz}[0]{\mathbb{Z}/\ell\mathbb{Z}}
\newcommand{\zlnz}[0]{\mathbb{Z}/\ell^n\mathbb{Z}}
\newcommand{\Qp}[0]{\mathbb{Q}_{(p)}}
\newcommand{\Zp}[0]{\mathbb{Z}_{(p)}}
\newcommand{\Arg}[0]{\operatorname{Arg}}
\newcommand{\PGL}[0]{\operatorname{PGL}}
\newcommand{\GL}[0]{\operatorname{GL}}
\newcommand{\Gl}[0]{\operatorname{GL}}
\newcommand{\gl}[0]{\operatorname{GL}}
\newcommand{\mat}[0]{\operatorname{Mat}}
\newcommand{\Mat}[0]{\operatorname{Mat}}
\newcommand{\Rat}[0]{\operatorname{Rat}}
\newcommand{\Perv}[0]{\operatorname{Perv}}
\newcommand{\Gal}[0]{\operatorname{Gal}}
\newcommand{\Hilb}[0]{\operatorname{Hilb}}
\newcommand{\Quot}[0]{\operatorname{Quot}}
\newcommand{\Art}[0]{\operatorname{Art}}
\newcommand{\red}[0]{\operatorname{red}}
\newcommand{\Pic}[0]{{\operatorname{Pic}}}
\newcommand{\lcm}[0]{\operatorname{lcm}}
\newcommand{\maps}[0]{\operatorname{Maps}}
\newcommand{\maxspec}[0]{{\operatorname{maxSpec}}}
\newcommand{\Tr}[0]{\operatorname{Tr}}
\newcommand{\adj}[0]{\operatorname{adj}}
\newcommand{\ad}[0]{\operatorname{ad}}
\newcommand{\ann}[0]{\operatorname{Ann}}
\newcommand{\Ann}[0]{\operatorname{Ann}}
\newcommand{\arcsec}[0]{\operatorname{arcsec}}
\newcommand{\ch}[0]{\operatorname{ch}}
\newcommand{\Sp}[0]{{\operatorname{Sp}}}
\newcommand{\syl}[0]{{\operatorname{Syl}}}
\newcommand{\ff}[0]{\operatorname{ff}}
\newcommand{\txand}[0]{{\operatorname{ and }}}
\newcommand{\et}{\mathrm{\operatorname{ét}}}
\newcommand{\Et}{\mathrm{\operatorname{Ét}}}
\newcommand{\fppf}[0]{\mathrm{\operatorname{fppf}}}
\newcommand{\Fppf}[0]{\mathrm{\operatorname{Fppf}}}
\newcommand{\zar}[0]{{\mathrm{zar}}}
\newcommand{\Zar}[0]{{\mathrm{Zar}}}
\newcommand{\qcoh}[0]{{\mathrm{QCoh}}}
\newcommand{\Qcoh}[0]{{\mathrm{QCoh}}}
\newcommand{\QCoh}[0]{{\mathrm{QCoh}}}
\newcommand{\codim}[0]{\operatorname{codim}}
\newcommand{\coim}[0]{\operatorname{coim}}
\newcommand{\ssets}[0]{\operatorname{sSets}}
\newcommand{\dom}[0]{\operatorname{dom}}
\newcommand{\txor}[0]{{\operatorname{ or }}}
\newcommand{\txt}[1]{{\operatorname{ {#1} }}}
\newcommand{\Gr}[0]{{\operatorname{Gr}}}
\newcommand{\gr}[0]{{\operatorname{gr}}}
\newcommand{\dcoset}[3]{% 
    {\textstyle #1}
    \mkern-4mu\scalebox{1.5}{$\diagdown$}\mkern-5mu^{\textstyle #2}%
    \mkern-4mu\scalebox{1.5}{$\diagup$}\mkern-5mu{\textstyle #3} }
\newcommand{\grdim}[0]{{\operatorname{gr\,dim}}}
\newcommand{\Aut}[0]{{\operatorname{Aut}}}
\newcommand{\aut}[0]{\operatorname{Aut}}
\newcommand{\Inn}[0]{{\operatorname{Inn}}}
\newcommand{\Out}[0]{{\operatorname{Out}}}
\newcommand{\mltext}[1]{\left\{\begin{array}{c}#1\end{array}\right\}}
\newcommand{\Fun}[0]{{\operatorname{Fun}}}
\newcommand{\SL}[0]{{\operatorname{SL}}}
\newcommand{\PSL}[0]{{\operatorname{PSL}}}
\newcommand{\SO}[0]{{\operatorname{SO}}}
\newcommand{\SU}[0]{{\operatorname{SU}}}
\newcommand{\SP}[0]{{\operatorname{SP}}}
\newcommand{\per}[0]{{\operatorname{Per}}}
\newcommand{\loc}[0]{{\operatorname{loc}}}
\newcommand{\Top}[0]{{\operatorname{Top}}}
\newcommand{\Ab}[0]{{\operatorname{Ab}}}
\newcommand{\mcTop}[0]{\mathcal{T}\operatorname{op}}
\newcommand{\hoTop}[0]{{\operatorname{hoTop}}}
\newcommand{\Sch}[0]{{\operatorname{Sch}}}
\newcommand{\sch}[0]{{\operatorname{Sch}}}
\newcommand{\Sing}[0]{{\operatorname{Sing}}}
\newcommand{\alg}[0]{\mathrm{Alg}}
\newcommand{\scalg}[0]{\mathrm{sCAlg}}
\newcommand{\calg}[0]{\mathrm{CAlg}}
\newcommand{\dR}[0]{\mathrm{dR}}
\newcommand{\poly}[0]{\operatorname{poly}}
\newcommand{\Vect}[0]{{\operatorname{Vect}}}
\newcommand{\Sh}[0]{{\operatorname{Sh}}}
\newcommand{\presh}[0]{{\operatorname{Presh}}}
\newcommand{\Presh}[0]{{\operatorname{Presh}}}
\newcommand{\ab}[0]{{\operatorname{ab}}}
\newcommand{\Op}[0]{{\operatorname{Op}}}
\newcommand{\Ob}[0]{{\operatorname{Ob}}}
\newcommand{\prim}[0]{{\operatorname{prim}}}
\newcommand{\Set}[0]{{\operatorname{Set}}}
\newcommand{\Sets}[0]{{\operatorname{Set}}}
\newcommand{\Grp}[0]{{\operatorname{Grp}}}
\newcommand{\Groups}[0]{{\operatorname{Groups}}}
\newcommand{\Homeo}[0]{{\operatorname{Homeo}}}
\newcommand{\Diffeo}[0]{{\operatorname{Diffeo}}}
\newcommand{\MCG}[0]{{\operatorname{MCG}}}
\newcommand{\set}[0]{{\operatorname{Set}}}
\newcommand{\Tor}[0]{\operatorname{Tor}}
\newcommand{\sets}[0]{{\operatorname{Set}}}
\newcommand{\Sm}[0]{{\operatorname{Sm}_k}}
\newcommand{\orr}[0]{{\operatorname{ or }}}
\newcommand{\annd}[0]{{\operatorname{ and }}}
\newcommand{\bung}[0]{\operatorname{Bun}_G}
\newcommand{\const}[0]{{\operatorname{const.}}}
\newcommand{\disc}[0]{{\operatorname{disc}}}
\newcommand{\op}[0]{^\operatorname{op}}
\newcommand{\id}[0]{\operatorname{id}}
\newcommand{\im}[0]{\operatorname{im}}
\newcommand{\pt}[0]{{\{\operatorname{pt}\}}}
\newcommand{\sep}[0]{^\operatorname{sep}}
\newcommand{\tors}[0]{{\operatorname{tors}}}
\newcommand{\tor}[0]{\operatorname{Tor}}
\newcommand{\height}[0]{\operatorname{ht}}
\newcommand{\cpt}[0]{\operatorname{compact}}
\newcommand{\abs}[1]{{\left\lvert {#1} \right\rvert}}
\newcommand{\stack}[1]{\mathclap{\substack{ #1 }}} 
\newcommand{\qtext}[1]{{\quad \operatorname{#1} \quad}}
\newcommand{\qst}[0]{{\quad \operatorname{such that} \quad}}
\newcommand{\actsonl}[0]{\curvearrowleft}
\newcommand{\actson}[0]{\curvearrowright}
\newcommand{\bd}[0]{{\del}}
\newcommand{\bigast}[0]{{\mathop{\Large \ast}}}
\newcommand{\coker}[0]{\operatorname{coker}}
\newcommand{\cok}[0]{\operatorname{coker}}
\newcommand{\conjugate}[1]{{\overline{{#1}}}}
\newcommand{\converges}[1]{\overset{#1}}
\newcommand{\correspond}[1]{\theset{\substack{#1}}}
\newcommand{\cross}[0]{\times}
\newcommand{\by}[0]{\times}
\newcommand{\dash}[0]{{\hbox{-}}}
\newcommand{\dd}[2]{{\frac{\partial #1}{\partial #2}\,}}
\newcommand{\definedas}[0]{\coloneqq}
\newcommand{\da}[0]{\coloneqq}
\newcommand{\del}[0]{{\partial}}
\newcommand{\directlim}[0]{\varinjlim}
\newcommand{\inverselim}[0]{\varprojlim}
\newcommand{\disjoint}[0]{{\coprod}}
\newcommand{\Disjoint}[0]{\displaystyle\coprod}
```
```{=tex}
\newcommand{\divides}[0]{{~\Bigm|~}}
\newcommand{\dual}[0]{^\vee}
\newcommand{\sm}[0]{\setminus}
\newcommand{\smz}[0]{\setminus\theset{0}}
\newcommand{\eps}[0]{\varepsilon}
\newcommand{\equalsbecause}[1] {\stackrel{\mathclap{\scriptscriptstyle{#1}}}{=}}
\newcommand{\floor}[1]{{\left\lfloor #1 \right\rfloor}}
\newcommand{\up}[0]{\uparrow}
\newcommand{\generators}[1]{\left\langle{#1}\right\rangle}
\newcommand{\gs}[1]{\left\langle{#1}\right\rangle}
\newcommand{\homotopic}[0]{\simeq}
\newcommand{\injectivelim}[0]{\varinjlim}
\newcommand{\inner}[2]{{\left\langle {#1},~{#2} \right\rangle}}
\newcommand{\ip}[2]{{\left\langle {#1},~{#2} \right\rangle}}
\newcommand{\union}[0]{\cup}
\newcommand{\Union}[0]{\bigcup}
\newcommand{\intersect}[0]{\cap}
\newcommand{\Intersect}[0]{\bigcap}
\newcommand{\into}[0]{\to}
\newcommand{\inv}[0]{^{-1}}
\newcommand{\mfa}[0]{{\mathfrak{a}}}
\newcommand{\mfb}[0]{{\mathfrak{b}}}
\newcommand{\mfc}[0]{{\mathfrak{c}}}
\newcommand{\mff}[0]{{\mathfrak{f}}}
\newcommand{\mfi}[0]{{\mathfrak{I}}}
\newcommand{\mfm}[0]{{\mathfrak{m}}}
\newcommand{\mfn}[0]{{\mathfrak{n}}}
\newcommand{\mfp}[0]{{\mathfrak{p}}}
\newcommand{\mfq}[0]{{\mathfrak{q}}}
\newcommand{\mfr}[0]{{\mathfrak{r}}}
\newcommand{\lieb}[0]{{\mathfrak{b}}}
\newcommand{\liegl}[0]{{\mathfrak{gl}}}
\newcommand{\lieg}[0]{{\mathfrak{g}}}
\newcommand{\lieh}[0]{{\mathfrak{h}}}
\newcommand{\lien}[0]{{\mathfrak{n}}}
\newcommand{\liesl}[0]{{\mathfrak{sl}}}
\newcommand{\lieso}[0]{{\mathfrak{so}}}
\newcommand{\liesp}[0]{{\mathfrak{sp}}}
\newcommand{\lieu}[0]{{\mathfrak{u}}}
\newcommand{\Lie}[0]{\operatorname{Lie}}
\newcommand{\nilrad}[0]{{\mathfrak{N}}}
\newcommand{\jacobsonrad}[0]{{\mathfrak{J}}}
\newcommand{\mm}[0]{{\mathfrak{m}}}
\newcommand{\pr}[0]{{\operatorname{pr}}}
\newcommand{\mapsvia}[1]{\xrightarrow{#1}}
\newcommand{\fromvia}[1]{\xleftarrow{#1}}
\newcommand{\mapstovia}[1]{\xmapsto{#1}}
\newcommand{\ms}[0]{\xrightarrow{\sim}}
\newcommand{\from}[0]{\leftarrow}
\newcommand{\mapstofrom}[0]{\rightleftharpoons}
\DeclareMathOperator*{\mapbackforth}{\rightleftharpoons}
\newcommand{\mapscorrespond}[2]{\mathrel{\operatorname*{\rightleftharpoons}_{#1}^{#2}}}
\newcommand{\injects}[0]{\hookrightarrow}
\newcommand{\injectsvia}[1]{\xhookrightarrow{#1}}
\newcommand{\surjects}[0]{\twoheadrightarrow}
\newcommand{\surjectsvia}[2][]{%
  \xrightarrow[#1]{#2}\mathrel{\mkern-14mu}\rightarrow
}
\newcommand{\adjoint}[0]{\leftrightarrows}
\newcommand{\kx}[1]{k[x_1, \cdots, x_{#1}]}
\newcommand{\kxn}[0]{k[x_1, \cdots, x_{n}]}
\newcommand{\MM}[0]{{\mathcal{M}}}
\newcommand{\OO}[0]{{\mathcal{O}}}
\newcommand{\OX}[0]{{\mathcal{O}_X}}
\newcommand{\imaginarypart}[1]{{\mathcal{Im}({#1})}}
\newcommand{\mca}[0]{{\mathcal{A}}}
\newcommand{\mcb}[0]{{\mathcal{B}}}
\newcommand{\mcc}[0]{{\mathcal{C}}}
\newcommand{\mcd}[0]{{\mathcal{D}}}
\newcommand{\mce}[0]{{\mathcal{E}}}
\newcommand{\mcf}[0]{{\mathcal{F}}}
\newcommand{\mcg}[0]{{\mathcal{G}}}
\newcommand{\mch}[0]{{\mathcal{H}}}
\newcommand{\mci}[0]{{\mathcal{I}}}
\newcommand{\mcj}[0]{{\mathcal{J}}}
\newcommand{\mck}[0]{{\mathcal{K}}}
\newcommand{\mcl}[0]{{\mathcal{L}}}
\newcommand{\mcm}[0]{{\mathcal{M}}}
\newcommand{\mcp}[0]{{\mathcal{P}}}
\newcommand{\mcs}[0]{{\mathcal{S}}}
\newcommand{\mct}[0]{{\mathcal{T}}}
\newcommand{\mcu}[0]{{\mathcal{U}}}
\newcommand{\mcv}[0]{{\mathcal{V}}}
\newcommand{\mcx}[0]{{\mathcal{X}}}
\newcommand{\mcz}[0]{{\mathcal{Z}}}
\newcommand{\kfq}[0]{K_{/\mathbb{F}_q}}
\newcommand{\cl}[0]{\operatorname{cl}}
\newcommand{\Cl}[0]{\operatorname{Cl}}
\newcommand{\St}[0]{\operatorname{St}}
\newcommand{\trdeg}[0]{\operatorname{trdeg}}
\newcommand{\dist}[0]{\operatorname{dist}}
\newcommand{\Dist}[0]{\operatorname{Dist}}
\newcommand{\crit}[0]{\operatorname{crit}}
\newcommand{\diam}[0]{{\operatorname{diam}}}
\newcommand{\gal}[0]{\operatorname{Gal}}
\newcommand{\diff}[0]{\operatorname{Diff}}
\newcommand{\diag}[0]{\operatorname{diag}}
\newcommand{\soc}[0]{\operatorname{Soc}}
\newcommand{\hd}[0]{\operatorname{Head}}
\newcommand{\grad}[0]{\operatorname{grad}}
\newcommand{\hilb}[0]{\operatorname{Hilb}}
\newcommand{\minpoly}[0]{{\operatorname{minpoly}}}
\newcommand{\Hom}[0]{{\operatorname{Hom}}}
\newcommand{\shom}{\mathscr{H}\operatorname{\kern -3pt {\calligra\large om}}}
\newcommand{\Map}[0]{{\operatorname{Map}}}
\newcommand{\multinomial}[1]{\left(\!\!{#1}\!\!\right)}
\newcommand{\nil}[0]{{\operatorname{nil}}}
\newcommand{\normalneq}{\mathrel{\reflectbox{$\trianglerightneq$}}}
\newcommand{\normal}[0]{{~\trianglelefteq~}}
\newcommand{\norm}[1]{{\left\lVert {#1} \right\rVert}}
\newcommand{\pnorm}[2]{{\left\lVert {#1} \right\rVert}_{#2}}
\newcommand{\notdivides}[0]{\nmid}
\newcommand{\notimplies}[0]{\centernot\implies}
\newcommand{\onto}[0]{\twoheadhthtarrow}
\newcommand{\ord}[0]{{\operatorname{Ord}}}
\newcommand{\pic}[0]{{\operatorname{Pic}}}
\newcommand{\projectivelim}[0]{\varprojlim}
\newcommand{\rad}[0]{{\operatorname{rad}}}
\newcommand{\ralg}[0]{\operatorname{R-alg}}
\newcommand{\kalg}[0]{k\dash\operatorname{alg}}
\newcommand{\rank}[0]{\operatorname{rank}}
\newcommand{\realpart}[1]{{\mathcal{Re}({#1})}}
\newcommand{\Log}[0]{\operatorname{Log}}
\newcommand{\reg}[0]{\operatorname{Reg}}
\newcommand{\restrictionof}[2]{ {\left.{{#1}} \right|_{{#2}} } }
\newcommand{\ro}[2]{{ \left.{{#1}} \right|_{{#2}} }}
\newcommand{\rk}[0]{{\operatorname{rank}}}
\newcommand{\evalfrom}[0]{\Big|}
\newcommand{\rmod}[0]{{R\dash\operatorname{mod}}}
\newcommand{\mods}[1]{{{#1}\dash\operatorname{mod}}}
\newcommand{\modr}[0]{{\operatorname{mod}}}
\newcommand{\kmod}[0]{{k\dash\operatorname{mod}}}
\newcommand{\Mod}[0]{{\operatorname{Mod}}}
\newcommand{\rotate}[2]{{\style{display: inline-block; transform: rotate(#1deg)}{#2}}}
\newcommand{\selfmap}[0]{{\circlearrowleft}}
\newcommand{\semidirect}[0]{\rtimes}
\newcommand{\sgn}[0]{\operatorname{sgn}}
\newcommand{\sign}[0]{\operatorname{sign}}
\newcommand{\spanof}[0]{{\operatorname{span}}}
\newcommand{\spec}[0]{\operatorname{Spec}}
\newcommand{\mspec}[0]{\operatorname{mSpec}}
\newcommand{\Jac}[0]{\operatorname{Jac}}
\newcommand{\stab}[0]{{\operatorname{Stab}}}
\newcommand{\stirlingfirst}[2]{\genfrac{[}{]}{0pt}{}{#1}{#2}}
\newcommand{\stirling}[2]{\genfrac\{\}{0pt}{}{#1}{#2}}
\newcommand{\strike}[1]{{\enclose{horizontalstrike}{#1}}}
\newcommand{\suchthat}[0]{{~\mathrel{\Big|}~}}
\newcommand{\st}[0]{{~\mathrel{\Big|}~}}
\newcommand{\supp}[0]{{\operatorname{supp}}}
\newcommand{\sym}[0]{\operatorname{Sym}}
\newcommand{\tensor}[0]{\otimes}
\newcommand{\connectsum}[0]{\mathop{\Large \#}}
\newcommand{\theset}[1]{\left\{{#1}\right\}}
\newcommand{\ts}[1]{\left\{{#1}\right\}}
\newcommand{\infsum}[1]{\sum_{{#1=0}}^\infty}
\newcommand{\gens}[1]{\left\langle{#1}\right\rangle}
\newcommand{\thevector}[1]{{\left[ {#1} \right]}}
\newcommand{\tv}[1]{{\left[ {#1} \right]}}
\newcommand{\too}[1]{{\xrightarrow{#1}}}
\newcommand{\transverse}[0]{\pitchfork}
\newcommand{\trianglerightneq}{\mathrel{\ooalign{\raisebox{-0.5ex}{\reflectbox{\rotatebox{90}{$\nshortmid$}}}\cr$\triangleright$\cr}\mkern-3mu}}
\newcommand{\tr}[0]{\operatorname{Tr}}
\newcommand{\uniformlyconverges}[0]{\rightrightarrows}
\newcommand{\abuts}[0]{\Rightarrow}
\newcommand{\covers}[0]{\rightrightarrows}
\newcommand{\units}[0]{^{\times}}
\newcommand{\nonzero}[0]{^{\bullet}}
\newcommand{\wait}[0]{{\,\cdot\,}}
\newcommand{\wt}[0]{{\operatorname{wt}}}
\renewcommand{\bar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}
\renewcommand{\div}[0]{\operatorname{Div}}
\newcommand{\Div}[0]{\operatorname{Div}}
\newcommand{\Prin}[0]{\operatorname{Prin}}
\newcommand{\Frac}[0]{\operatorname{Frac}}
\renewcommand{\hat}[1]{\widehat{#1}}
\renewcommand{\mid}[0]{\mathrel{\Big|}}
\renewcommand{\qed}[0]{\hfill\blacksquare}
\renewcommand{\too}[0]{\longrightarrow}
\renewcommand{\vector}[1]{\mathbf{#1}}
\let\oldexp\exp
\renewcommand{\exp}[1]{\oldexp\qty{#1}}
\let\oldperp\perp
\renewcommand{\perp}[0]{^\oldperp}
\newcommand*\dif{\mathop{}\!\operatorname{d}}
\newcommand{\ddt}{\tfrac{\dif}{\dif t}}
\newcommand{\ddx}{\tfrac{\dif}{\dif x}}
\renewcommand{\labelitemiii}{$\diamondsuit$}
\renewcommand{\labelitemiv}{$\diamondsuit$}
\newcommand\vecc[2]{\textcolor{#1}{\textbf{#2}}}
\newcommand*{\vertbar}{\rule[-1ex]{0.5pt}{2.5ex}}
\newcommand*{\horzbar}{\rule[.5ex]{2.5ex}{0.5pt}}
\newcommand\aug{\fboxsep=-\fboxrule\!\!\!\fbox{\strut}\!\!\!}
\newcommand\rref{\operatorname{RREF}}
\newcommand{\interior}[0]{^\circ}
\newcommand{\increasesto}[0]{\nearrow}
\newcommand{\decreasesto}[0]{\searrow}
\newcommand\jan{\operatorname{Jan}}
```
```{=tex}
\DeclareMathOperator{\righttriplearrows} {{\; \tikz{ \foreach \y in {0, 0.1, 0.2} { \draw [-stealth] (0, \y) -- +(0.5, 0);}} \; }}
\DeclareMathOperator{\righttriplearrows} {{\; \tikz{ \foreach \y in {0, 0.1, 0.2} { \draw [-stealth] (0, \y) -- +(0.5, 0);}} \; }}
\DeclareMathOperator{\Exists}{\exists}
\DeclareMathOperator{\Forall}{\forall}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclareMathOperator*{\hocolim}{hocolim}
```
```{=tex}
\newcommand{\contains}[0]{\supseteq}
\newcommand{\containing}[0]{\supseteq}
```
```{=tex}
\newcommand{\cat}[1]{\mathcal{#1}}
\newcommand{\thecat}[1]{\mathbf{#1}}
\newcommand{\sheaf}[1]{\operatorname{\mathcal{#1}}}
```
```{=tex}
\newcommand\rrarrows{\rightrightarrows}
\newcommand\rrrarrows{
    \mathrel{\substack{\textstyle\rightarrow\\[-0.6ex]
        \textstyle\rightarrow \\[-0.6ex]
        \textstyle\rightarrow}}
}
```
```{=tex}
\newcommand{\colim}{\operatornamewithlimits{\underset{\longrightarrow}{colim}}}
```
```{=tex}
\newcommand\fp[1]{\underset{\scriptscriptstyle {#1} }{\times}}
\newcommand\ul[1]{\underline{#1}}
```
```{=tex}
\newcommand\Hc[0]{{\check{H}}}
\newcommand\Cc[0]{{\check{C}}}
```
These are notes live-tex'd from a graduate course in Étale Cohomology
taught by Daniel Litt at the University of Georgia in Fall 2020. As
such, any errors or inaccuracies are almost certainly my own.

```{=tex}
\medskip
\begin{flushright}
  D. Zack Garza, \today \\
  \currenttime
\end{flushright}
```
# Lecture 1

## References

-   <https://www.daniellitt.com/tale-cohomology>
-   [@milneLEC], [@milne_2017], [@freitag_kiehl_2013], [@katz]

## Intro

Prerequisites:

-   Homological Algebra
    -   Abelian Categories
    -   Derived Functors
    -   Spectral Sequences (just exposure!)
-   Sheaf theory and sheaf cohomology
-   Schemes (Hartshorne II and III)

Outline/Goals:

-   Basics of etale cohomology
    -   Etale morphism
    -   Grothendieck topologies
    -   The etale topology
    -   Etale cohomology and the basis theorems
    -   Etale cohomology of curves
    -   Comparison theorems to singular cohomology
    -   Focused on the case where coefficients are a constructible
        sheaf.
-   Prove the Weil Conjectures (more than one proof)
    -   Proving the Riemann Hypothesis for varieties over finite fields

    > One of the greatest pieces of 20th century mathematics!
-   Topics
    -   Weil 2 (Strengthening of RH, used in practice)
    -   Formality of algebraic varieties (topological features unique to
        varieties)
    -   Other things (monodromy, refer to Katz' AWS notes)

## What is Etale Cohomology?

Suppose $X/{\mathbb{C}}$ is a quasiprojective variety: a finite type
separated integral ${\mathbb{C}}{\hbox{-}}$scheme. If you take the
complex points, it naturally has the structure of a complex analytic
space $X({\mathbb{C}})^{\text{an}}$: you can give it the Euclidean
topology, which is much finer than the Zariski topology. For a nice
topological space, we can associate the singular cohomology
$H^i(X({\mathbb{C}})^{\text{an}}, {\mathbb{Z}})$, which satisfies
several nice properties:

-   Finitely generated ${\mathbb{Z}}{\hbox{-}}$modules
-   Extra Hodge structure when tensored up to ${\mathbb{C}}$ (same as
    ${\mathbb{C}}$ coefficients)
-   Cycle classes (i.e. associate to a subvariety a class in cohomology)

Goal of etale cohomology: do something similar for much more general
"nice" schemes. Note that some of these properties are special to
complex varieties. (E.g. finitely generated: not true for a random
topological space.)

We'll associate $X$ a "nice scheme"
$\rightsquigarrow H^i(X_{\text{et}}, {\mathbb{Z}}/\ell^n{\mathbb{Z}})$.
Take the inverse limit over all $n$ to obtain the $\ell{\hbox{-}}$adic
cohomology $H^i(X_{\text{et}}, {\mathbb{Z}}_\ell)$. You can tensor with
${\mathbb{Q}}$ to get something with ${\mathbb{Q}}_\ell$ coefficients.
And as in singular cohomology, you can a "twisted coefficient system".

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
What are some nice schemes?

-   $X = \operatorname{Spec}{\mathcal{O}}_k$, the ring of integers over
    a number field.
-   $X$ a variety over an algebraically closed field
    -   Typical, most analogous to taking a variety over ${\mathbb{C}}$.
-   $X$ a variety over a non-algebraically closed field

```{=latex}
\end{example}
```
:::

Some comparisons between the last two cases:

-   For ${\mathbb{C}}{\hbox{-}}$ variety, $H^i_{\text{sing}}$ will
    vanish above $i=2d$.
-   Over a finite field, $H^i$ will vanish for $i>2d+1$ but generally
    not vanish for $i=2d+1$.

In good situations, these are finitely generated
${\mathbb{Z}}/\ell^n{\mathbb{Z}}{\hbox{-}}$modules, have Mayer-Vietoris
and excision sequences, spectral sequences, etc. Related invariants: for
a scheme with a geometric point [^1]

$(X, \mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu) \rightsquigarrow \pi_1^{\text{étale}}(X, \mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu)$,
which is a profinite topological group, which is a profinite topological
group.

::: {.remark}
```{=latex}
\begin{remark}
```
More invariants beyond the scope of this course:

-   Higher homotopy groups
-   Homotopy type (equivalence class of spaces)

So we want homotopy-theoretic invariants for varieties.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This cohomology theory is necessarily weird! The following theorem
explains why. The slogan: there is no cohomology theory with
${\mathbb{Q}}$ coefficients.

```{=latex}
\end{remark}
```
:::

::: {.theorem title="Serre"}
```{=latex}
\begin{theorem}[Serre]
```
There does not exists a cohomology theory for schemes over
$\mkern 1.5mu\overline{\mkern-1.5mu{\mathbb{F}}\mkern-1.5mu}\mkern 1.5mu_q$
with the following properties:

1.  Functorial
2.  Satisfies the Kunneth formula
3.  For $E$ an elliptic curve, $H^1(E) = {\mathbb{Q}}^2$.

```{=latex}
\end{theorem}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Take $E$ to be a supersingular elliptic curve. Then
$\endo(E) \otimes{\mathbb{Q}}$ is a quaternion algebra, and use the fact
that there are no algebra morphisms
$R\to \operatorname{Mat}_{2\times 2}({\mathbb{Q}})$.

```{=latex}
\end{proof}
```
:::

::: {.exercise}
```{=latex}
\begin{exercise}
```
Functoriality and Kunneth implies that $\endo(E)\curvearrowright E$
yields an action on $H^1(E)$, which is precisely an algebra morphism
$\endo(E) \to \operatorname{Mat}_{2\times 2}({\mathbb{Q}})$, a
contradiction.

The content here: the sum of two endomorphisms act via their sum on
$H^1$.

```{=latex}
\end{exercise}
```
:::

::: {.exercise}
```{=latex}
\begin{exercise}
```
Prove the same thing for ${\mathbb{Q}}_p$ coefficients, where $p$
divides the characteristic of the ground field. Proof the same, just
need to know what quaternion algebras show up.

```{=latex}
\end{exercise}
```
:::

This forces using some funky type of coefficients.

## What are the Weil Conjectures?

Suppose $X/{\mathbb{F}}_q$ is a variety, then `
\begin{align*}  
\zeta_X(t) = \exp\qty{\sum_{n>0} { {{\left\lvert {X({\mathbb{F}}_{q^n})} \right\rvert} \over n} t^n } }
.\end{align*}`{=tex}

::: {.remark}
```{=latex}
\begin{remark}
```
```{=tex}
\envlist
```
-   ${\frac{\partial }{\partial t}\,} \log \zeta_X(t)$ is an ordinary
    generating function for the number of rational points.

-   Slogan: locations of zeros and poles of a meromorphic function
    control the growth rate of the coefficients of the Taylor series of
    the logarithmic derivative.

```{=latex}
\end{remark}
```
:::

::: {.exercise}
```{=latex}
\begin{exercise}
```
Make this slogan precise for rational functions, i.e. ratios of two
polynomials.

```{=latex}
\end{exercise}
```
:::

::: {.theorem title="The Weil Conjectures"}
```{=latex}
\begin{theorem}[The Weil Conjectures]
```
```{=tex}
\envlist
```
1.  $\zeta_x(t)$ is a rational function.

2.  (Functional equation) For $X$ smooth and proper `
    \begin{align*}  
    \zeta_X(q^{-n} t^{-1}) = \pm q^{nE \over 2} t^E \zeta_X(t)
    .\end{align*}`{=tex}

3.  (RH) All roots and poles of $\zeta_X(t)$ have absolute value
    $q^{i\over 2}$ with $i\in {\mathbb{Z}}$, and these are equal to the
    $i$th Betti numbers if $X$ lifts to characteristic zero.[^2]

```{=latex}
\end{theorem}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
These are all theorems! The proofs:

1.  Dwork, using $p{\hbox{-}}$adic methods. Proof here will follow from
    the fact that $H^i_{\text{étale} }$ are finite-dimensional. Related
    to the **Lefschetz Trace Formula**, and is how Grothendieck thought
    about it.

2.  Grothendieck, follows from some version of Poincaré duality.

3.  (and 4) Deligne.

```{=latex}
\end{remark}
```
:::

### Euler Product

Let ${\left\lvert {X} \right\rvert}$ denote the closed points of $X$,
then there is an Euler product: `
\begin{align*}  
\zeta_X(q^{-n} t^{-1}) = \pm q^{nE \over 2} t^E \zeta_X(t)
&= \prod_{x\in {\left\lvert {X} \right\rvert}} \exp\qty{t^{\deg (x)} + {t^{2\deg (x)} \over 2} + \cdots} \\
&= \prod_{x\in {\left\lvert {X} \right\rvert}} \exp\qty{-\log(1-t^{\deg(x)})} \\
&= \prod_{x\in {\left\lvert {X} \right\rvert}} {1 \over 1 - t^{\deg(x)}}
.\end{align*}`{=tex}

::: {.exercise}
```{=latex}
\begin{exercise}
```
Check the first equality. If you have a point of $\deg(x) = n$, how many
${\mathbb{F}}_{q^n}$ points does this contribute? I.e., how many maps
are there
$\operatorname{Spec}({\mathbb{F}}_{q^n}) \to \operatorname{Spec}({\mathbb{F}}_{q^n})$
over ${\mathbb{F}}_q$?

There are exactly $n$: it's
$\operatorname{Gal}({\mathbb{F}}_{q^n} / {\mathbb{F}}_q)$. But then
division by $n$ drops this contribution to one.

```{=latex}
\end{exercise}
```
:::

We can keep going by expanding and multiplying out the product: `
\begin{align*}  
\prod_{x\in {\left\lvert {X} \right\rvert}} {1 \over 1 - t^{\deg(x)}}
&= \prod_{x\in {\left\lvert {X} \right\rvert}} (1 + t^{\deg(x)} + t^{2 \deg(x)}) \\
&= \sum_{n\geq 0} \qty{\text{\# of Galois-stable subset of $X(\mkern 1.5mu\overline{\mkern-1.5mu{\mathbb{F}}\mkern-1.5mu}\mkern 1.5mu_{q^n})$ of size $n$}}t^n
.\end{align*}`{=tex}

Why? If you have a degree $x$ point, it contributes a stable subset of
size $x$: namely the ${\mathbb{F}}_{q^n}$ points of
${\mathbb{F}}_{q^n}$. Taking Galois orbits like that correspond to
multiplying this product. But these are the points of some algebraic
variety: `
\begin{align*}  
\cdots 
= \sum_{n\geq 0} {\left\lvert {\operatorname{Sym}^n(X)({\mathbb{F}}_q)} \right\rvert} t^n
,\end{align*}`{=tex} where
$\operatorname{Sym}^n(X) \mathrel{\vcenter{:}}= X^n/\Sigma_n$, the
action of the symmetric group. Why is that? A
$\mkern 1.5mu\overline{\mkern-1.5mu{\mathbb{F}}\mkern-1.5mu}\mkern 1.5mu_q$
point of $\operatorname{Sym}^n(X)$ is an unordered $n{\hbox{-}}$tuple of
$\mkern 1.5mu\overline{\mkern-1.5mu{\mathbb{F}}\mkern-1.5mu}\mkern 1.5mu_q$
points without an ordering, and asking them to be Galois stable is the
same as saying that they are an ${\mathbb{F}}_q$ point.

::: {.theorem title="First Weil Conjecture for Curves"}
```{=latex}
\begin{theorem}[First Weil Conjecture for Curves]
```
For $X$ a smooth proper curve over ${\mathbb{F}}_q$, $\zeta_X(t)$ is
rational.

```{=latex}
\end{theorem}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
::: {.claim}
```{=latex}
\begin{claim}
```
There is a set map `
\begin{align*}  
\operatorname{Sym}^n X &\to {\operatorname{Pic}}^n X \\
D &\mapsto {\mathcal{O}}(D)
,\end{align*}`{=tex} where here the divisor is an $n{\hbox{-}}$tuple of
points.

```{=latex}
\end{claim}
```
:::

What are the fibers over a line bundle ${\mathcal{O}}(D)$? A linear
system, i.e. the projectivization of global sections
${\mathbb{P}}\Gamma(X, {\mathcal{O}}(D))$. What is the expected
dimension? To compute the dimension of the space of line bundles on a
curve, use Riemann-Roch: `
\begin{align*}  
\dim {\mathbb{P}}\Gamma(X, {\mathcal{O}}(D)) = \deg(D) + 1 - g + \dim H^1(X, {\mathcal{O}}(D)) - 1
.\end{align*}`{=tex} where the last $-1$ comes from the fact that this
is a projective space.

::: {.claim}
```{=latex}
\begin{claim}
```
If $\deg(D) = 2g-2$, then $H^1(X, {\mathcal{O}}(D)) = 0$.

```{=latex}
\end{claim}
```
:::

This is because it's dual to $H^0(X, {\mathcal{O}}(K-D))^\vee$, but this
has negative degree and a line bundle of negative degree can never have
sections.[^3] Thus the fibers are isomorphic to ${\mathbb{P}}^{n-g}$ for
$n>2g-2$. Now make a reduction[^4] and without loss of generality,
assume $X({\mathbb{F}}_q) \neq \emptyset$. In this case,
${\operatorname{Pic}}^n(X) \cong {\operatorname{Pic}}^{n+1}(X)$ for all
$n$, since you can take ${\mathcal{O}}(P)$ for $P$ a point, a degree 1
line bundle, and tensor with it. It's an isomorphism because you can
tensor with the dual bundle to go back. Thus for all $n>2g-2$, `
\begin{align*}  
{\left\lvert {\operatorname{Sym}^n(X)({\mathbb{F}}_q)} \right\rvert} 
= {\left\lvert {{\mathbb{P}}^{n-g}({\mathbb{F}}_q)} \right\rvert} \cdot {\left\lvert {{\operatorname{Pic}}^n(X)({\mathbb{F}}_q)} \right\rvert}
= {\left\lvert {{\mathbb{P}}^{n-g}({\mathbb{F}}_q)} \right\rvert} \cdot {\left\lvert {{\operatorname{Pic}}^0(X)({\mathbb{F}}_q)} \right\rvert}
.\end{align*}`{=tex}

Thus $\zeta_X(t)$ is a polynomial plus
$\sum_{n>2g-2} {\left\lvert {{\operatorname{Pic}}^n(X)({\mathbb{F}}_q)} \right\rvert}\qty{1+q+q^2+\cdots+q^{n-g}}t^n$.

::: {.exercise}
```{=latex}
\begin{exercise}
```
Show that this is a rational function using the formula for a geometric
series.

```{=latex}
\end{exercise}
```
:::

```{=latex}
\end{proof}
```
:::

::: {.theorem title="Functional Equation"}
```{=latex}
\begin{theorem}[Functional Equation]
```
The functional equation in the case of curves: `
\begin{align*}  
\zeta_X(q^{-1} t^{-1} ) = \pm q^{2-2g \over 2} t^{2-2g} \zeta_X(t)
.\end{align*}`{=tex}

```{=latex}
\end{theorem}
```
:::

::: {.exercise title="Important"}
```{=latex}
\begin{exercise}[Important]
```
Where it comes from in terms of $\operatorname{Sym}^n$: Serre duality.

```{=latex}
\end{exercise}
```
:::

We'll show the RH later.

::: {.theorem title="Dwork"}
```{=latex}
\begin{theorem}[Dwork]
```
Suppose $X/{\mathbb{F}}_q$ is any variety, then $\zeta_X(t)$ is rational
function.

```{=latex}
\end{theorem}
```
:::

This was roughly known to Weil, hinted at in original paper

::: {.proof title="Grothendieck"}
```{=latex}
\begin{proof}[Grothendieck]
```
Idea: take Frobenius (intentionally vague, arithmetic vs geometric vs
...) $F:X\to X$, then $X({\mathbb{F}}_q)$ are the fixed points of $F$
acting on
$X_{\mkern 1.5mu\overline{\mkern-1.5mu{\mathbb{F}}\mkern-1.5mu}\mkern 1.5mu_q}$,
and the ${\mathbb{F}}_{q^n}$ points are the fixed points of $F^n$. Uses
the Lefschetz fixed point formula, which will say for
$\ell\neq \operatorname{ch}({\mathbb{F}}_q)$,[^5]

`
\begin{align*}  
{\left\lvert {X({\mathbb{F}}_{q^n})} \right\rvert} = \sum_{i=0}^{2\dim(X)} (-1)^i \operatorname{Tr}(F^n) H^i_c(X_{{\mathbb{F}}_q}, {\mathbb{Q}}_\ell)
.\end{align*}`{=tex}

::: {.lemma}
```{=latex}
\begin{lemma}
```
`
\begin{align*}  
\exp\qty{\sum {\operatorname{Tr}(F^n) \over n}t^n  }\quad\text{is rational}
.\end{align*}`{=tex}

```{=latex}
\end{lemma}
```
:::

This lemma implies the result, because if you plug the trace formula
into the zeta function, you'll get an alternating product
$f \cdots {1\over g} \cdot h \cdot {1\over j} \cdots$ of functions of
the form in the lemma, which is still rational.

```{=latex}
\end{proof}
```
:::

::: {.proof title="Of Lemma"}
```{=latex}
\begin{proof}[Of Lemma]
```
It suffices to treat the case $\dim(V) = 1$, because otherwise you can
just write this as a sum of powers of eigenvalues. Then you have a
scalar matrix, so you obtain `
\begin{align*}  
\exp\qty{ \sum {\alpha^n \over n} t^n} = \exp\qty{ -\log(1 - \alpha t)} = {1 \over 1-\alpha t}
,\end{align*}`{=tex} which is rational.

```{=latex}
\end{proof}
```
:::

This proves rationality, contingent on

1.  The Lefschetz fixed point formula
2.  The finite dimensionality of etale cohomology

::: {.exercise}
```{=latex}
\begin{exercise}
```
Try to figure out how Poincaré duality should give the functional
equation.

*(Hint: try the lemma on a vector space where $F$ scales a bilinear
form.)*

```{=latex}
\end{exercise}
```
:::

::: {.theorem title="Serre, Kahler Analog"}
```{=latex}
\begin{theorem}[Serre, Kahler Analog]
```
Suppose $X/{\mathbb{C}}$ is a smooth projective variety and
$[H] \in H^2(X({\mathbb{C}}), {\mathbb{C}})$ is a hyperplane class
(corresponds to intersection of generic hyperplane or the first Chern
class of an ample line bundle). Suppose $F:X\to X$ is an endomorphism
such that $f^*[H] = q[H]$ for some $q\in {\mathbb{Z}}_{\geq 1}$.

Define `
\begin{align*}  
L(F^n) \mathrel{\vcenter{:}}=
\sum_{i=0}^{2\dim(X)} (-1)^i \operatorname{Tr}\qty{ F^n {~\mathrel{\Big|}~}H^i(X_{{\mathbb{F}}_q}, {\mathbb{Q}}_\ell)}
.\end{align*}`{=tex} and `
\begin{align*}  
\zeta_{X, F}(t) \mathrel{\vcenter{:}}=
\exp\qty{\sum_{n=1}^\infty {L(F^n) \over n}t^n }
.\end{align*}`{=tex}

Then $\zeta_{X, F}(t)$ satisfies the RH: the zeros and poles are of
absolute value $q^{i\over 2}$. Equivalently, the eigenvalues $\lambda$
of $F^n$ actings on $H^i(X, {\mathbb{C}})$ all satisfy
${\left\lvert {\lambda} \right\rvert} = q^{i\over 2}$.

```{=latex}
\end{theorem}
```
:::

Next time, to review

-   Étale morphisms
-   Definition of a site

# Lecture 2

## Review

From last time: we want to prove the following theorem of Serre, a
complex analog of the Weil conjectures. After this, we'll talk about
étale morphisms, the étale topology, and possibly the definition of
étale cohomology.

::: {.theorem title="Serre"}
```{=latex}
\begin{theorem}[Serre]
```
Let $X_{/{\mathbb{C}}}$ be a smooth projective variety and
$[H]\in H^2(X; {\mathbb{Z}})$ be a hyperplane class[^6] and an
endomorphism $F:X\to X$ a map satisfying $F^*[H] = q[H]$ for some
$q\in {\mathbb{Z}}_{\geq 1}$. Then the eigenvalues of $F^*$ on
$H^i(X;{\mathbb{C}})$ all have absolute value $q^{i\over 2}$.

```{=latex}
\end{theorem}
```
:::

Note that the same $q$ is appearing in both parts of the theorem. Why
prove this theorem? Later on, to prove the Riemann hypothesis for
varieties over finite fields, we'll prove that the Frobenius acts in
this way on the étale cohomology. There is in fact a *reason* this is
true, coming from some special properties of the behaviors of the
cohomology of varieties which aren't manifested in random topological
spaces.

::: {.warnings}
```{=latex}
\begin{warnings}
```
The proof here will not look at all like Deligne's proof of the Riemann
hypothesis for varieties over finite fields. We'll see shadows of it,
but use a lot of things that are true for complex varieties that are
still not known for varieties over finite fields.

```{=latex}
\end{warnings}
```
:::

::: {.fact}
```{=latex}
\begin{fact}
```
There is a cup product map `
\begin{align*}  
L: H^i(X; {\mathbb{C}}) &\to H^{i+2}(X; {\mathbb{C}}) \\
\alpha &\mapsto \alpha \smile [H]
.\end{align*}`{=tex} Thus taking the direct sum
$\bigoplus_i H^i(X; {\mathbb{C}})$ yields an algebra.

```{=latex}
\end{fact}
```
:::

::: {.theorem title="Hard Lefschetz"}
```{=latex}
\begin{theorem}[Hard Lefschetz]
```
Each
$H^i(X; {\mathbb{C}}) \cong \operatorname{im}(L) \oplus H^i_{\text{prim}}$,
which is an isomorphism that depends on a choice of hyperplane class
$[H]$ but is then canonically defined. Moreover, there is a Hodge
decomposition
$H^i_{\text{prim}} = \bigoplus_{p+q=i}H^{p, q}_{\text{prim}}$.

```{=latex}
\end{theorem}
```
:::

::: {.theorem title="Hodge Index Theorem"}
```{=latex}
\begin{theorem}[Hodge Index Theorem]
```
If $\alpha, \beta \in H^k(X)_{\text{prim}}$, then there is a natural
pairing `
\begin{align*}  
{\left\langle {a},~{b} \right\rangle} = i^* \int_X a\wedge \mkern 1.5mu\overline{\mkern-1.5mu\beta\mkern-1.5mu}\mkern 1.5mu \wedge [H]^{n-k}
,\end{align*}`{=tex} where we've used the fact that the integrand is a
top form and can thus be integrated. Moreover, this is a *definite*
bilinear form on $H^{p, q}_{\text{prim}}$, i.e. a nonzero element paired
with itself is again nonzero.

```{=latex}
\end{theorem}
```
:::

The moral of the story here is that cohomology breaks up into pieces,
where $\operatorname{im}L$ comes from lower degrees and can perhaps be
controlled inductively, and the higher dimensional pieces carry a
canonical definite bilinear form.

## Sketch proof of Serre's analog of the Riemann hypothesis

As a reminder, we want to show that the eigenvalues of $F^*$ acting on
$H^k(X; {\mathbb{C}})$ have absolute value $q^{k\over 2}$ where $q$ is
the scalar associated to $F$ acting on $[H]$.

::: {.claim}
```{=latex}
\begin{claim}
```
It suffices to do this for $H^k_{\text{prim}}$.

```{=latex}
\end{claim}
```
:::

Why is this true? If we have an eigenvector
$\alpha\in H^{k-2}(X; {\mathbb{C}})$, then by induction on $k$ we can
assume the eigenvalue has absolute value $q^{k-2 \over 2}$. Then
$F^*(\alpha \smile [H]) = F^* \alpha \smile F^*[H] = \lambda \alpha \smile q[H] = q\lambda (\alpha \smile [H])$,
so this is an eigenvector of absolute values
$q q^{k-2\over 2} = q^{k\over 2}$.

Now for the primitive part, let $\alpha\in H^k_{{\operatorname{prim}}}$
be an $F^*$ eigenvector. Since $F^*$ preserves $H^{p, q}$, we can assume
$\alpha \in H^{p, q}_{{\operatorname{prim}}}$ for some $p+q=k$. Consider
`
\begin{align*}  
{\left\langle {F^* \alpha},~{F^*\alpha} \right\rangle}
.\end{align*}`{=tex} On one hand, this is equal to
${\left\lvert {\lambda} \right\rvert}^2 {\left\langle {\alpha},~{\alpha} \right\rangle}$
by sesquilinearity, pulling out a $\lambda$ and a
$\mkern 1.5mu\overline{\mkern-1.5mu\lambda\mkern-1.5mu}\mkern 1.5mu$. On
the other hand, it is equal to `
\begin{align*}  
\cdots 
&= i^* \int F^* \alpha \wedge F^* \mkern 1.5mu\overline{\mkern-1.5mu\alpha \mkern-1.5mu}\mkern 1.5mu\wedge [H]^{n-k} \\
&= {i^k \over q^{n-k}} \int F^*\qty{\alpha \wedge \mkern 1.5mu\overline{\mkern-1.5mu\alpha \mkern-1.5mu}\mkern 1.5mu\wedge [H]^{n-k} } \\
&= {q^n i^k \over q^{n-k}} \int \alpha \wedge \mkern 1.5mu\overline{\mkern-1.5mu\alpha \mkern-1.5mu}\mkern 1.5mu\wedge H^{n-k} \\
&= q^k {\left\langle {\alpha},~{\alpha} \right\rangle}
.\end{align*}`{=tex}

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Using the Lefschetz hyperplane theorem or Poincaré duality, $F^*$ acts
on $H^{2n}(X; {\mathbb{C}})$ via $q^n$.

```{=latex}
\end{exercise}
```
:::

So we're done if
${\left\langle {\alpha},~{\alpha} \right\rangle} \neq 0$, since this
implies ${\left\lvert {\lambda} \right\rvert}^2 = q^k$ and thus
${\left\lvert {\lambda } \right\rvert}= q^{k\over 2}$. Why is this true?
This is the statement of the Hodge index theorem.

::: {.remark title="Slogan"}
```{=latex}
\begin{remark}[Slogan]
```
The structures on cohomology imply this complex analog of the Riemann
hypothesis, and we'll want to use something similar for varieties over a
finite field. This will be hard! Deligne doesn't quite accomplish this:
there's no analog of the Hodge decomposition and we don't know the Hodge
index theorem.

```{=latex}
\end{remark}
```
:::

This is the proof that will motivate much of the rest of what we'll do
in the course.

## Étale Morphisms

This is a property of morphism of schemes, see Hartshorne.

::: {.definition title="Étale Morphism"}
```{=latex}
\begin{definition}[Étale Morphism]
```
Suppose $f:X\to Y$ is a morphism of schemes. Then $f$ is **étale** is it
is locally of finite presentation, flat, and unramified.

```{=latex}
\end{definition}
```
:::

::: {.definition title="Unramified"}
```{=latex}
\begin{definition}[Unramified]
```
$f$ is **unramified** if $\Omega_{X/Y}^1 = 0$ (the relative Kahler
differentials). Equivalently, all residue field extensions are
separable, i.e. given a point in $Y$ with a point in $X$ above it, the
residue fields of these points gives a field extension, and we require
it to be separable.

```{=latex}
\end{definition}
```
:::

::: {.definition title="Formally Etale"}
```{=latex}
\begin{definition}[Formally Etale]
```
Suppose we have a nilpotent ideal $I$, so $I^n = 0$ for some $n$, then
$f:X\to Y$ is **formally étale** if there is a unique lift in the
following diagram:

```{=tex}
\begin{tikzcd}
\operatorname{Spec}(A/I)\ar[r]\ar[d] & X\ar[d, "f"] \\
\operatorname{Spec}(A) \ar[r] \ar[ur, dotted, "\exists !"] & Y
\end{tikzcd}
```
```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This is supposed to resemble a covering space map: We have
$\operatorname{Spec}(A) \in Y$ with a nilpotent thickening and a map
from $A/I$, which you may think of as a reduced subscheme. This thus
says that tangent vectors downstairs can be lifted in a unique way to
tangent vectors upstairs:

![Image](figures/image_2020-11-15-01-41-25.png){width="350px"}

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
There are some equivalent definitions of a morphism being étale:

-   Smooth of relative dimension zero

-   Locally finite presentation and *formally étale*

-   Locally *standard étale*, i.e. for each $x\in X$ with
    $y\mathrel{\vcenter{:}}= f(x)$, there exists a $U\ni x, V\ni y$ such
    that $f(U) \subseteq V$ and
    $V=\operatorname{Spec}(R), U = \operatorname{Spec}\qty{R[x]_h / g}$
    (where we localize at $h$) such that the derivative $g'$ is a unit
    in $R[x]_h$ and $g$ is monic.

For this last definition, thinking of $\operatorname{Spec}(R[x])$ as
$R\times {\mathbb{A}}^n$, what happens when modding out by a polynomial
$g$? This yields a curve cutting out the roots of $g$. Inverting $h$
deletes the locus where $h$ vanishes, and $g'$ being a unit means that
the $g$ has no double roots in the fibers. In other word, the deleted
locus passes through all double roots:

![Image](figures/image_2020-11-15-01-47-05.png){width="350px"}

```{=latex}
\end{remark}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that standard étale morphisms are étale, and try to understand the
proof that all étale morphisms are locally standard étale.

```{=latex}
\end{exercise}
```
:::

::: {.example title="Example of an étale morphism"}
```{=latex}
\begin{example}[Example of an étale morphism]
```
```{=tex}
\envlist
```
-   Multiplication by $[n]$ on an elliptic curve if $n \in {\mathbb{Z}}$
    is invertiable in the base field.

-   Take ${\mathbb{G}}_m = \operatorname{Spec}k[t, t^{-1}]$, and the map
    `
    \begin{align*}  
    {\mathbb{G}}_m &\to {\mathbb{G}}_m \\
     t^m &\mapsfrom t
    ,\end{align*}`{=tex} where $n$ is prime to
    $\operatorname{ch}(k)$.[^7]

```{=latex}
\end{example}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Show that the last map above is étale.

*(Hint: use the fact that
${\frac{\partial }{\partial t}\,} (t^n) = nt^{n-1}$, which is a unit.)*

```{=latex}
\end{exercise}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Consider the map `
\begin{align*}  
{\mathbb{G}}_m &\hookrightarrow{\mathbb{A}}^1 \\
k[t, t^{-1}] &\mapsfrom k[t]
.\end{align*}`{=tex} We need to check 3 things:

-   Locally finite presentation,
    -   This is a finitely presented ring map, since you just need to
        adjoin an inverse of $t$, one element and one relation.
-   Flat,
    -   Since open embeddings are flat,
-   $\Omega^1_{{\mathbb{G}}_m / {\mathbb{A}}^1} = 0$,
    -   True for a Zariski open embedding.

Note that this is finite onto its image.

```{=latex}
\end{example}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Any open immersion is étale.

```{=latex}
\end{proposition}
```
:::

Note that we actually already checked this!

::: {.example title="An étale morphism that is not finite onto its image"}
```{=latex}
\begin{example}[An étale morphism that is not finite onto its image]
```
Use the fact that ${\mathbb{G}}_m$ is
${\mathbb{A}}^1\setminus\left\{{\mathbf{0}}\right\}$, so take
${\mathbb{G}}_m \setminus\left\{{1}\right\}$ and the map `
\begin{align*}  
{\mathbb{G}}_m\setminus\left\{{1}\right\} &\to {\mathbb{G}}_m \\
t^2 &\mapsfrom t
.\end{align*}`{=tex}

What's the picture? For the squaring map, there are two square roots:

![Image](figures/image_2020-11-15-02-01-04.png)

This is an étale surjection but not finite étale, since it is not
proper. This also gives a counterexample to étale morphisms always
looking like covering spaces, since here that may be true locally but
doesn't hold globally.

```{=latex}
\end{example}
```
:::

::: {.warnings}
```{=latex}
\begin{warnings}
```
This is an important example to keep in mind, because you'll often see
arguments that treat étale maps as though they were finite onto their
image.

```{=latex}
\end{warnings}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Take a finite separable field extension, taking $\operatorname{Spec}$ of
it yields an étale map.

```{=latex}
\end{example}
```
:::

Now for some non-examples:

::: {.example title="A finite map which is not etale"}
```{=latex}
\begin{example}[A finite map which is not etale]
```
Take $X = \operatorname{Spec}k[x, y] / xy$, which looks like the
following:

![$X$](figures/image_2020-11-15-02-04-46.png){width="350px"}

Then the normalization $\tilde X\to X$ is not étale, since it is not
flat.

```{=latex}
\end{example}
```
:::

::: {.example title="A finite flat map which is not etale"}
```{=latex}
\begin{example}[A finite flat map which is not etale]
```
Take the map `
\begin{align*}  
{\mathbb{A}}^1 &\to {\mathbb{A}}^1 \\
t^2 &\mapsfrom t
.\end{align*}`{=tex}

The picture is the following:

![Image](figures/image_2020-11-15-02-07-04.png)

This is note étale since it is ramified at zero. We can compute `
\begin{align*}  
\Omega_f^1 = k[t]\, dt / d(t^2) = k[t] dt/ 2t\, dt
,\end{align*}`{=tex} where $2t\,dt$ does not generate this module. This
is supported at $t=0$ if $\operatorname{ch}\neq 2$.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
A finite flat morphism such that $\Omega_{X/Y}^1$ is not torsion: a hint
is that the previous example almost works, with a slight modification.
Let $\operatorname{ch}k = p$, and take `
\begin{align*}  
{\mathbb{A}}^1 &\xrightarrow{F} {\mathbb{A}}^1 \\
t^p &\mapsfrom t
.\end{align*}`{=tex} Then $\Omega_f^1 = k[t]\, dt / d(t^p) = k[t]\,dt$
since $d(t^p) = 0$ in characteristic $p$. This yields line bundles (?),
so it is not torsion.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This map has a name: **the relative Frobenius**. In general, looking at
Frobenii, the Kahler differentials will be very big. You might not be
used to this: in characteristic zero, a map of relative dimension zero
is generically étale. In this case, the Kahler differentials will always
be torsion.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Consider a map `
\begin{align*}  
{\mathbb{A}}^m &\xrightarrow{f_1, \cdots, f_m} {\mathbb{A}}^m
,\end{align*}`{=tex} since such a map is given by a system of $m$
polynomials in $m$ variables. Then $f$ is étale is a neighborhood of
$\mathbf{a}$ if
$\det \qty{{\frac{\partial f_i}{\partial x_j}\,} \Big|_{\mathbf{a}} }$
is a unit.

```{=latex}
\end{example}
```
:::

### Properties of Étale Morphisms

::: {.proposition title="Some properties of étale morphisms"}
```{=latex}
\begin{proposition}[Some properties of étale morphisms]
```
```{=tex}
\envlist
```
1.  Open immersions are étale
2.  Compositions of étale morphisms are étale[^8]
3.  Base change of étale morphisms are étale, i.e. 
    ```{=tex}
    \begin{tikzcd}
    X \times_Y T\ar[d, "\therefore \text{étale}"']\ar[r] & X\ar[d, "\text{étale}"]  \\
    T\ar[r] &  Y\\
    \end{tikzcd}
    ```
4.  There is a 2 out of 3 property: If $\phi \circ \psi$ and $\phi$ are
    étale, then $\psi$ is étale.

```{=latex}
\end{proposition}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Show property 4 above.

```{=latex}
\end{exercise}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Étale morphisms on varieties over an algebraically closed field induce
isomorphisms on complete local rings at closed points.

```{=latex}
\end{proposition}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Prove this! Hint: use the criterion for formal étaleness. There's an
evident map one way on local rings coming from your étale morphism, and
you need to produce the inverse map.

```{=latex}
\end{exercise}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
$\danger$ If $\psi$ is étale and $\phi\circ\psi$ is étale, it is not
necessarily the case that $\phi$ is étale. Come up with an example!

```{=latex}
\end{exercise}
```
:::

::: {.corollary title="An informal statement"}
```{=latex}
\begin{corollary}[An informal statement]
```
Any property that can be checked at the level of complete local rings is
true for the source of an étale morphism if it is true for the target.

```{=latex}
\end{corollary}
```
:::

Why? If you want to check a property for complete local rings on the
source, note that the map induces an isomorphism of complete local
rings.

## Generalizing Topologies

### Sites

The notion of a *site* will be a generalization of topological spaces
and sheaves. The idea is we'll generalize sheaf cohomology to this
setting. On a nice space like a manifold, singular cohomology is
isomorphic to the sheaf cohomology of the constant sheaf
$\underline{{\mathbb{Z}}}$. Here we'll find some version of a sheaf
where étale cohomology with ${\mathbb{Z}}/\ell^n{\mathbb{Z}}$
coefficients will be the sheaf cohomology with the constant sheaf
$\underline{{\mathbb{Z}}/\ell^n{\mathbb{Z}}}$.

::: {.question}
```{=latex}
\begin{question}
```
What parts of the definition of a topological space are needed to define
the notion of a sheaf?

```{=latex}
\end{question}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Recall that the *sheaf condition* is given in two parts:

1.  A section is determined by its value on a cover, and

2.  Sections can be glued when they agree on intersections.

```{=latex}
\end{remark}
```
:::

::: {.answer}
```{=latex}
\begin{answer}
```
```{=tex}
\envlist
```
1.  As in presheaves, a notion of open sets and inclusions. (I.e., a
    category of open sets.)[^9][^10]

We'd also like to make sense of the sheaf condition:

2.  Collections of morphisms which are "covers", remembering which
    collections of opens cover a space, and

3.  The existence of certain fiber products (intersections).

```{=latex}
\end{answer}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
The motivation for (3) above is that for $U, V \subseteq X$, we can form
$U\times V = U\cap V$.

```{=latex}
\end{remark}
```
:::

::: {.definition title="Preliminary: Sites/Grothendieck Topologies"}
```{=latex}
\begin{definition}[Preliminary: Sites/Grothendieck Topologies]
```
A category $\mathcal{C}$ with a collection of *covering families*[^11] `
\begin{align*}
\left\{{X_\alpha \xrightarrow{f_\alpha} X {~\mathrel{\Big|}~}\alpha\in A}\right\}
\end{align*}`{=tex} such that several axioms are satisfied.

```{=latex}
\end{definition}
```
:::

We'll discuss the axioms next time, they just capture the notion of what
a cover of a topological space should look like.

::: {.warnings}
```{=latex}
\begin{warnings}
```
There are at least three different notions of this definition! The one
above is perhaps the least general but the easiest to work with.

```{=latex}
\end{warnings}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
For $X$ a topological space, $\mathcal{C}$ the category of open sets in
$X$, then $\left\{{U_\alpha\to U}\right\}$ is a covering family if the
$U_\alpha$ cover $U$, i.e. $U = \cup_\alpha U_\alpha$.

```{=latex}
\end{example}
```
:::

::: {.example title="More exotic"}
```{=latex}
\begin{example}[More exotic]
```
Let $M$ be a manifold and $\mathcal{C}$ be the category of manifolds
over $M$, so all $M' \xrightarrow{f} M$ such that $f$ is locally an
isomorphism. Note that these are smooth local homeomorphisms. Let `
\begin{align*}
\left\{{M_\alpha \xrightarrow{f_\alpha} M}\right\} \text{ if } \bigcup_\alpha \operatorname{im}(f_\alpha) = M
\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.example title="Another exotic example"}
```{=latex}
\begin{example}[Another exotic example]
```
Let $X$ be a scheme and consider $X_{\text{et}}$ the category of all
étale $Y/X$: so the objects are schemes $Y$ admitting an étale morphism
$Y\to X$. Then $\left\{{X_\alpha\to X}\right\}$ is a covering family if
$\cup\operatorname{im}(f_\alpha) = X$.

```{=latex}
\end{example}
```
:::

This will be the fundamental object, and we'll define étale cohomology
by defining sheaves on this category, taking a constant sheaf
$\underline{{\mathbb{Z}}/\ell^n{\mathbb{Z}}}$, and we'll take sheaf
cohomology.

# Lecture 3

## Defining Sites

Today: we'll discuss sites, which generalizes the category of open sets
over a topological space. The goal is to generalize spaces and sheaves
to categories, and to define a sheaf we need

1.  A notion of a *cover*, and

2.  A notion of intersections/fiber products of open sets.

::: {.definition title="Grothendieck Topology / Sites"}
```{=latex}
\begin{definition}[Grothendieck Topology / Sites]
```
A **Grothendieck topology** on $\mathcal{C}$ or a **site** on
$\mathcal{C}$ is the data of for each $X\in \mathrm{Ob}(\mathcal{C})$ a
collection of sets of morphism $\left\{{X_\alpha \to X}\right\}$
(*covering families*) satisfying

-   Intersections exist: If $X_\alpha\to X$ appears in a covering family
    and $Y\to X$ is arbitrary, the fiber product $X_\alpha\times_X Y$
    exists.

-   Intersecting with a cover again yields a cover: If
    $\left\{{X_\alpha\to X}\right\}$ is a covering family and $Y\to X$
    is arbitrary, then the covering family can be pulled back:
    $\left\{{Y\times_X X_\alpha\to Y}\right\}$ is again a covering
    family.[^12]

-   Compositions of coverings are again coverings: If
    $\left\{{X_\alpha\to X}\right\}_{\alpha}$ and
    $\left\{{X_{\alpha\beta} \to X_\alpha}\right\}_{\alpha,\beta}$ are
    covering families, then you can compose, i.e. taking the set of all
    possible ways of composing
    $\left\{{X_{\alpha\beta} \to X_\alpha \to X}\right\}$ is again a
    covering family.[^13]

-   Isomorphisms are covers: If $X\xrightarrow{\sim_f} Y$ is an
    isomorphism, then the singleton family
    $\left\{{X\xrightarrow{f} Y}\right\}$ is a covering family.

```{=latex}
\end{definition}
```
:::

### Examples of Sites

::: {.example title="The motivating example"}
```{=latex}
\begin{example}[The motivating example]
```
If $X$ is a topological space, define $\mathcal{C}$ whose objects are
open subsets of $X$ where there is a unique morphism $U\to V$ iff
$U\subseteq V$. Then $\left\{{U_\alpha \to U}\right\}$ is a covering
family if $\bigcup_\alpha U_\alpha = U$.

```{=latex}
\end{example}
```
:::

::: {.example title="The small étale site"}
```{=latex}
\begin{example}[The small étale site]
```
Let $X$ be a scheme, and define the small étale site
$X_{\mathrm{\operatorname{ét}}}$: the category whose objects are étale
morphisms $Y\xrightarrow{f} X$ where morphisms are maps over $X$:

```{=tex}
\begin{tikzcd}
Y_1 \ar[rd, "{f_1}"]\ar[rr, "g"] & & Y_2\ar[ld, "{f_2}"] \\
 & X & 
\end{tikzcd}
```
Note that $g$ is étale by the 2 out of 3 property.

Then $\left\{{X_\alpha\to X}\right\}$ is a covering family if the set
theoretic images satisfy
$\bigcup_\alpha \operatorname{im}(f_\alpha) = X$.

```{=latex}
\end{example}
```
:::

::: {.example title="The big étale site"}
```{=latex}
\begin{example}[The big étale site]
```
Again let $X$ be a scheme, and define $X_{\mathrm{Et}}$ the category
whose objects are all $X{\hbox{-}}$schemes (where we no longer require
the maps to be étale). In other words, this is the overcategory of $X$:
the category of schemes over $X$. Then
$\left\{{U_\alpha\xrightarrow{f_\alpha}U}\right\}$ is a covering family
if all of the $f_\alpha$ are étale and
$\bigcup_\alpha \operatorname{im}(f_\alpha) = U$.

```{=latex}
\end{example}
```
:::

Note the difference: in the small site, we included only étale
$X{\hbox{-}}$schemes, vs all $X{\hbox{-}}$schemes in the big site. In
both cases, the notion of covering families are the same.

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $X$ be a complex analytic space (e.g. a complex manifold), then
there is an analytic étale site whose objects are complex analytic
spaces $Y\xrightarrow{f} X$ such that locally on $Y$, $f$ is an analytic
isomorphism. Note that this includes covering spaces. The morphisms will
be morphisms over $X$ creating commuting triangles, and the covers are
the usual covers.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This category is part of what motivates the definition of the étale
topology. This is what we're trying to imitate. E.g. if you have a
complex algebraic variety, taking its analytification will be one of
these. This site will show up later when we compare étale cohomology to
singular cohomology.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
We haven't said what it means to be a sheaf yet, but Grothendieck
topologies behave in somewhat unexpected ways. The category of sheaves
of the analytic étale cohomology,
${\operatorname{Sh}}(X_{\mathrm{an{\hbox{-}}et}})$, is canonically
equivalent to ${\operatorname{Sh}}(X^{\mathrm{top}})$. Thus sometimes
the category of sheaves over a site doesn't remember the site, i.e. two
different sites can have the same category of sheaves. On the RHS we had
a category of open subsets, whereas on the LHS we included things like
covering spaces. We'll see later that there is a notion of morphisms of
sites, and there is a morphism inducing this equivalence.

Proving this isomorphism will be an exercise, here's an outline of why
it's true: suppose you have a cover of $X$ in this category, i.e. a
family of local analytic isomorphisms. Given any of these, you can cover
by subsets for which these are isomorphisms onto their images.

```{=latex}
\end{remark}
```
:::

::: {.definition title="fppf"}
```{=latex}
\begin{definition}[fppf]
```
The letter **fppf** stand for **faithfully flat and finite
presentation**. [^14]

```{=latex}
\end{definition}
```
:::

::: {.example title="The fppf topology"}
```{=latex}
\begin{example}[The fppf topology]
```
There are small and big sites here: we define
$X_{\mathrm{\operatorname{fppf}}}$ whose objects are fppf morphism
$Y\to X$, with morphisms as triangular diagrams of morphisms over $X$,
and covers are the usual covers. Note that replacing fppf morphisms with
flat morphisms would yield an equivalent definition here.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
If $X$ is a scheme, then the small Zariski topology is
$X_{\mathrm{zar}}$ whose objects are
${\operatorname{Op}}(X^{\mathrm{top}})$, the Grothendieck topology of
the corresponding topological space, and we take the usual notion of
covers. There is a big Zariski topology $X_{\mathrm{Zar}}$ whose
category is all $X{\hbox{-}}$schemes
$\left\{{U_\alpha\xrightarrow{f_\alpha} U}\right\}$ with $f_\alpha$ open
embeddings and $\bigcup_\alpha \operatorname{im}(f_\alpha) = U$.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Some other examples:

-   The **Nisnevich** topology, which lives between the Zariski and the
    étale topology,

-   The **crystalline** site, used to define crystalline cohomology,

-   The **infinitesimal** site,

-   The **cdh** topology, the **arc** topology, the **rh** topology, and
    many more.

```{=latex}
\end{example}
```
:::

## Toward Sheaves of Sites

::: {.definition title="Presheaf"}
```{=latex}
\begin{definition}[Presheaf]
```
For $\mathcal{D}$ a category, a $\mathcal{D}{\hbox{-}}$valued
**presheaf** is a contravariant function $F:\mathcal{C}\to \mathcal{D}$.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This makes no reference to any Grothendieck topology.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
If $X$ is a topological space, a $\mathcal{D}{\hbox{-}}$valued presheaf
of $X$ is equivalent to a presheaf on ${\operatorname{Op}}(X)$.

```{=latex}
\end{example}
```
:::

We can now define a sheaf. What's the motivation? For $X$ a topological
space, it's a sheaf satisfying some conditions: its sections are
determined by an open cover, and given sections agreeing on overlaps
allows gluing. This can be captured by a specific diagram, which is what
we will use here.

Recall that a site is a category equipped with the Grothendieck
topology.

::: {.definition title="Sheaf"}
```{=latex}
\begin{definition}[Sheaf]
```
A **sheaf** $F$ is presheaf such that

```{=tex}
\begin{tikzcd}
F(U) \ar[r] & \prod_\alpha F(U_\alpha) \ar[r, shift left=0.75ex, "F(\pi_1)"] \ar[r, shift right=0.75ex, "F(\pi_2)"'] & \prod_{\alpha, \alpha'} F(U_\alpha \times_U U_{\alpha'}) 
\end{tikzcd}
```
is an *equalizer* diagram for all covering families
$\left\{{U_\alpha \to U}\right\}$.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
The diagram arises due to the fact that if we have a bunch of maps
coming from a cover, since we have a contravariant functor, we get a map
into the product. We then look at the intersections of all
$U_{\alpha}, U_{\alpha'}$.

The two arrows occurring come from the projections:
```{=tex}
\begin{tikzcd}
& U_\alpha \times_U U_{\alpha'} \ar[dl, "\pi_1"] \ar[rd, "\pi_2"] & \\
U_\alpha\ar[dr, hook] & & U_{\alpha'}\ar[dl, hook] \\
& U &
\end{tikzcd}
```
where we use the fact that since $F$ is a contravariant functor, it
induces maps going the other way.

What does being an equalizer mean, say if $F$ is set-valued? "Exactness"
at the middle term is the gluing condition, and exactness at the first
term is injectivity, i.e. a section (the values of $F$ on $U$) are
determined by its values on a cover (by $F(U_\alpha)$). Note that in
fact $F(U)$ is the limit of this diagram. The gluing condition is more
precisely that if we're given $(s_\alpha) \in \prod_\alpha F(U_\alpha)$
such that $F(\pi_1)(s_\alpha) = F(\pi_2)(s_\alpha)$, then $(s_\alpha)$
comes from $F(U)$.

```{=latex}
\end{remark}
```
:::

::: {.definition title="Morphisms of sheaves and presheaves"}
```{=latex}
\begin{definition}[Morphisms of sheaves and presheaves]
```
A **morphism** $F_1\to F_2$ of either presheaves or sheaves is a natural
transformation of functors.

```{=latex}
\end{definition}
```
:::

### Examples of Sheaves of Sites

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
Any representable functor is a sheaf on the étale site
$X_{\mathrm{\operatorname{Ét}}}$. In fact, any such functor is a sheaf
on the big fppf site $X_{\mathrm{\operatorname{Fppf}}}$: the category of
all $X{\hbox{-}}$schemes with covers as fppf covers, which are maps that
are flat and jointly surjective.

```{=latex}
\end{theorem}
```
:::

::: {.example title="Examples of sheaves on the étale site"}
```{=latex}
\begin{example}[Examples of sheaves on the étale site]
```
Take $\mu_n$ the functor represented by
$\mu_n \mathrel{\vcenter{:}}=\operatorname{Spec}k[t] / t^{n-1}$. For $U$
an $X{\hbox{-}}$scheme, we can evaluate in the following way: `
\begin{align*}  
\mu_n(U) = \left\{{f\in {\mathcal{O}}_U(U) {~\mathrel{\Big|}~}f^n = 1}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
We define a sheaf of the étale site as
${\mathcal{O}}^{\mathrm{\operatorname{ét}}}_X(U) = {\mathcal{O}}_U(U)$
where we've said what the values are. This is a sheaf that is
represented by ${\mathbb{A}}^1_{/X}$.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
The constant sheaf $\underline{\mathbb{Z}/\ell^n\mathbb{Z}}$. How can we
prove it is a sheaf, given the theorem, and determine what its values
are? This is represented by
$\qty{\mathbb{Z}/\ell^n\mathbb{Z}} \times X$, i.e. taking the disjoint
union of $\ell^n$ copies of $X$. The values are given by `
\begin{align*}  
\underline{\mathbb{Z}/\ell^n\mathbb{Z}}(U) =  \hom_{{\operatorname{Top}}}(U^{{\operatorname{Top}}}, \mathbb{Z}/\ell^n\mathbb{Z})
,\end{align*}`{=tex} where we give the set $\mathbb{Z}/\ell^n\mathbb{Z}$
the discrete topology and take morphisms to be continuous maps.

```{=latex}
\end{example}
```
:::

::: {.warnings}
```{=latex}
\begin{warnings}
```
The constant sheaf $\underline{S}$ doesn't associate $S$ to every open
set: it instead associates $S^d$ where $d$ is the number of components.
The former would only be a presheaf, and not a sheaf.

```{=latex}
\end{warnings}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
We can take the sheaf
${\mathbb{G}}_m(U) \mathrel{\vcenter{:}}={\mathcal{O}}_U(U)^{\times}$,
whose values are obtained by taking the global sections of the structure
sheaf and only keeping the units. This is represented by `
\begin{align*}
{\mathbb{G}}_{m, X} = \operatorname{Spec}{\mathbb{Z}}[t, t^{-1}] \underset{\scriptscriptstyle {\operatorname{Spec}{\mathbb{Z}}} }{\times} X
\end{align*}`{=tex} Why does this represent this functor? Mapping into
this requires that $t$ goes to an invertible function, which yields the
isomorphism.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Note that all of these functors take values in abelian groups, which is
a consequence of the fact that the representing objects are group
schemes. In fact, one definition of a group scheme is that the functor
it represents factors through groups.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Take the functor
${\mathbb{P}}^n(U) \mathrel{\vcenter{:}}=\hom(U, {\mathbb{P}}^n)$. This
functor can be written down as a line bundle on $U$ with a surjective
map from ${\mathcal{O}}_U \to {\mathcal{O}}_U^n$ (?), the functor
represented by projective space, and that's also a sheaf that is
necessarily representable but not an abelian one.

```{=latex}
\end{example}
```
:::

Some things we still need to get to:

-   A proof that $\underline{\mathbb{Z}/\ell^n\mathbb{Z}}$ is actually a
    sheaf,
-   A proof that the category of sheaves on the big étale site
    $X_\mathrm{\operatorname{Ét}}$[^15] with values in $\mathbf{Ab}$ is
    abelian and has enough injectives.

## Étale Cohomology: A Preliminary Definition

::: {.definition title="Imprecise: étale cohomology"}
```{=latex}
\begin{definition}[Imprecise: étale cohomology]
```
Let $\mathcal{F}$ be a sheaf and define a functor
$\Gamma_X: \mathcal{F}\to \mathcal{F}(X)$ sending it to its values on
$X$. Then the **étale cohomology** of $X$ is defined by `
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, \underline{\mathbb{Z}/\ell^n\mathbb{Z}}) \mathrel{\vcenter{:}}= R^i \Gamma_X(\underline{\mathbb{Z}/\ell^n\mathbb{Z}})
,\end{align*}`{=tex} the right-derived functors of $\Gamma_X$.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This definition is incomplete, and in particular, it's highly
non-obvious that this category of abelian sheaves is abelian. E.g.
usually when proving that the category of abelian sheaves on a
topological space has cokernels, you use sheafification: you take the
cokernel of a map of presheaves, which is a presheaf, and sheafify it.
Here, we don't know how to sheafify a presheaf on a site. The usual
construction involves forming the *espace étalé* and taking sections
does not work for a site, you need a genuinely different argument.

```{=latex}
\end{remark}
```
:::

::: {.warnings}
```{=latex}
\begin{warnings}
```
Even showing cokernels exist in the category of abelian sheaves on a
site is nontrivial. Try as an exercise!

```{=latex}
\end{warnings}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
What will be true in general is that this category will be an $AB5$
abelian category, and having enough injectives is all that's
additionally needed. This comes from machinery developed in
Grothendieck's Tohoku paper, and we'll sketch part of the proof.

```{=latex}
\end{remark}
```
:::

Properties of these sheaves are not so obvious, and depend on the site
you're working over:

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Consider the map `
\begin{align*}  
{\mathbb{G}}_m &\to {\mathbb{G}}_m \\
t^m &\mapsfrom t
,\end{align*}`{=tex} where $n$ is invertible over the base, e.g. if
we're over a field of characteristic coprime to $n$. This yields a map
of sheaves in two different settings. In $X_{\mathrm{Zar}}$ we have `
\begin{align*}  
{\mathcal{O}}^{\times}&\to {\mathcal{O}}^{\times}\\
f &\mapsto f^n
.\end{align*}`{=tex}

We can look at this in $X_{\mathrm{\operatorname{ét}}}$, yielding `
\begin{align*}  
{\mathcal{O}}_\mathrm{\operatorname{ét}}^{\times}&\to {\mathcal{O}}_\mathrm{\operatorname{ét}}^{\times}\\
f &\mapsto f^m
.\end{align*}`{=tex}

::: {.claim}
```{=latex}
\begin{claim}
```
This map is not an epimorphism on $X_{\mathrm{Zar}}$ but is on
$X_{\mathrm{\operatorname{ét}}}$

```{=latex}
\end{claim}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
It suffices to give one example: take
$X = \operatorname{Spec}{\mathbb{R}}$ and $n=2$, and since this is just
a point, the sheaf is determined by its values. So is the map `
\begin{align*}  
{\mathbb{R}}^{\times}&\to {\mathbb{R}}^{\times}\\
t &\mapsto t^2
\end{align*}`{=tex} surjective? The answer is no, of course, since its
image is ${\mathbb{R}}_{\geq 0}$.

This will be surjective on $X_{\mathrm{\operatorname{ét}}}$ if $n$ is
invertible on $X$. If we were in usual topological spaces, we would want
to show that given any section of the sheaf on an open set, it can be
refined. Here we want to pass to an étale cover so that section has an
$n$th root. So given $f\in {\mathbb{G}}_m(U)$, we want an étale cover of
$U$ so that $f$ obtains an $n$th root. An invertible function is a map
$U\to {\mathbb{G}}_m$, and we can form the square
```{=tex}
\begin{tikzcd}
 U \underset{\scriptscriptstyle {{\mathbb{G}}_m} }{\times} {\mathbb{G}}_m\ar[r]\ar[d] & {\mathbb{G}}_m & z^m  \ar[d] \\
 U\ar[r] &  {\mathbb{G}}_m & z\ar[u, |->]
\end{tikzcd}
```
The RHS map is étale since $n$ is invertible, and the fiber product is
étale since étale morphisms are preserved by base change.

::: {.claim}
```{=latex}
\begin{claim}
```
$f$ has an $n$th root upstairs. (Verify!)

```{=latex}
\end{claim}
```
:::

There's a more concrete way of writing this: note that
${\mathbb{A}}^1_{U, z} = \operatorname{Spec}k[t]$, so take the subscheme
cut out by $V(z^n - f)$. This will be an étale cover of $U$ (the same
one in fact) and $z$ is now an $n$th root.

```{=latex}
\end{proof}
```
:::

```{=latex}
\end{example}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check the details! Namely that this argument implies that this map of
sheaves is an epimorphism.

```{=latex}
\end{exercise}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This map of sheaves
${\mathbb{G}}_m \xrightarrow{z^m \mapsfrom z} {\mathbb{G}}_m$, noting
that if $n$ is not invertible this will not be an epimorphism, will
always be an epimorphism in
${\operatorname{Sh}}(X_\mathrm{\operatorname{fppf}})$ since this map is
flat and finitely presented.

```{=latex}
\end{remark}
```
:::

## Preview: Morphisms of Sites

::: {.definition title="Morphisms of Sites"}
```{=latex}
\begin{definition}[Morphisms of Sites]
```
Suppose $T_1, T_2$ are sites (categories with covering families), then a
**continuous map of sites** $f:T_1 \to T_2$ is a functor
$T_2 \to T_1$[^16] that preserves fiber products and sends covering
families to covering families.

```{=latex}
\end{definition}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
A continuous map $f\in {\operatorname{Hom}}_{\operatorname{Top}}(X, Y)$
induces a map `
\begin{align*}  
{\operatorname{Op}}(Y) &\to {\operatorname{Op}}(X) \\
U &\mapsto f^{-1}(U)
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that this is a continuous map of sites.

```{=latex}
\end{exercise}
```
:::

Next time: a bunch of examples.

# Lecture 4: Descent

Last time: sites, sheaves, and morphisms of sites. Today: descent, which
is how we'll see that many familiar objects are sheaves on the étale
site, such as representable functors or quasicoherent sheaves.

## Reminder

::: {.definition title="A continuous map of sites"}
```{=latex}
\begin{definition}[A continuous map of sites]
```
Given two sites $(C, T_1)$ and $(D, T_2)$ where $C, D$ are categories
and the $T_i$ are collections of covering families, a **morphism** is a
functor $f^{-1} :D\to C$ such that

1.  $f^{-1}$ preserves fiber products.
2.  $f^{-1}$ sends covering families to covering families.

```{=latex}
\end{definition}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
The main example: for $f:X\to Y$ a map of topological spaces, the
functor $F: {\operatorname{Op}}(Y) \to {\operatorname{Op}}(X)$ given by
$F(U) \mathrel{\vcenter{:}}= f^{-1}(U)$ sending an open set to its
preimage.

```{=latex}
\end{example}
```
:::

::: {.exercise title="Check!"}
```{=latex}
\begin{exercise}[Check!]
```
Check that this is a continuous map of sites.

```{=latex}
\end{exercise}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Suppose $X$ is a scheme, then there is a natural map of sites from
$X_{\mathrm{\operatorname{Fppf}}}$ (all $X{\hbox{-}}$schemes where
covers are collections of jointly surjective flat morphism) to
$X_{\mathrm{\operatorname{Ét}}}$ (all $X{\hbox{-}}$schemes where covers
are jointly surjective étale morphisms) to
$X_{\mathrm{\operatorname{ét}}}$ (étale $X{\hbox{-}}$schemes with
morphisms over $X$) to $X_{{\mathrm{zar}}}$ (the open subsets of $X$
with morphisms given by inclusions and covers the usual covers). The
maps here are inclusions going the other way.

```{=latex}
\end{example}
```
:::

::: {.exercise title="Check!"}
```{=latex}
\begin{exercise}[Check!]
```
Check that these are continuous maps of sites.

```{=latex}
\end{exercise}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
```{=tex}
\envlist
```
On terminology:

-   What we've been calling a site or a Grothendieck topology is
    sometimes called a *Grothendieck pretopology*. The major difference
    is that you don't have to assume the existence of fiber products.

-   You may also see the notion of a **topos**, which is the category of
    sheaves on a site.

```{=latex}
\end{remark}
```
:::

## Setting up Descent

::: {.question}
```{=latex}
\begin{question}
```
```{=tex}
\envlist
```
1.  We've said what it means to be a sheaf on a site, how do we check
    that a given functor is a sheaf on $X_{\mathrm{\operatorname{ét}}}$
    or $X_{\mathrm{\operatorname{fppf}}}$?

2.  How do we construct such sheaves?

```{=latex}
\end{question}
```
:::

::: {.theorem title="Ways of constructing sheaves"}
```{=latex}
\begin{theorem}[Ways of constructing sheaves]
```
```{=tex}
\envlist
```
1.  If $Y$ is an $X{\hbox{-}}$scheme (i.e. a scheme equipped with a map
    to $X$) then the functor $Z \to \hom_X(Z, Y)$ is a sheaf on
    $X_{\mathrm{\operatorname{Fppf}}}, X_{\mathrm{\operatorname{Ét}}}, X_{\mathrm{\operatorname{ét}}}$,
    etc.

2.  Suppose $\mathcal{F}$ is a quasicoherent sheaf on $X$, so
    $\mathcal{F}\in {\mathrm{QCoh}}(X)$, the functor of taking global
    sections:

```{=tex}
\begin{tikzcd}
Z \ar[dd, "f"] &        & \\
               & \ar[r] & \Gamma(Z, f^* \mathcal{F}) \\
X              &
\end{tikzcd}
```
is a sheaf on
$X_{\mathrm{\operatorname{Fppf}}}, X_{\mathrm{\operatorname{Ét}}}, X_{\mathrm{\operatorname{ét}}}$,
etc.

```{=latex}
\end{theorem}
```
:::

::: {.definition title="$\\mathcal{F}^{\\et}$"}
```{=latex}
\begin{definition}[$\mathcal{F}^{\et}$]
```
The sheaf associated to the above functor on
$X_{\mathrm{\operatorname{ét}}}$ will be denoted
$\mathcal{F}^\text{étale}$.

```{=latex}
\end{definition}
```
:::

::: {.proof title="of 2"}
```{=latex}
\begin{proof}[of 2]
```
Suppose we have an fppf cover of $X$
```{=tex}
\begin{tikzcd}
U = {\coprod}U_i \ar[d] \\
X
\end{tikzcd}
```
```{=latex}
\end{proof}
```
:::

::: {.question}
```{=latex}
\begin{question}
```
Suppose $\mathfrak{F}\in {\mathrm{QCoh}}(X)$. When does it come from a
quasicoherent sheaf on $X$? I.e., when is there a quasicoherent sheaf
$\mathcal{F}'$ on $X$ and an isomorphism between its pullback to $U$ and
$\mathcal{F}$? What extra structure do you need to "descend" to
${\mathrm{QCoh}}(X)$, i.e. to pick such an isomorphism?

```{=latex}
\end{question}
```
:::

::: {.question}
```{=latex}
\begin{question}
```
Given $\mathcal{F}_1, \mathcal{F}_2 \in {\mathrm{QCoh}}(U)$ and a
morphism
$f: { \left.{{\mathcal{F}_1}} \right|_{{U}} } \to { \left.{{\mathcal{F}_2}} \right|_{{U}} }$,
when does $f$ come from $X$?

```{=latex}
\end{question}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
If $X = \operatorname{Spec}k$ and $U$ is a finite separable extension,
then this question is exactly what Galois descent is about!

```{=latex}
\end{remark}
```
:::

::: {.example title="(a motivating one)"}
```{=latex}
\begin{example}[(a motivating one)]
```
$U = {\coprod}U_i \to X$ is a Zariski cover. If we have a sheaf on $U$,
what extra data do we need to get a sheaf on $X$? We need isomorphisms
${ \left.{{\mathcal{F}_i }} \right|_{{U_i\cap U_j}} } \xrightarrow{\sim} { \left.{{\mathcal{F}_j}} \right|_{{U_i\cap U_j}} }$
(gluing data) where each $\mathfrak{F}_i$ is the sheaf given on $U_i$.
We also need a cocycle condition on triple intersections. Given this
data, gluing yields a sheaf on $X$. This may be familiar from vector
bundles. Thus to give a sheaf, it suffices to specify gluing data.

Morphisms $\mathcal{F}\to \mathcal{G}$ is the same as morphisms
${ \left.{{\mathcal{F}}} \right|_{{U_i}} } \to { \left.{{\mathcal{G}}} \right|_{{U_i}} }$
which commute with the gluing data. We'd like to generalize this notion
of commuting with gluing data to more general types of covers.

```{=latex}
\end{example}
```
:::

::: {.definition title="Descent data for quasicoherent sheaves"}
```{=latex}
\begin{definition}[Descent data for quasicoherent sheaves]
```
Suppose $U\xrightarrow{f}X$ is a morphisms, then **descent data** for a
quasicoherent sheaf on $U/X$ is the following:

1.  A sheaf $\mathcal{F}\in {\mathrm{QCoh}}(U)$.
2.  Gluing data: If we take the fiber product of $U$ with itself,
    mapping to $U$ under 2 different projections[^17],

```{=tex}
\begin{tikzcd}
U \times_X U \ar[d, bend left, "\pi_1"] \ar[d, bend right, "\pi_2"'] \\
U
\end{tikzcd}
```
there are isomorphisms `
\begin{align*}  
  \phi: \pi_1^* \mathcal{F} \xrightarrow{\sim} \pi_2^* \mathcal{F}
  .\end{align*}`{=tex}

3.  Cocycle condition: in the following fiber product
    ```{=tex}
    \begin{tikzcd}
    U \times_X U \times_X U 
    \ar[d, shift  left=1.75ex] \ar[d] \ar[d,shift  right=1.75ex,  "\pi_{ij}"'] \\
    U\times_X U
    \end{tikzcd}
    ```
    we have $\pi_{23}^* \phi \circ \pi_{12}^* \phi = \pi_{13}\phi$.

```{=latex}
\end{definition}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that this agrees with the previous notions when $U\to X$ is a
Zariski cover.

```{=latex}
\end{exercise}
```
:::

::: {.definition title="Morphisms of descent data"}
```{=latex}
\begin{definition}[Morphisms of descent data]
```
Given descent data $(\mathcal{F}, \phi)$ and $(\mathcal{G}, \psi)$, a
**morphism** is a morphism $h: \mathcal{F} \to \mathcal{G}$ of
quasicoherent sheaves on $U$ such that the following diagram commutes:

```{=tex}
\begin{tikzcd}
\pi_1^* \mathcal{F} 
\ar[r, "\pi_1^*h"] 
\ar[d, "\phi"'] 
& \pi_1^* \mathcal{G} \ar[d, "\psi"] \\
\pi_2^* \mathcal{F} \ar[r, "\pi_2^*h"'] 
& \pi_2^* \mathcal{G} 
\end{tikzcd}
```
```{=latex}
\end{definition}
```
:::

## Descent Data is Equivalent to Quasicoherent Sheaves

::: {.theorem title="Descent for quasicoherent sheaves"}
```{=latex}
\begin{theorem}[Descent for quasicoherent sheaves]
```
Suppose $f: U\to X$ is fppf. Then $f^*$ induced an equivalence of
categories between ${\mathrm{QCoh}}(X)$ and descent data on $U/X$.

```{=latex}
\end{theorem}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This doesn't quite make sense, since we haven't covered how to get
descent data from a given sheaf. Explicitly, given
$\mathcal{F}\in {\mathrm{QCoh}}(X)$, we can pullback to obtain
$f^* \mathcal{F}\in {\mathrm{QCoh}}(U)$. We now want an isomorphism `
\begin{align*}  
\qty{f\circ \pi_1}^* \mathcal{F} \xrightarrow{\sim} \qty{f\circ \pi_2}^* \mathcal{F}
\end{align*}`{=tex} on $U\times_X U$. We have a situation like the
following:

```{=tex}
\begin{tikzcd}
U\times_X U 
 \ar[r, shift right=0.75ex, "\pi_2"'] \ar[r, shift left=0.75ex, "\pi_1"] 
& U
  \ar[r, "f"] 
& X
\end{tikzcd}
```
Since $f\circ \pi_1 = f\circ \pi_2$ in this case, pulling back the
identity yields the desired isomorphism.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $U = {\coprod}U_i$ be a Zariski cover of $X$, then vector bundle can
be obtained from
${\mathcal{O}}_{U_i}^{\oplus n}\in {\mathrm{QCoh}}(U_i)$. To glue this
to a vector bundle on $X$, we need isomorphism
$\phi_{ij} {\mathcal{O}}_{U_i\cap U_j}^{\oplus n} \xrightarrow{\sim } {\mathcal{O}}_{U_i\cap U_j}^{\oplus n}$
such that
${ \left.{{\phi_{jk}}} \right|_{{U_i \cap U_j \cap U_k}} } \circ { \left.{{\phi_{ij}}} \right|_{{U_i \cap U_i \cap U_k}} } = { \left.{{\phi_{ik}}} \right|_{{U_i\cap U_j \cap U_k}} }$.
For $n=1$, this is gluing data for a line bundle.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Suppose $L/k$ is a Galois extension with Galois group $G$, then
$\operatorname{Spec}L \to \operatorname{Spec}k$ is an étale cover.
Descent data on this map is a quasicoherent sheaf on
$\operatorname{Spec}L$, i.e. an $L{\hbox{-}}$vector space $V$, with an
isomorphism $\pi_1^* V \xrightarrow{\phi \sim}\pi_2^* V$ satisfying the
cocycle condition. We can compute `
\begin{align*}
\operatorname{Spec}L \times_{\operatorname{Spec}k} \operatorname{Spec}L = \operatorname{Spec}L\otimes_k L = {\coprod}_{L\xrightarrow{\sim} L} \operatorname{Spec}L
,\end{align*}`{=tex} which is a torsor for the Galois group, and in fact
is equal to ${\coprod}_{\operatorname{Gal}(L/k)} \operatorname{Spec}L$.

```{=latex}
\end{example}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Convince yourself that descent data here is the same as Galois descent,
i.e. a semilinear action.

*(Hint: you will need to use $\phi$.)*

```{=latex}
\end{exercise}
```
:::

Explicitly, the theorem says

-   Given a morphisms of descent data, we get a unique morphism of
    sheaves (fully faithful)

-   If you have descent data, it comes from a sheaf (essentially
    surjective)

So we need to prove

1.  $f^*$ is fully faithful, inducing an isomorphism on hom sets, and

2.  $f^*$ is essentially surjective.

> Reference: Neron modules by BLR.

### Proof of Theorem

Given $\mathcal{F}_1, \mathcal{F}_2 \in {\mathrm{QCoh}}(X)$, then we
have a functor and thus a map `
\begin{align*}
\hom_X(\mathcal{F}_1, \mathcal{F}_2) \xrightarrow{f^*} \hom_U(f^*\mathcal{F}_1, f^*\mathcal{F}_2)
\end{align*}`{=tex} We're not trying to show this map is a bijection,
since we need more than that: the morphism should commute with the
descent data. We can produce two maps to fill in the following diagram:
```{=tex}
\begin{tikzcd}
 & & \hom_{U\times_X U} 
\qty{ (f\circ \pi_1)^* \mathcal{F}_1, (f\circ \pi_1)^* \mathcal{F}_2 }
\ar[dd, equal]\\
\hom_X(\mathcal{F}_1, \mathcal{F}_2)  
\ar[r, "{f^*}"]  &
\hom_U(f^*\mathcal{F}_1, f^*\mathcal{F}_2)
\ar[ru, "\pi_1^*"]
\ar[rd, "\pi_2^*"] 
& \\
 & & \hom_{U\times_X U} \qty{ (f\circ \pi_2)^* \mathcal{F}_1, (f\circ \pi_2)^* \mathcal{F}_2   } \\
\end{tikzcd}
```
where these hom sets are equal since $f\circ \pi_1 = f\circ \pi_2$.

::: {.claim}
```{=latex}
\begin{claim}
```
Given
$g\in {\operatorname{Hom}}_U(f^* \mathcal{F}_1, f^* \mathcal{F}_2)$,
this is a morphism of descent data if maps to the same element under
$\pi_1^*$ and $\pi_2^*$ using the above identification of hom sets.

```{=latex}
\end{claim}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
This follows from definitions, check that it holds.

```{=latex}
\end{exercise}
```
:::

Being fully faithful is the same as the above diagram being a equalizer.
I.e., the first map $f^*$ is injective, yielding faithfulness, and
fullness means that any map in the middle that has the same image under
the two arrows $\pi_1^*, \pi_2^*$ comes from an element in
$\hom_X(\mathcal{F}_1, \mathcal{F}_2)$.

Assuming that this is fully faithful, why do quasicoherent sheaves give
sheaves on $X_{\mathrm{\operatorname{ét}}}$ or
$X_{\mathrm{\operatorname{fppf}}}$? Being a sheaf was characterized by
an equalizer diagram gotten by replacing the first hom with taking
global sections of $\mathcal{F}$ on $X, U, U\times_X U$.

::: {.remark}
```{=latex}
\begin{remark}
```
Taking $\mathcal{F}_1 = {\mathcal{O}}$ and
$\mathcal{F}_2 = \mathcal{F}$, this shows that
$\mathcal{F}^{\mathrm{\operatorname{ét}}}$ (resp.
$\mathcal{F}^{\mathrm{\operatorname{fppf}}}$) is a sheaf. In this case,
the first hom is global sections of $\mathcal{F}$ on $X$, the middle are
global sections of $\mathcal{F}$ on $U$, and the two maps are to the
double intersections.

```{=latex}
\end{remark}
```
:::

To prove this is an equalizer diagram, we'll need a lemma:

::: {.lemma title="?"}
```{=latex}
\begin{lemma}[?]
```
Suppose $R\to S$ is a faithfully flat ring morphism (flat and morphisms
on spec are surjective) and suppose
$N\in {R{\hbox{-}}\operatorname{mod}}$. Then there is an equalizer
diagram

```{=tex}
\begin{tikzcd}
N \ar[r] & N\otimes_R S \ar[r, bend left, "\operatorname{id}_N \otimes\operatorname{id}_S \otimes 1"] \ar[r, bend right, "\operatorname{id}_N \otimes 1 \otimes\operatorname{id}_S"'] & N\otimes_R S \otimes_R S \\
n \ar[r] & n\otimes 1 
\end{tikzcd}
```
```{=latex}
\end{lemma}
```
:::

This is the case where $\mathcal{F}_1 = {\mathcal{O}}$ and
$\mathcal{F}_2 = \tilde N$ the quasicoherent sheaf associated to $N$,
$U = \operatorname{Spec}S \to X = \operatorname{Spec}R$.

::: {.proof title="of lemma"}
```{=latex}
\begin{proof}[of lemma]
```
**Step 1**: (Amazing trick) WLOG $R\to S$ splits, so there's a map
$S\to R$ such that $R\to S\to R$ is the identity. We can tensor with
$S$, i.e. push out this map along itself to obtain
```{=tex}
\begin{tikzcd}
R \ar[d]\ar[r] & S \ar[d, "1\otimes\operatorname{id}_S"'] \\
S \ar[r] & S\otimes_R S  \ar[u, bend right, "\exists m"']
\end{tikzcd}
```
where $m$ is a section given by multiplication.

::: {.claim}
```{=latex}
\begin{claim}
```
The claim is that we can replace $R$ with $S$ and $S$ with
$S\otimes_R S$.

```{=latex}
\end{claim}
```
:::

::: {.proof title="of claim"}
```{=latex}
\begin{proof}[of claim]
```
Checking the equalizer diagram is the same as showing that the following
sequence is exact: `
\begin{align*}  
0 \to N \to N\otimes_R S \xrightarrow{f-g} N\otimes_R S\otimes_R S
,\end{align*}`{=tex} where $f, g$ are the maps given in the equalizer.
It suffices to do this after tensoring with $S$, since a sequence of $R$
modules is exact iff it is exact after tensoring with $S$. One direction
is easy, since $S$ is flat, and the other direction follows from the
fact that you can check on each stalk, and after tensoring the stalks
are the same. This requires checking for each point on
$\operatorname{Spec}R$ that the map on stalks is exact, but that's true
because we have a surjective map and this can be checked upstairs.

```{=latex}
\end{proof}
```
:::

**Step 2**: Suppose $R\xrightarrow{f} S$ splits via a map
$S\xrightarrow{r} S$. The geometric picture is that we're supposing we
have a section to $U\to X$, and descending amounts to pulling back along
the splitting. We first want to check that $N\to N\otimes_R S$ is
injective, which is true since we can use the map
$\operatorname{id}_N \otimes r$ to produce a splitting. Why is this
true? Supposing $n\in N$ maps to zero, then noting that
$N\to N\otimes_R S \to N$ is the identity and thus maps
$f(n)\xrightarrow{\operatorname{id}} 0$, forcing $n=0$.

We now want to show exactness in the middle. Define `
\begin{align*}
\tilde r: S\otimes_R S &\to S \\
s_1 \otimes s_2 &\mapsto s_1 \cdot f(r(s_2))
\end{align*}`{=tex} Suppose we have something in the image of the
differential. This yields `
\begin{align*}  
\operatorname{id}_N \otimes\tilde r \qty{n\otimes s\otimes 1 - n\otimes 1 \otimes s}
= n\otimes s - n\otimes f(r(s))
= n\otimes s - nr(s) \otimes 1
.\end{align*}`{=tex}

Thus $n\otimes s\otimes 1 - n\otimes 1\otimes s = 0$, putting this in
the kernel of the differential, making the last term above equal to
zero, and thus $n\otimes s = n r(s) \otimes 1$, which is in the image of
the differential. So anything in the kernel is in the image, where we've
proved it for pure tensors, and it's an exercise to do it in general.

```{=latex}
\end{proof}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Given $R\to S$ faithfully flat, you can define the **Amitsur complex**:
`
\begin{align*}  
N \to N\otimes S \to N\otimes S^{\otimes 2} \to \cdots \to N\otimes S^{\otimes r}
,\end{align*}`{=tex} where the maps are given by alternating sums of
identities with a 1 in the $i$th spot. There is a theorem that this is
always exact, essentially by the same proof as above: reduce to the case
where you have a section by tensoring with $S$, then use the section to
build a nullhomotopy.

```{=latex}
\end{remark}
```
:::

> Next time: we'll complete the proof of fppf descent.

# Lecture 5

Last time: we started fppf descent, and wanted to show the quasicoherent
sheaves and representable functors give sheaves on
$X_{\mathrm{\operatorname{ét}}}$ and $X_{\mathrm{\operatorname{fppf}}}$.
Given a quasicoherent sheaf, we take the associated presheaf on the
étale site given by taking the values of its pullback to any object on
the étale site. This yields a sheaf on the étale site, and we'll also
conclude that representable functors yield such sheaves as well.

## Continuation of Proof

Reminder of the theorem (fppf descent for quasicoherent sheaves): If
$f:U\to X$ is an fppf cover, so finitely presented and faithfully flat,
then the pullback $f^*$ induces an equivalence of categories
${\mathrm{QCoh}}(X)$ to descent data for quasicoherent sheaves relative
to $U/X$. This descent data is a quasicoherent sheaf on $U$, so you can
take its 2 pullbacks to $U\times_X U$ (thinking of these as the double
intersections of objects in the cover) which admit an isomorphism
between them which needs to satisfy a cocycle condition on
$U\times_X U \times_X U$. For Zariski covers, this reduces to having a
cover by opens, a sheaf on each objects, and gluing data that satisfies
the usual cocycle condition.

The goal was to prove (1) this functor is fully faithful, so the map on
hom sets is a bijection. Given
$\mathcal{F}_1, \mathcal{F}_2 \in {\mathrm{QCoh}}(X)$, we wanted a
certain diagram to be an equalizer. Faithfulness is the injectivity of
the first map $f^*$, and fullness is showing that elements go to the
same place in the next two maps.

We proved a lemma: if $R\to S$ is a faithfully flat ring map and
$M\in {R{\hbox{-}}\operatorname{mod}}$ then
```{=tex}
\begin{tikzcd}
N\ar[r] & N\otimes S\ar[r] & N\otimes S \otimes S \\
n \ar[r] & n\otimes 1 & \\
 & n\otimes s \ar[r] & n\otimes s \otimes 1
\end{tikzcd}
```
is an equalizer diagram. We used one of Daniel's favorite tricks in fppf
descent: producing a section by base-changing to $S$.

### Proof of Full Faithfulness

::: {.exercise title="Step 1, Important"}
```{=latex}
\begin{exercise}[Step 1, Important]
```
**Step 1**: Reduce to the case where $U\to X$ is affine.

*(Hint: See chapter 6 of Neron models. This will use that the map has
finite presentation, and in fact even less, that the map is
quasicompact.)*

```{=latex}
\end{exercise}
```
:::

**Step 2**: We now have $R\to S$ faithfully flat, where we're thinking
of $U = \operatorname{Spec}S, X = \operatorname{Spec}R$. Since
$N, M \in {R{\hbox{-}}\operatorname{mod}}$, after replacing symbols, we
want the following diagram to be an equalizer:

```{=tex}
\begin{tikzcd}
\hom_R(M, N) \ar[r] &
\hom_S(M\otimes S, N\otimes S) \ar[r, shift left=0.75em]\ar[r, shift right=0.75em] &
\hom_{S\otimes S}(M\otimes S^{\otimes 2}, N\otimes S^{\otimes 2})
\end{tikzcd}
```
where all tensors are over $R$. The first map takes a map $f:M\to N$ and
composes with the map $N\to N\otimes S$ from the lemma to get a map
$M\to N\otimes S$, which automatically extends to a map
$M\otimes S \to N\otimes S$. Exactness in the middle also comes from the
lemma. Alternatively, injectivity of the first map follows from
injectivity of $N\to N\otimes S$ and left-exactness of
$\hom(M, {\,\cdot\,})$, as does exactness everywhere else.

A short diversion:

::: {.corollary title="of proof"}
```{=latex}
\begin{corollary}[of proof]
```
For $\mathcal{F}\in {\mathrm{QCoh}}(X)$, we defined
$\mathcal{F}^{\mathrm{\operatorname{ét}}} \in {\operatorname{Presh}}(X_{\mathrm{\operatorname{ét}}})$
where
$\mathcal{F}^{\mathrm{\operatorname{ét}}}(U\xrightarrow{\pi }X) \mathrel{\vcenter{:}}=\pi^* \mathcal{F}(U)$
is a sheaf on $X_{\mathrm{\operatorname{ét}}}$ and
$X_{\mathrm{\operatorname{fppf}}}$

```{=latex}
\end{corollary}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
We want to show that if $U\to V$ is an étale cover, we want
```{=tex}
\begin{tikzcd}
\mathcal{F}(V) \ar[r] &
\mathcal{F}(U) \ar[r, shift right=0.75ex] \ar[r, shift left=0.75ex] &
\mathcal{F}(U\times_V U) 
\end{tikzcd}
```
to be an equalizer diagram -- but this is exactly the previous diagram
where $\mathcal{F}\mathrel{\vcenter{:}}={\mathcal{O}}$ and
$\mathcal{F}_2 \mathrel{\vcenter{:}}=\mathcal{F}$.

```{=latex}
\end{proof}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
We have an étale sheaf
${\mathcal{O}}_{X}^{\mathrm{\operatorname{ét}}}: (U\to X) \mapsto \Gamma(U, {\mathcal{O}}_U)$.

```{=latex}
\end{example}
```
:::

### Proof of Essential Surjectivity

We have $U\xrightarrow{f} X$ an fppf cover and descent data
$(\mathcal{F}, \phi)$ on $U/X$ where $\mathcal{F}$ is a quasicoherent
sheaf on $U$ and $\phi$ is an isomorphism between its two pullbacks to
$U\times_X U$ satisfying the cocycle condition on
$U\times_X U \times_X U$. We want some
$\mathcal{G} \in {\mathrm{QCoh}}(X)$ such that the pullback admits an
isomorphism $f^* \mathcal{G} \xrightarrow{\sim}\mathcal{F}$ for which
the canonical descent data on the pullback agrees.

We'll use a similar trick to construct $\mathcal{G}$.

::: {.exercise title="Important"}
```{=latex}
\begin{exercise}[Important]
```
**Step 1**: We'll reduce to the case of an affine morphism.

```{=latex}
\end{exercise}
```
:::

**Step 2**:

Let $R\xrightarrow{f} S$ and $M\in {{S}{\hbox{-}}\operatorname{mod}}$.
We'll want an isomorphism $\phi: M\otimes_R S\to S\otimes_R M$ of
$S\otimes_R S$ modules satisfying the cocycle condition. We make the
following construction:

```{=tex}
\begin{tikzcd}
M \ar[r, shift left=2.5, "m\mapsto 1\otimes m"] \ar[r, shift right=2.5, "m\mapsto \phi(m\otimes 1)", swap] & S\otimes M \\
\end{tikzcd}
```
Suppose that $M$ is of the form $N\otimes S$ for
$N\in {R{\hbox{-}}\operatorname{mod}}$, how would the descent of $M$ fit
into this diagram and relate to these two maps? Just set $K$ to be the
equalizer of this diagram, i.e. the subset of $M$ that go to the same
thing under both maps.

::: {.claim}
```{=latex}
\begin{claim}
```
There is obvious map $K\otimes_R S\to M$ since $K \subseteq M$ and
$M\in {{S}{\hbox{-}}\operatorname{mod}}$, so you can include
$K\hookrightarrow M$ and multiply by elements of $S$. Moreover, this map
is an isomorphism. Given this isomorphism, one obtains compatible
descent data on $M$.

```{=latex}
\end{claim}
```
:::

From the lemma, we have an equalizer
```{=tex}
\begin{tikzcd}
R \ar[r] &
S \ar[r, shift right=0.75ex] \ar[r, shift left=0.75ex] &
S\otimes_R S
\end{tikzcd}
```
to which we can apply ${\,\cdot\,}\otimes_S M$ to obtain

```{=tex}
\begin{tikzcd}
K \ar[r] &
M\otimes S \ar[r, shift right=0.75ex] \ar[r, shift left=0.75ex] &
M\otimes_R S &
\end{tikzcd}
```
where $K$ is by definition the above kernel. We want to check that the
map $K\to M$ appearing here induces an isomorphism $K\otimes S \to M$.

::: {.exercise title="Important"}
```{=latex}
\begin{exercise}[Important]
```
This is true if $R\to S$ has a section, show this. Given
$U\xrightarrow{f} X$ with a section $s$ and
$\mathcal{F}\in {\mathrm{QCoh}}(U)$ with descent data, we want
$\mathcal{G}$ such that $f^* \mathcal{G} = \mathcal{F}$. You can take
$\mathcal{G}\mathrel{\vcenter{:}}= s^* \mathcal{F}$; check that this
works.

```{=latex}
\end{exercise}
```
:::

In general, we want to show $K\otimes S \to M$ is an isomorphism, and we
want to reduce to the case where we have a section. After applying
${\,\cdot\,}\otimes S$, $R\to S$ acquires a section. Why? We get a map
$S\to S\otimes_R S$, and there's a reverse map $S\otimes_R S\to S$ given
by multiplication. So $K\otimes S \otimes S \to M\otimes S$ is an
isomorphism, which implies $K\otimes S\to M$ is an isomorphism due to
the fact that $S$ is faithfully flat over $R$ which allows us to check
exactness before or after tensoring with $S$.

> The exercises here are among the most important in the course! Totally
> necessary to do them.

## Representable Functors

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
Suppose $p:U\to X$ is an fppf cover. Then the functor
$p^*: {\operatorname{Sch}}/X \to$ descent data for schemes on $U/X$ is
fully faithful (but not an equivalence of categories).

```{=latex}
\end{theorem}
```
:::

### Proof of Theorem

::: {.exercise title="Step 1"}
```{=latex}
\begin{exercise}[Step 1]
```
Reduce to the case where *everything* is affine, including $U, X$, and
the scheme over $X$. However, it's enough to reduce to the case of
affine schemes over $X$, and $U, X$ are not necessarily affine.

```{=latex}
\end{exercise}
```
:::

**Step 2**: If $Y,Z$ are schemes over $X$, we want to show the following
is an equalizer diagram:
```{=tex}
\begin{tikzcd}
\hom_X(Y, Z) \ar[r] &
\hom_U(p^* Y, p^* Z) \ar[r, shift right=0.75ex] \ar[r, shift left=0.75ex] &
\hom_{U\times_X U}(\pi^* p^* Y, \pi^* p^* Z)
\end{tikzcd}
```
Here we've suppressed the indices on the $\pi_i$ since their images are
canonically identified. Injectivity is obvious, using that $U$ is
surjective, two different morphisms of schemes pulled back along a
faithfully flat morphisms are distinct, although we'll prove this. The
real content is that any morphism on $U$ that maps to the same thing on
$U\times_X U$ comes from $X$, so we can descend morphisms and the
morphisms form a sheaf (which is what we're trying to prove).

We'll deduce this from what we proved about quasicoherent sheaves. By
the first reduction, we can assume
$Y = \underline{\operatorname{Spec}}_X {\mathcal{O}}_Y$ is a relative
spec, as is $Z = \underline{\operatorname{Spec}}_X {\mathcal{O}}_Z$
where the ${\mathcal{O}}$ here are quasicoherent sheaves of algebras.
These are obtained by taking the pushforward of the structure sheaf
along $Y\to X, Z\to X$. Rewriting the diagram, the homs are now in the
category of quasicoherent algebras and we have
```{=tex}
\begin{tikzcd}
 \hom({\mathcal{O}}_Z, {\mathcal{O}}_Y)\ar[r] &
 \hom(p^* {\mathcal{O}}_Z, p^* {\mathcal{O}}_Y) \ar[r, shift right=0.75ex] \ar[r, shift left=0.75ex] &
 \cdots
\end{tikzcd}
```
where we want this to be an equalizer. This is true because the first
map is injective even when ignoring the algebra structure, just looking
at a map of quasicoherent sheaves, we know this is injective. If we have
an element in the middle that is a morphism of algebras mapping to the
same thing, it comes from a quasicoherent sheaf in the first slot. That
this is also a map of quasicoherent algebras follows from the fact that
descent is functorial. A map of algebras is commuting with a bunch of
maps of quasicoherent sheaves, which we know is true on the RHS and is
thus true on the LHS since pullback yields an equivalence of categories.

### Consequences

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
If $Z \in {\operatorname{Sch}}/X$, the $\hom({\,\cdot\,}, Z)$ is a sheaf
on
$X_{\mathrm{\operatorname{fppf}}}, X_{\mathrm{\operatorname{ét}}}, X_{\mathrm{\operatorname{Ét}}}$,
etc.

```{=latex}
\end{corollary}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
$p^*$ is not essentially surjective in general for schemes. Descent data
for schemes relative to an étale cover $U/X$ is called an **algebraic
space**. Note that some definitions may also required separatedness.
When pullback does yield an equivalence of categories, this is referred
to as **effective descent**.

It *is* essentially surjective for affine schemes and polarized schemes:
if you have descent data for a scheme on $U/X$ with an ample line bundle
(which also has descent data) then you can descend the scheme. Thus
projective varieties can be descended, provided you also descend them
with an ample line bundle. Replacing $\operatorname{Spec}$ with
$\operatorname{Proj}$ is one way to show this.

```{=latex}
\end{remark}
```
:::

::: {.example title="of sheaves"}
```{=latex}
\begin{example}[of sheaves]
```
```{=tex}
\envlist
```
-   ${\mathbb{G}}_m: U \to {\mathcal{O}}_U(U)^{\times}$
-   $\mu_\ell: U\to \left\{{f\in {\mathcal{O}}_U(U) {~\mathrel{\Big|}~}f^\ell = 1}\right\}$.
-   $\underline{\mathbb{Z}/\ell\mathbb{Z}}: U\to \hom_{{\operatorname{Top}}}(U, \mathbb{Z}/\ell\mathbb{Z})$
    sending $U$ to continuous maps from $U$ to the constant scheme
    $\mathbb{Z}/\ell\mathbb{Z}$, i.e. the $\ell{\hbox{-}}$points.
-   $\operatorname{Hilb}^{p(t)}({\mathbb{P}}^n)$ Hilbert schemes of
    projective space. We know this is a scheme, so the functor it
    represents is a sheaf.
-   ${\mathbb{P}}^n$, which represents a line bundle with a surjective
    map from the trivial bundle of rank $n+1$

```{=latex}
\end{example}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Work out Galois descent from this point of view.

```{=latex}
\end{exercise}
```
:::

## Étale Cohomology

What missing ingredients do we need to define cohomology for these
abelian sheaves?

1.  We want to show that the category of abelian sheaves on
    $X_{\mathrm{\operatorname{ét}}}$ is abelian.
2.  We need enough injectives.

::: {.remark}
```{=latex}
\begin{remark}
```
Both of these facts are true for the category of abelian sheaves on
*any* site, i.e. any category with a Grothendieck topology.

```{=latex}
\end{remark}
```
:::

The proof of (2) will be relatively easy, but the crucial ingredient for
(1) will be the following:

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
Let $\tau$ be a site. Then the forgetful functor
${\operatorname{Sh}}(\tau) \to {\operatorname{Presh}}(\tau)$ has a left
adjoint which we'll call **sheafification**.

```{=latex}
\end{theorem}
```
:::

We'll just prove this for $\tau = X_{\mathrm{\operatorname{ét}}}$. The
general theorem is much longer!

### Preliminaries

Some operations we can do with sheaves:

#### Pushforward and pullback

Suppose $f:\tau_1 \to \tau_2$ to be a continuous morphism of sites,
i.e. a functor $f^{-1} : \tau_2 \to \tau_1$ which preserves fiber
products (preserving intersections and covering families).

::: {.definition title="Pushforwards"}
```{=latex}
\begin{definition}[Pushforwards]
```
Given $\mathcal{G}\in {\operatorname{Sh}}(\tau_1)$, define
$f_* \mathcal{G}\in {\operatorname{Sh}}(\tau_2)$ by `
\begin{align*}  
\qty{f_* \mathcal{G}}(U) \mathrel{\vcenter{:}}=\mathcal{G}( f^{-1}(U))
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

Note that this is the usual formula for pushforwards.

::: {.exercise title="Important, must do"}
```{=latex}
\begin{exercise}[Important, must do]
```
Show that $f_* \mathcal{G}$ is a sheaf.

```{=latex}
\end{exercise}
```
:::

# Lecture 6: Filling in Gaps, Étale Cohomology

::: {.remark title="A technical point"}
```{=latex}
\begin{remark}[A technical point]
```
Last time a theorem was stated that pullback induced an equivalence of
categories
${\mathrm{QCoh}}(X_{{\mathrm{zar}}}) \xrightarrow{\sim} {\mathrm{QCoh}}(X_{\mathrm{\operatorname{ét}}}) \xrightarrow{\sim} {\mathrm{QCoh}}(X)(X_{\mathrm{\operatorname{fppf}}})$;
note that these are the little sites. What about the big sites? There
are similar equivalences between the three corresponding big sites, but
in general,
${\mathrm{QCoh}}(X_{{\mathrm{Zar}}}) \neq {\mathrm{QCoh}}(X_{{\mathrm{zar}}})$.

For example, a quasicoherent sheaf on the big Zariski site is a
quasicoherent sheaf on every $X{\hbox{-}}$scheme and morphisms between
various pullbacks. This isn't as affected by what sheaf you have on $X$
itself.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Étale descent data for schemes is not quite the same as an algebraic
space: it yields an algebraic space, but the data is not literally the
same.

```{=latex}
\end{remark}
```
:::

## Gaps

::: {.claim}
```{=latex}
\begin{claim}
```
The category of abelian sheaves on the $X_{\mathrm{\operatorname{ét}}}$
is an abelian category with enough injectives.

```{=latex}
\end{claim}
```
:::

With this in hand, we can use the formalism of derived functors to
define étale cohomology:

::: {.definition title="Étale Cohomology" ref="def:etale_cohomology"}
```{=latex}
\begin{definition}[Étale Cohomology]\label{def:etale_cohomology}
```
`
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, \mathbb{Z}/\ell\mathbb{Z}) \mathrel{\vcenter{:}}= R^i \Gamma(X_\mathrm{\operatorname{ét}}, \underline{ \mathbb{Z}/\ell\mathbb{Z}} )
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

The crucial ingredient (mentioned last time) is the following:

::: {.theorem title="Sheafification for Sites"}
```{=latex}
\begin{theorem}[Sheafification for Sites]
```
For $\tau$ a site, the forgetful functor
${\operatorname{Sh}}(\tau) \to {\operatorname{Presh}}(\tau)$ has a left
adjoint (**sheafification**).

```{=latex}
\end{theorem}
```
:::

We'll prove this for the étale site, just Google "sheafification for
sites" to find more general proofs. Note that this is actually the
inclusion of a full subcategory. Before the proof, we'll need a few
operations in order to imitate the usual proof that sheafification
exists for usual sheaves. This is done by constructing the *espace
étalé* out of the stalks and define the sheafification to be sections.
The operations we'll need are:

### Pushforwards

For $f: \tau_1 \to \tau_2$ a continuous map of sites, this was a
reversed functor preserving fibers products and covering families. For
$\mathcal{G}\in {\operatorname{Sh}}(\tau_1)$ we constructed
$f_* \mathcal{G}$, and the exercise was to show that this is a sheaf.

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $f:X\to Y$ be a map of schemes, this induces a map
$f: X_\mathrm{\operatorname{ét}}\to Y_\mathrm{\operatorname{ét}}$ where
each $U/Y$ comes from $U\times_Y X$ over $X$.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Suppose $k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$
is a field and we have
$\iota_{\mkern 1.5mu\overline{\mkern-1.5muX\mkern-1.5mu}\mkern 1.5mu}:\operatorname{Spec}k\to X$.
We have
${\operatorname{Sh}}\qty{\qty{\operatorname{Spec}k}_{\mathrm{\operatorname{ét}}}} = {\operatorname{Set}}$,
since an étale cover of $\operatorname{Spec}k$ is a disjoint union of
copies of itself. If you show what the value of a sheaf on
$\operatorname{Spec}k$, you know it on any disjoint union of them since
there are a lot of sections. Moreover, any disjoint union of copies of
$\operatorname{Spec}k$ can be covered by copies $\operatorname{Spec}k$
itself by definition.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Show this!

```{=latex}
\end{exercise}
```
:::

What is the pushforward? `
\begin{align*}  
\qty{\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}}_* \mathcal{F}(U\to X) = \mathcal{F}(U\times_X \mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu)
= F\qty{{\coprod}\operatorname{Spec}k}
= \prod \mathcal{F}\operatorname{Spec}k
,\end{align*}`{=tex}

where the number of copies appearing is the number of preimages of
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$ in $U$,
and the last equality follows from the sheaf condition.

```{=latex}
\end{example}
```
:::

::: {.definition title="Skyscraper Sheaf"}
```{=latex}
\begin{definition}[Skyscraper Sheaf]
```
$\qty{\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}}_* \mathcal{F}$
is called the **skyscraper sheaf**.

```{=latex}
\end{definition}
```
:::

### Pullbacks

In the usual setting, to define a pullback of sheaves you take an direct
limit to compute the value on an open set $U$, which only yields a
presheaf and thus requires sheafifying. We don't know how to sheafify
yet, so we can't yet define pullbacks in general. We can define
pullbacks to a geometric point though:

::: {.definition title="Pullbacks"}
```{=latex}
\begin{definition}[Pullbacks]
```
Let
$\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}: \operatorname{Spec}k \to X$
with $k = \mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$
and set
$\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} = \iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}^* \mathcal{F}$
for
$\mathcal{F}\in {\operatorname{Sh}}(X_{\mathrm{\operatorname{ét}}})$.
The LHS is a set and the RHS is a sheaf on
$\qty{\operatorname{Spec}k}_{\mathrm{\operatorname{ét}}}$. We then
define `
\begin{align*}  
\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} \def \varinjlim_{(U, u)} \mathcal{F}(U)
,\end{align*}`{=tex} where the limit is taken over diagrams of the form
```{=tex}
\begin{tikzcd}
\mkern 1.5mu\overline{\mkern-1.5muu\mkern-1.5mu}\mkern 1.5mu \ar[r]\ar[d] & U\ar[d] \\
x \ar[r, "\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}", hook] & X
\end{tikzcd}
```
where $\mkern 1.5mu\overline{\mkern-1.5muu\mkern-1.5mu}\mkern 1.5mu$ is
a geometric point and $Y\to X$ is étale.
$\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$
is referred to as the **stalk of $\mathcal{F}$ at
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$**.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
We don't have to work at a closed point. Taking $\operatorname{Spec}k$
to be the algebraic closure of the function field of $X$ is $X$ is
irreducible.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $\mathcal{F} = \underline{\mathbb{Z}/\ell\mathbb{Z}}$ and
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu\hookrightarrow X$
any geometric point. Then the pullback is given by
$\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}^* \qty{\underline{\mathbb{Z}/\ell\mathbb{Z}}} = \mathbb{Z}/\ell\mathbb{Z}$.
If $U$ had more than one connected component, then the first definition
would involve a limit over $\mathcal{F}(U)$ which are all copies of
$\mathbb{Z}/\ell\mathbb{Z}$. But given this, you can always find a
connected covering. So the
$(U, \mkern 1.5mu\overline{\mkern-1.5muu\mkern-1.5mu}\mkern 1.5mu)$
which are *connected* are actually cofinal.[^18]

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $\mathcal{F} = {\mathcal{O}}_{X}^{\mathrm{\operatorname{ét}}}$, then
the pullback is
$\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}^* {\mathcal{O}}_X^{\mathrm{\operatorname{ét}}} = {\mathcal{O}}_{X\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}^{\mathrm{sh}}$,
which is the strict Henselization (where we're picking up the version
that has an algebraically closed residue field).

```{=latex}
\end{example}
```
:::

Some useful things about stalks: we can check things like isomorphisms
locally on them.

::: {.lemma title="?"}
```{=latex}
\begin{lemma}[?]
```
Suppose $\mathcal{F}, \mathcal{G}$ are sheaves of abelian groups on
$X_{\mathrm{\operatorname{ét}}}$. Then TFAE

1.  $\mathcal{F}\to \mathcal{G}$ is an epimorphism,
2.  $\mathcal{F}\to \mathcal{G}$ is locally surjective, i.e. given a
    section $s\in \mathcal{G}(U)$ there exists $U'\to U$ such that
    ${ \left.{{s}} \right|_{{U'}} }$ is the image of some
    $s' \in \mathcal{F}(U)$.[^19]
3.  $\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} \to \mathcal{G}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$
    is surjective for all geometric points
    $\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu\to X$.

```{=latex}
\end{lemma}
```
:::

::: {.proof title="2 $\\implies$ 1"}
```{=latex}
\begin{proof}[2 $\implies$ 1]
```
Suppose we have
```{=tex}
\begin{tikzcd}
\mathcal{F} \ar[r] &
 \mathcal{G} \ar[r, shift right=0.75ex, "a"'] \ar[r, shift left=0.75ex, "b"] &
\mathcal{H}
\end{tikzcd}
```
where the 2 compositions agree, then we want to show that $a=b$. Let $s$
be a section of $\mathcal{G}$ on $U$, we want to know that
$a(s) = b(s)$. By (2), we can replace $s$ with $s'$ coming from
$\mathcal{F}$, so $a(s') = b(s')$ since the compositions agree.

```{=latex}
\end{proof}
```
:::

::: {.proof title="1 $\\implies$ 3"}
```{=latex}
\begin{proof}[1 $\implies$ 3]
```
We want to show that given an epimorphisms, the map on every stalk is
surjective. Assume
$\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} \to \mathcal{G}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$
is not surjective, and thus has a nontrivial cokernel $\Lambda$. We can
construct 2 maps to the skyscraper sheaf:
```{=tex}
\begin{tikzcd}
 \mathcal{F} \ar[r] &
 \mathcal{G} \ar[r, shift right=0.75ex, "0"'] \ar[r, shift left=0.75ex, "f"] &
  \qty{\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}}_* \Lambda
\end{tikzcd}
```
where $f$ is the "natural map" given by taking a section to
$\mathcal{G}$ and considering its stalk. Since $\Lambda$ was the
cokernel, both compositions from $\mathcal{F}$ are zero:
```{=tex}
\begin{tikzcd}
 \mathcal{F} \ar[r]\ar[rr, bend left, "0"] \ar[rr, bend right, "0"'] &
 \mathcal{G} \ar[r, shift right=0.75ex, "0"'] \ar[r, shift left=0.75ex, "f"] &
  \qty{\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}}_* \Lambda
\end{tikzcd}
```
which forces $\Lambda = 0$, a contradiction.

```{=latex}
\end{proof}
```
:::

::: {.proof title="3 $\\implies$ 2"}
```{=latex}
\begin{proof}[3 $\implies$ 2]
```
Given $s\in \mathcal{G}(U)$, we want to produce a $U' \to U$ such that
${ \left.{{s}} \right|_{{U'}} }$ comes from $\mathcal{F}$. Picking any
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu\in U$,
since
$\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} \to \mathcal{G}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$
is surjective, there is some étale neighborhood of
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$, say
$(V, \mkern 1.5mu\overline{\mkern-1.5muv\mkern-1.5mu}\mkern 1.5mu)$
where $V\to X$ and
$\mkern 1.5mu\overline{\mkern-1.5muv\mkern-1.5mu}\mkern 1.5mu \mapsto \mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$:
```{=tex}
\begin{tikzcd}
\mkern 1.5mu\overline{\mkern-1.5muv\mkern-1.5mu}\mkern 1.5mu \ar[r]\ar[d] & V\ar[d] \\
x \ar[r, "\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}", hook] & X
\end{tikzcd}
```
Moreover, ${ \left.{{s}} \right|_{{V}} }$ is in the image of
$\mathcal{F}$. The only problem is that $V$ is not a cover of $U$, so we
extend it by choosing
$\mkern 1.5mu\overline{\mkern-1.5mux'\mkern-1.5mu}\mkern 1.5mu$ not in
the image of $V$, and continue in this way until it forms a cover.

```{=latex}
\end{proof}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This terminates if the scheme is quasicompact, otherwise you may need
transfinite induction and thus the axiom of choice. The morphisms are
still étale if you take disjoint unions, since you only need to check
local properties: locally finite presentation, unramified, and flatness.

```{=latex}
\end{remark}
```
:::

::: {.lemma title="?"}
```{=latex}
\begin{lemma}[?]
```
Suppose $0 \to \mathcal{F}\to \mathcal{G}\to \mathcal{H}$ is a sequence
of abelian sheaves on $X_{\mathrm{\operatorname{ét}}}$, then TFAE

1.  This sequence is exact,

2.  $0 \to \mathcal{F}(U) \to \mathcal{G}(U) \to \mathcal{H}(U)$ is
    exact for all $U$,

3.  $0 \to \mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} \to \mathcal{G}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} \to \mathcal{H}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$
    is exact for all geometric points
    $\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$.

```{=latex}
\end{lemma}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
What is the difference between 1 and 2? 1 means that
$\mathcal{F}\to \mathcal{G}$ is a monomorphism and the kernel of the map
$f: \mathcal{G}\to \mathcal{H}$, i.e. the following diagram is an
equalizer:
```{=tex}
\begin{tikzcd}
 \mathcal{F} \ar[r] &
 \mathcal{G} \ar[r, shift right=0.75ex, "f"'] \ar[r, shift left=0.75ex, "0"] &
  \mathcal{H}
\end{tikzcd}
```
```{=latex}
\end{remark}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Prove this! The proof used for topological spaces will work here, using
the fact that direct limits preserve exactness.

```{=latex}
\end{exercise}
```
:::

## Proof: Sheafification Exists for the Étale Site

We can now prove that sheafification exists for
${\operatorname{Presh}}(X_{\mathrm{\operatorname{ét}}})$. Recall that we
have a forgetful functor from sheaves to presheaves, and we want to show
it has a left adjoint.

We'll first construct an analog of the *espace étalé*:

::: {.definition title="Espace étalé for the étale site"}
```{=latex}
\begin{definition}[Espace étalé for the étale site]
```
For each $x\in X$, choose a geometric point
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$ over $x$,
and given
$\mathcal{F}\in {\operatorname{Presh}}(X_{\mathrm{\operatorname{ét}}})$
define `
\begin{align*}  
\mathrm{Esp}(\mathcal{F}) \mathrel{\vcenter{:}}=\prod_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} \qty{\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}}_* \mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}
,\end{align*}`{=tex} the product of skyscraper sheaves.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This is a sheaf since pushforwards and products of sheaves are again
sheaves. There is a natural map of presheaves
$\mathcal{F}\to \mathrm{Esp}(\mathcal{F})$ given by sending sections to
germs.

```{=latex}
\end{remark}
```
:::

::: {.definition title="Sheafification $\\mathcal{F}^a$"}
```{=latex}
\begin{definition}[Sheafification $\mathcal{F}^a$]
```
The sheaf $\mathcal{F}^a$ is the subsheaf of $\mathrm{Esp}(\mathcal{F})$
generated by $\mathcal{F}$, i.e. `
\begin{align*}  
\mathcal{F}^a(U) \subseteq \mathrm{Esp}(\mathcal{F})(U), \mathcal{F}^a(U) = \left\{{s\in \mathrm{Esp}(\mathcal{F})(U)  {~\mathrel{\Big|}~}\text{ locally } s\in \operatorname{im}\mathcal{F}}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Here $\mathrm{Esp}(\mathcal{F})$ is like the product of all of the
stalks, and $\mathcal{F}^a$ is the *espace étalé* inside of it.

```{=latex}
\end{remark}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
$\mathcal{F}^a$ is a sheaf.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
This is a subfunctor of a sheaf, and thus a presheaf. It's *separable*,
meaning the map in the equalizer diagram is injective, and a section is
determined by what it is locally. This is true for
$\mathrm{Esp}(\mathcal{F})$ and thus for $\mathcal{F}^a$. Gluing follows
from the fact that it is locally defined.

```{=latex}
\end{proof}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
$\mathcal{F}^a$ is left adjoint to the forgetful functor.

```{=latex}
\end{proposition}
```
:::

::: {.exercise title="Important!"}
```{=latex}
\begin{exercise}[Important!]
```
Prove this! The proof used for topological spaces works here.

```{=latex}
\end{exercise}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
We've used a trick in the proof that uses some geometry to avoid needing
to apply sheafification twice to obtain a sheaf. For general sites,
there is an analog of the plus construction.

```{=latex}
\end{remark}
```
:::

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
Colimits exists in ${\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$.

```{=latex}
\end{corollary}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
Colimits exist for presheaves, since colimits always exists for sheaves
valued in a category where colimits exist since they're computed
pointwise. Left adjoints send colimits to colimits, so in general we'll
construct colimits of sheaves by taking colimits of presheaves and then
sheafifying. This is true because colimits are defined by mapping *out*,
and the definition of left adjoints is that one knows how to map out of
it.

```{=latex}
\end{proof}
```
:::

::: {.corollary title="Sheaves on the Étale Site Form an Abelian Category"}
```{=latex}
\begin{corollary}[Sheaves on the Étale Site Form an Abelian Category]
```
${\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$ is an abelian
category.

```{=latex}
\end{corollary}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
```{=tex}
\envlist
```
-   Limits exist since they can be defined pointwise.

-   Cokernels exists since they are colimits:
    $\operatorname{coker}(\mathcal{F} \to \mathcal{G})$ is given by the
    coequalizer of

    ```{=tex}
    \begin{tikzcd}
     \mathcal{F} \ar[r, shift right=0.75ex, "f"'] \ar[r, shift left=0.75ex, "0"] &
    \mathcal{G}
    \end{tikzcd}
    ```
    which is a colimit.

-   $\operatorname{im}= \operatorname{coim}$, which can be checked on
    stalks.

```{=latex}
\end{proof}
```
:::

Next time: we'll finish proving that injectives exist, and start
computing.

# Lecture 07

Last time: stalks, sheafification, and
${\operatorname{Sh}}(X_{\mathrm{\operatorname{ét}}})$ is abelian. Next
up, we're aiming to define sheaf cohomology for
${\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$.

::: {.remark title="Esoteric!"}
```{=latex}
\begin{remark}[Esoteric!]
```
Related to a question asked by a viewer: there is not in fact a morphism
from
$X_{\mathrm{\operatorname{fppf}}} \to X_{\mathrm{\operatorname{ét}}}$,
since locally finitely-presented need not be finitely presented (part of
the condition for fppf). There is instead a morphism
$X_{\mathrm{\operatorname{fppf}}}\to X_{\mathrm{\operatorname{ét}}, \text{fp}}$
to a corresponding finitely presented site. There is also a map
$X_{\mathrm{\operatorname{ét}}} \to X_{\mathrm{\operatorname{ét}}, \text{fp}}$
inducing an equivalence on the category of sheaves via pushforward.

```{=latex}
\end{remark}
```
:::

::: {.theorem title="Enough injectives"}
```{=latex}
\begin{theorem}[Enough injectives]
```
${\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$ has enough
injectives.

```{=latex}
\end{theorem}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
Given $\mathcal{F}\in {\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$
we want an injective sheaf $\mathcal{I}$ and an injection
$\mathcal{F}\hookrightarrow\mathcal{I}$. For each $x\in X$, choose a
geometric point
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$ over $x$,
and let
$I(\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu)$ be an
injective ${\mathbb{Z}}{\hbox{-}}$module with a map
$\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} \to I(\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu)$.
These exist because the category of ${\mathbb{Z}}{\hbox{-}}$modules has
enough injectives. The injectives in this category are **divisible**
abelian groups.

::: {.claim}
```{=latex}
\begin{claim}
```
The following object works: `
\begin{align*}  
\mathcal{I} \mathrel{\vcenter{:}}=\prod_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} (\iota_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu})_* I(\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu)
.\end{align*}`{=tex}

```{=latex}
\end{claim}
```
:::

We need to check

1.  There is a map $\mathcal{F}\to \mathcal{I}$: The RHS is a product,
    so we map into the components.
    $\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$
    maps into its own associated skyscraper sheaf where the map is
    sending sections to their germs. Then the skyscraper sheaf for
    $\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$
    maps into the skyscraper sheaf for
    $I(\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu)$ by
    pushforward.

2.  This is a monomorphism: check on stalks.

3.  $\mathcal{I}$ is injective: check the lifting property directly.

```{=latex}
\end{proof}
```
:::

## What Else We Get From Sheafification

::: {.remark}
```{=latex}
\begin{remark}
```
We now know that ${\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$ is
abelian with enough injectives. This is true for
${\operatorname{Sh}}(\tau)$ for any site $\tau$, but this is
substantially harder to show.

```{=latex}
\end{remark}
```
:::

### Inverse Images

For $f:X\to Y$, we have a map on presheaves `
\begin{align*}  
f^{-1} :{\operatorname{Presh}}(Y_{\mathrm{\operatorname{ét}}}) &\to {\operatorname{Presh}}(X_\mathrm{\operatorname{ét}}) \\
\mathcal{F}(V\xrightarrow{\mathrm{\operatorname{ét}}} X) &\mapsto \varinjlim\mathcal{F}(U\to X)
,\end{align*}`{=tex} where the limit is over diagrams of the form
```{=tex}
\begin{tikzcd}
V \ar[r] \ar[d, "\mathrm{\operatorname{ét}}"] & U \ar[d, "\mathrm{\operatorname{ét}}"] \\
X \ar[r] & Y
\end{tikzcd}
```
::: {.fact}
```{=latex}
\begin{fact}
```
$f^{-1}$ is left adjoint to pushforward as functors on presheaves.

```{=latex}
\end{fact}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check this.

```{=latex}
\end{exercise}
```
:::

::: {.definition title="Inverse Image Sheaf"}
```{=latex}
\begin{definition}[Inverse Image Sheaf]
```
`
\begin{align*}  
f^* \mathcal{F} \mathrel{\vcenter{:}}=\qty{f^{-1} \mathcal{F}}^a
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
$f^*$ is left adjoint to $f_*$.

```{=latex}
\end{theorem}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
Sheafification is a left adjoint.

```{=latex}
\end{proof}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
```{=tex}
\envlist
```
-   For
    $\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu\xhookrightarrow{\iota} X$
    a geometric point, we have
    $\iota^* \mathcal{F}= \mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$.

-   For $Y\xrightarrow{f} X$, we have
    $f^* \underline{\mathbb{Z}/\ell\mathbb{Z}} = \underline{\mathbb{Z}/\ell\mathbb{Z}}$.

-   More generally, for $Y\xrightarrow{f} X$ and any representable
    functor
    $\mathcal{F} \mathrel{\vcenter{:}}=\underline{\hom}_X({\,\cdot\,}, Z)$,
    we have
    $f^* \mathcal{F} = \underline{\hom}_Y({\,\cdot\,}, Y\times_X Z)$.

```{=latex}
\end{example}
```
:::

## Étale Cohomology

See `\cref{def:etale_cohomology}`{=tex} for the definition of étale
cohomology. How do we compute
$H^i(X_{\mathrm{\operatorname{ét}}}, \mathcal{F})$? Choose an injective
resolution `
\begin{align*}  
\mathcal{F}\to \mathcal{I}^0 \to \mathcal{I}^1 \to \cdots
.\end{align*}`{=tex} with the $\mathcal{I}^j$ injectives. From the
general theory of derived functors, we obtain `
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, \mathcal{F}) = H^i\qty{\Gamma(X, \mathcal{I}^{\,\cdot\,})}
,\end{align*}`{=tex} where the RHS is a complex of abelian groups.
Injective resolutions are difficult to find in general. Suppose
$\pi:X_\mathrm{\operatorname{ét}}\to Y_\mathrm{\operatorname{ét}}$ comes
from a map of schemes, then we can compute derived functors of other
functors such as the pushforward, `
\begin{align*}  
\qty{R^i \pi_*} \mathcal{F} = H^i\qty{ \pi_* \mathcal{I}^{\,\cdot\,}}
,\end{align*}`{=tex} where the RHS are sheaves on
$Y_\mathrm{\operatorname{ét}}$. Implicit here is the claim that $\pi_*$
is left-exact. You can also find $\qty{L^{>0} \pi^*} \mathcal{G} = 0$.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that pullback is exact.

```{=latex}
\end{exercise}
```
:::

::: {.proposition title="Properties of étale cohomology"}
```{=latex}
\begin{proposition}[Properties of étale cohomology]
```
```{=tex}
\envlist
```
1.  $H^0(X_\mathrm{\operatorname{ét}}, \mathcal{F}) = \mathcal{F}(X)$,
    aka the global sections $\Gamma(X, \mathcal{F})$.

2.  $H^{>0}(\mathcal{I}) = 0$ for $\mathcal{I}$ injective.

3.  Given a SES of sheaves in
    ${\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$ `
    \begin{align*}  
    0 \to A\to B \to C \to 0
    \end{align*}`{=tex} there is a LES `
    \begin{align*}  
      \cdots \to H^{i+1}(X_\mathrm{\operatorname{ét}}, C) \xrightarrow{\delta} H^i(X_\mathrm{\operatorname{ét}}, A) \to \cdots
      .\end{align*}`{=tex}

```{=latex}
\end{proposition}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Suppose $k$ is a field, not necessarily algebraically closed, and
consider
${\operatorname{Sh}}(\qty{\operatorname{Spec}k}_\mathrm{\operatorname{ét}})$.
Let $G \mathrel{\vcenter{:}}=\operatorname{Gal}(k^s/k)$ for a choice of
separable closure $k^s/k$.

::: {.claim}
```{=latex}
\begin{claim}
```
There is a functor from
${\operatorname{Sh}}(\qty{\operatorname{Spec}k}_\mathrm{\operatorname{ét}})$
to discrete $G{\hbox{-}}$modules[^20] inducing an equivalence of
categories.

```{=latex}
\end{claim}
```
:::

Note that when thinking of Galois representations, ${\mathbb{Z}}_{\ell}$
is not an example of this, but a representation over a finite field
works. E.g. the Tate module (the inverse limit of torsion) of an
elliptic curve is not a discrete $G{\hbox{-}}$module since the Galois
action is not continuous in the discrete topology (although it is in the
$\ell{\hbox{-}}$adic topology).

To prove this claim, the map is given by `
\begin{align*}  
\iota: {\operatorname{Sh}}(\qty{\operatorname{Spec}k}_\mathrm{\operatorname{ét}}) &\to \text{Discrete $G{\hbox{-}}$modules} \\
\mathcal{F} &\mapsto %
  \mathrel{\stackunder[2pt]{\stackon[4pt]{$\varprojlim$}{$\scriptscriptstyle$}}{%
  $\scriptscriptstyle k \subset L \subset k^s$}}\mathcal{F}(\operatorname{Spec}L)
.\end{align*}`{=tex} The idea here: you want to evaluate $\mathcal{F}$
on $k^s$, which doesn't make sense because $k^s$ is not locally
finitely-presented, so we take a limit instead. The claim is that the
image is a discrete $G{\hbox{-}}$module and this is an equivalence. This
follows because each term is, and taking limits preserves this property.

```{=latex}
\end{example}
```
:::

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
$H^i(\qty{\operatorname{Spec}K}_\mathrm{\operatorname{ét}}, \mathcal{F} ) = H^i(G,\iota \mathcal{F})$,
which is the Galois cohomology.

```{=latex}
\end{corollary}
```
:::

Why? Derived functors only depend on the ambient category, so it
suffices to check $H^0$.

::: {.proof title="of claim"}
```{=latex}
\begin{proof}[of claim]
```
We get a $G{\hbox{-}}$module since $G$ acts on the entire diagram and
thus its limit.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that this is a discrete $G{\hbox{-}}$module.

```{=latex}
\end{exercise}
```
:::

There is an inverse functor: given $V\to \operatorname{Spec}k$ an étale
map, by the classification of étale $k{\hbox{-}}$algebras we have
$V = {\coprod}_{k in K'} \operatorname{Spec}k'$ where $K'$ is the set of
all finite separable $k'/k$. Given a discrete $G{\hbox{-}}$module $M$,
send it to the Galois fixed points $V \to \prod M^{G_s'}$ where
$G_s' \mathrel{\vcenter{:}}=\operatorname{Gal}(k^s/k')$.

::: {.exercise title="Check"}
```{=latex}
\begin{exercise}[Check]
```
Check that this is an inverse, it follows from Galois descent.

```{=latex}
\end{exercise}
```
:::

```{=latex}
\end{proof}
```
:::

::: {.proof title="of corollary"}
```{=latex}
\begin{proof}[of corollary]
```
$\Gamma(\operatorname{Spec}k, \mathcal{F}) = \qty{\iota F}^G$, taking
the $G{\hbox{-}}$invariants. So $H^0 \xrightarrow{\iota}$ to taking
invariants, and thus the higher derived functors agree, where the RHS is
group cohomology.

```{=latex}
\end{proof}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Right now we're only talking about things that look like
$\mathbb{Z}/\ell\mathbb{Z}^n$, but the goal when proving the Weil
conjectures will be using ${\mathbb{Z}}_\ell$. We'll be trying to count
some number by taking traces, but if we take these in a ring where some
prime is zero, this only gives a congruence class. So when we define
$\ell{\hbox{-}}$adic cohomology, we'll take some inverse limit. If we
take the constant sheaf $\underline{{\mathbb{Z}}_\ell}$, this doesn't
use the topology and will give the wrong answer.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
For $E$ an elliptic curve, $E(k^s)$ is a discrete $G{\hbox{-}}$module.
Under the above correspondence, this goes to $\hom({\,\cdot\,}, E)$
since an $L{\hbox{-}}$point of the curve is the same as a
Galois-invariant $k^s{\hbox{-}}$point.

```{=latex}
\end{example}
```
:::

## How to Compute: Čech Cohomology

::: {.warnings}
```{=latex}
\begin{warnings}
```
```{=tex}
\envlist
```
1.  Čech cohomology does not always compute étale cohomology! Note that
    this already happens for bad topological spaces, where Čech doesn't
    always compute sheaf cohomology, and this can be true for schemes as
    well. Ex: ${\mathbb{A}}_2$ with a doubled origin.

2.  Čech cohomology is not actually "computable", since acyclic covers
    do not generally exist.

```{=latex}
\end{warnings}
```
:::

When *does* Čech cohomology compute sheaf cohomology? If you define a
cover of your space, for each object of the cover and each double
intersect, the derived functors vanish.

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Take an algebraic curve, say as an open subset of a Riemann surface.
There are no étale maps to it which have this property: taking any
Zariski open subset (thinking over $k={\mathbb{C}}$) yields lots of
interesting cohomology. So you can never find an acyclic cover.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This is one of the major differences between étale cohomology and
singular cohomology of manifolds, and it makes things much more
difficult. When defining an acyclic cover for manifolds, you usually
look for a cover by contractible objects, which works because manifolds
are locally contractible. Schemes are generally not locally acyclic.
What is true is that schemes are $K(\pi, 1)$, so étale cohomology can be
computed in terms of group cohomology.

```{=latex}
\end{remark}
```
:::

### Defining Čech Cohomology

::: {.definition title="Čech Complex"}
```{=latex}
\begin{definition}[Čech Complex]
```
Suppose $U \mathrel{\vcenter{:}}=\bigcup U_i \to X$ is an étale cover,
and suppose
$\mathcal{F}\in {\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$, then
there is a complex of projections:

```{=tex}
\begin{tikzcd}
X 
  &
U 
  \arrow[l] 
  &
U\times_X U 
  \arrow[l, shift left]
  \arrow[l, shift right] 
  &
U\times_X U \times_X U 
  \arrow[l]
  \arrow[l, shift left=2]
  \arrow[l, shift right=2]
  &
\cdots
  \arrow[l, shift left=0.75]
  \arrow[l, shift right=0.75]
  \arrow[l, shift left=2.25]
  \arrow[l, shift right=2.25]
  &
\end{tikzcd}
```
Here we interpret each term as the $n{\hbox{-}}$fold intersections in
the cover. We can apply $\mathcal{F}$ to this diagram to obtain a
**cosimplicial diagram** of abelian groups. Given such a diagram, you
can take the alternating sum as differentials to obtain a chain complex
`
\begin{align*}  
\check{C}^{\,\cdot\,}(U/X, \mathcal{F}) \mathrel{\vcenter{:}}=\qty{ 0 \to \mathcal{F}(U) \to \mathcal{F}(U\times_X U) \to \cdots}
.\end{align*}`{=tex} This is the **Čech Complex**.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
On usual topological spaces, there are two notions of the Čech complex:
this one, and the **alternating Čech complex** where you throw away
self-intersections. This doesn't work in this setting, since these can
be interesting objects here. E.g. there is not necessarily a section
$U_i \to U_i \times_X U_i$.

```{=latex}
\end{remark}
```
:::

::: {.definition title="Total Čech Complex of the Étale Site"}
```{=latex}
\begin{definition}[Total Čech Complex of the Étale Site]
```
`
\begin{align*}  
\check{C}^{\,\cdot\,}(X_\mathrm{\operatorname{ét}}, \mathcal{F}) \mathrel{\vcenter{:}}=%
  \mathrel{\stackunder[2pt]{\stackon[4pt]{$\varinjlim$}{$\scriptscriptstyle$}}{%
  $\scriptscriptstyle U\to X$}}\check{C}^{\,\cdot\,}(U/X, \mathcal{F})
,\end{align*}`{=tex} where the limit is taken over all covering
families.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Note that taking direct limits is exact, so we can do this in either
order. There are potential set-theoretic issues if $X$ is not
quasicompact; one fix is to only work in the finitely-presented setting,
which is the choice we'll make here.

```{=latex}
\end{remark}
```
:::

::: {.definition title="Čech Cohomology" ref="def:cech_cohomology"}
```{=latex}
\begin{definition}[Čech Cohomology]\label{def:cech_cohomology}
```
`
\begin{align*}  
\check{H}^i(U/X, \mathcal{F}) &\mathrel{\vcenter{:}}= H^i(\check{C}^{\,\cdot\,}(U/X, \mathcal{F})) \\
\check{H}^ik(X_\mathrm{\operatorname{ét}}, \mathcal{F}) &\mathrel{\vcenter{:}}= H^i(\check{C}^{\,\cdot\,}(X_\mathrm{\operatorname{ét}}, \mathcal{F})
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
${\check{H}}^0(U/X) = {\check{H}}^0(X_\mathrm{\operatorname{ét}}, \mathcal{F}) = H^0(X_\mathrm{\operatorname{ét}}, \mathcal{F})$.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
This is the sheaf condition, i.e. which implies the following sequence
is exact: `
\begin{align*}  
\mathcal{F}(X) \to \mathcal{F}(U) \to \mathcal{F}(U\times_X U)
.\end{align*}`{=tex} That gives that the first term is equal to the
last, and the middle term is the direct limit of the kernel of this
sequence and direct limits are exact.

```{=latex}
\end{proof}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
${\check{H}}^{i> 0} (U/X, \mathcal{I}) \cong {\check{H}}^{i> 0}(X_\mathrm{\operatorname{ét}}, \mathcal{I})$
if $\mathcal{I}$ is injective.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
It's enough to show that $\check{C}^{\,\cdot\,}(U/X, \mathcal{I})$ is
exact away from 0. This is the statement of the first equality, and the
second equality is the direct limit of it.

::: {.claim title="1"}
```{=latex}
\begin{claim}[1]
```
There is an alternative characterization of the Čech complex. Let
${\mathbb{Z}}_U \mathrel{\vcenter{:}}={\mathbb{Z}}[\hom_X({\,\cdot\,}, U)]$
be the free abelian group on this functor, i.e. to evaluate this on a
scheme $V$ one takes $\hom_X(V, U)$ and the free abelian group on that.
Then `
\begin{align*}  
\check{C}^{\,\cdot\,}(U/X, \mathcal{I}) = \qty{ \hom({\mathbb{Z}}_U, \mathcal{I}) \to \hom({\mathbb{Z}}_{U\times_X U}, \mathcal{I}) \to \hom({\mathbb{Z}}_{U\times_X U \times_X U}, \mathcal{I}) \to \cdots}
.\end{align*}`{=tex}

```{=latex}
\end{claim}
```
:::

This follows from Yoneda's lemma.

::: {.claim title="2"}
```{=latex}
\begin{claim}[2]
```
It's enough to show that `
\begin{align*}  
{\mathbb{Z}}\to {\mathbb{Z}}_{U} \to {\mathbb{Z}}_{U\times_X U} \to \cdots
\end{align*}`{=tex} is exact.

```{=latex}
\end{claim}
```
:::

This is because $\hom({\,\cdot\,}, \mathcal{I})$ is exact, which is
precisely how we obtain the complex from this in the previous claim.

::: {.claim title="3"}
```{=latex}
\begin{claim}[3]
```
Let $S$ be a set, then `
\begin{align*}  
{\mathbb{Z}}\to {\mathbb{Z}}[S] \to {\mathbb{Z}}[S\times S] \to \cdots
\end{align*}`{=tex} is always exact.

```{=latex}
\end{claim}
```
:::

This follows for the same reason that the Amitsur complex is exact: base
change to ${\mathbb{Z}}^S$, which is a flat
${\mathbb{Z}}{\hbox{-}}$module, and thus we get a nullhomotopy.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check this!

```{=latex}
\end{exercise}
```
:::

```{=latex}
\end{proof}
```
:::

We need one more thing to show that Čech cohomology is isomorphic to the
derived functor cohomology:

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
If for all SESs of sheaves `
\begin{align*}  
0 \to A \to B \to C\to 0 && \in {\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})
\end{align*}`{=tex} we have an exact sequence `
\begin{align*}  
0 \to \check{C}(X_\mathrm{\operatorname{ét}}, A) \to \check{C}(X_\mathrm{\operatorname{ét}}, B) \to \check{C}(X_\mathrm{\operatorname{ét}},C) \to 0 && \in {\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})
\end{align*}`{=tex} then we get a LES in cohomology, then `
\begin{align*}  
{\check{H}}^{i}(X_\mathrm{\operatorname{ét}}, \mathcal{F}) \xrightarrow{\sim} H^i(X_\mathrm{\operatorname{ét}}, \mathcal{F}) && \text{for all }i
.\end{align*}`{=tex}

```{=latex}
\end{theorem}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
This comes from the theory of universal $\delta{\hbox{-}}$functors. A
derived functor is determined uniquely by $H^0$, what they do on
injectives, and the fact that the LES from a SES is functorial. The
problem is that the second sequence above is always left-exact but not
in general right-exact. We'll see a proof next time using spectral
sequences.

```{=latex}
\end{proof}
```
:::

::: {.theorem title="Milne, III"}
```{=latex}
\begin{theorem}[Milne, III]
```
This is true if $X$ is quasicompact and any finite subset of $X$ is
contained in an affine.

```{=latex}
\end{theorem}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
How can you check this condition? This holds if $X$ is quasiprojective.

```{=latex}
\end{remark}
```
:::

# Lecture 08: Computing Étale Cohomology

Recall the definition of $\check{C}(U/X, \mathcal{F})$ and
$\check{C}(X_\mathrm{\operatorname{ét}}, \mathcal{F})$
(`\cref{def:cech_cohomology}`{=tex}).

::: {.warnings}
```{=latex}
\begin{warnings}
```
${\check{H}}{X_\mathrm{\operatorname{ét}}, \mathcal{F}} \not\cong H(X_\mathrm{\operatorname{ét}}, \mathcal{F})$
in general, but by a theorem of Milne this is true if $X$ is
quasicompact and any finite subset is contained in an affine open. This
is true if $X$ is quasiprojective.

```{=latex}
\end{warnings}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
There is a version for which this does always work where Čech covers are
replaced with **hpyercovers**.

```{=latex}
\end{remark}
```
:::

## Čech to Derived Spectral Sequence

Since we have enough injectives, take an injective resolution
$\mathcal{F}\to \mathcal{I}^0 \to \cdots$ which is exact and each
$\mathcal{I}^j$ is injective. We can apply the Čech complex functor to
obtain a double complex `
\begin{align*}
{\check{C}}^{\,\cdot\,}(U/X, \mathcal{I}^0) \to {\check{C}}^{\,\cdot\,}(U/X, \mathcal{I}^1) \to \cdots
,\end{align*}`{=tex} where the horizontal differentials come from the
resolution and the vertical come from the Čech complex. To any double
complex, one can associate two spectral sequences. First consider taking
horizontal cohomology:

```{=tex}
\begin{tikzcd}
\vdots 
  & \vdots 
  & \udots 
  \\
{\check{C}}(U/X, \mathcal{I}^1) 
  = \mathcal{I}^0(U\times_X U) 
    \ar[r]\ar[u]
  & \mathcal{I}^1(U\times_X U)
    \ar[r]\ar[u]
  & \cdots 
  \\
{\check{C}}(U/X, \mathcal{I}^0) 
  = \mathcal{I}^0(U)
    \ar[r]\ar[u]
  & \mathcal{I}^1(U)
    \ar[r]\ar[u]
  & \cdots
\end{tikzcd}
```
Taking the vertical cohomology yields `
\begin{align*}  
E_2^{i, j} = {\check{H}}^i(U, \mathcal{H}^j(\mathcal{F}))
,\end{align*}`{=tex} where $\mathcal{H}^j$ is the presheaf
$V\mapsto H_\mathrm{\operatorname{ét}}^j(V, \mathcal{F})$.

Now we take cohomology in the other order: taking the vertical
cohomology collapses to the bottom row, which are global sections, and
so

`
\begin{align*}  
E_2^{i, j} = H^i(\Gamma(X, \mathcal{I}))  E_{\infty}
,\end{align*}`{=tex} which is the derived functor cohomology. The
spectral sequence thus converges in the following way: `
\begin{align*}  
{\check{H}}^i(U, \mathcal{H}^j(\mathcal{F})) \Rightarrow H^{i+j}(X_\mathrm{\operatorname{ét}}, \mathcal{F})
.\end{align*}`{=tex}

::: {.exercise title="Good for getting used to spectral sequences"}
```{=latex}
\begin{exercise}[Good for getting used to spectral sequences]
```
Show that if ${\check{C}}(X_\mathrm{\operatorname{ét}}, {\,\cdot\,})$ is
exact on
${\operatorname{Sh}}^{{\operatorname{ab}}}(X_\mathrm{\operatorname{ét}})$,
then ${\check{H}}^{\,\cdot\,}\cong H^{\,\cdot\,}$. See Tohoku or
Hartshorne, and prove this using the Čech to derived functor spectral
sequence.

```{=latex}
\end{exercise}
```
:::

## Mayer-Vietoris

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $U = U_0 \cup U_1$ with each $U_i$ a Zariski open subset. Then there
exists a functorial LES `
\begin{align*}  
\cdots \to
H^s(U, \mathcal{F}) \xrightarrow{\operatorname{Res}} 
H^s(U_0, \mathcal{F}) \oplus H^s(U_1, \mathcal{F}) \xrightarrow{\operatorname{Res}} 
H^s(U_0 \cap U_1, \mathcal{F}) \xrightarrow{\delta}
H^{s+1}(U, \mathcal{F}) \to 
\cdots
.\end{align*}`{=tex}

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
Apply the Čech to derived spectral sequence to the cover
$\mathcal{U} \mathrel{\vcenter{:}}= U_0 {\coprod}U_1 \to U$. This says
take `
\begin{align*}  
\mathcal{F}(\mathcal{U}) \to 
\mathcal{F}((\mathcal{U})^{\times_U 2} ) \to
\mathcal{F}((\mathcal{U})^{\times_U 3} ) \to
\cdots
.\end{align*}`{=tex} None of these objects are empty, which doesn't
happen with the usual Čech complex of an open cover, where the
alternating complex is taken which doesn't see all of these.

::: {.claim}
```{=latex}
\begin{claim}
```
This complex is quasi-isomorphic to the 2-term complex `
\begin{align*}  
\mathcal{F}(U_0 {\coprod}U_1) = \mathcal{F}(U_0) \times\mathcal{F}(U_1) \to
\mathcal{F}(U_0 \cap U_1)
.\end{align*}`{=tex}

```{=latex}
\end{claim}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Prove this. This uses the fact that we have a Zariski cover instead of a
general étale cover, since it's not true in general: a counterexample is
${\mathbb{G}}_m \to {\mathbb{G}}_m$ where $x\mapsto x^2$. The double
intersection won't make sense, since it won't be connected and there's
not a distinguished component.

```{=latex}
\end{exercise}
```
:::

Given this, $E_2$ vanishes outside of 2 columns, and considering
computing $H^1$ we have the following situation:

```{=tex}
\begin{sseqdata}[ name = "2col", xscale=0.6, homological Serre grading, y range = {0}{2}, differentials = blue]
\class(0, 0)
\class(0, 1)
\class(0, 2)
\class(0, 3)
\class(1, 0)
\class(2, 0)
\class(2, 1)
\class(2, 2)
\class(2, 3)
\structline(0,0)(0, 3)
\structline(2,0)(2, 3)
\d2(2, 0)
\d2(2, 1)
\d2(2, 2)
\classoptions[red](1,0,1)
\classoptions[red](0,1,1)
\end{sseqdata}
\begin{center}
\printpage[ name = "2col", page = 2]
\end{center}
```
This is a general phenomenon: a spectral sequence collapsing onto two
columns is the same data as a long exact sequence.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check this.

```{=latex}
\end{exercise}
```
:::

```{=latex}
\end{proof}
```
:::

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
Suppose $X$ is a scheme and $\mathcal{F}\in {\mathrm{QCoh}}(X)$ (for
example, $\mathcal{F} \mathrel{\vcenter{:}}={\mathcal{O}}_X$). Then
there is a canonical isomorphism `
\begin{align*}  
H^i(X, \mathcal{F}) \xrightarrow{\sim} H^i(X_\mathrm{\operatorname{ét}}, \mathcal{F}^{\mathrm{\operatorname{ét}}}) \xrightarrow{\sim} H^i(X_{\mathrm{\operatorname{fppf}}}, \mathcal{F}^{\mathrm{\operatorname{fppf}}})
,\end{align*}`{=tex} The first term is the usual Zariski cohomology of a
quasicoherent sheaf, the second is the étale cohomology where
$\mathcal{F}^{\mathrm{\operatorname{ét}}}$ is the associated sheaf on
the étale site given by pulling back to an étale morphism, and the third
is the same on fppf site, since the categories ${\mathrm{QCoh}}$ are
canonically isomorphic.

```{=latex}
\end{theorem}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
The derived functor cohomology `
\begin{align*}
H^i({\operatorname{Sh}}(X_{{\mathrm{zar}}}), \mathcal{F}) \mathrel{\vcenter{:}}=\operatorname{Ext}^i_{{\operatorname{Sh}}(X_{\mathrm{zar}})}(\underline{{\mathbb{Z}}}, \mathcal{F})
\end{align*}`{=tex} since it only depends on the category of sheaves.
This is because we're taking the derived functors of $\Gamma$, which is
the same as
${\operatorname{Hom}}(\underline{{\mathbb{Z}}}, {\,\cdot\,})$. This is
equal to `
\begin{align*}
H^i({\mathrm{QCoh}}(X), \mathcal{F}) \mathrel{\vcenter{:}}=\operatorname{Ext}^i_{{\mathrm{QCoh}}(X)}({\mathcal{O}}_X, \mathcal{F})
\end{align*}`{=tex} for the same reason, since it's true for any sheaf
of ${\mathcal{O}}_X$ modules. This isomorphism is not just formal, since
${\mathrm{QCoh}}$ is much smaller than ${\operatorname{Sh}}$. The reason
is that injective quasicoherent sheaves are flasque (?), so it also
computes derived functor cohomology. In general, it's much harder to be
an injective object in the ${\operatorname{Sh}}$ than it is in
${\mathrm{QCoh}}$, since it has to satisfy a lifting property with
respect to more maps.

The main takeaway: we already showed
${\mathrm{QCoh}}(X_\mathrm{\operatorname{ét}}) \cong {\mathrm{QCoh}}(X_{\mathrm{zar}})$,
but now we have this isomorphism in a much larger category.

```{=latex}
\end{remark}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
We'll prove this in a special case: if $X$ is quasicompact and
separated, Čech cohomology computes derived functor cohomology.

::: {.claim title="1"}
```{=latex}
\begin{claim}[1]
```
Every cover can be refined to a *finite* cover by affines, using
quasicompactness.

```{=latex}
\end{claim}
```
:::

::: {.claim title="2"}
```{=latex}
\begin{claim}[2]
```
Supposing $X$ is affine and $U\to X$ is an fppf affine cover, then
${\check{C}}{U/X, \mathcal{F}}$ is exact if $\mathcal{F} = \widehat{M}$
is the quasicoherent sheaf associated to some module $M$.

```{=latex}
\end{claim}
```
:::

::: {.proof title="of claim 2"}
```{=latex}
\begin{proof}[of claim 2]
```
Let $U=\operatorname{Spec}B, X = \operatorname{Spec}A$, and
$M\in {{A}{\hbox{-}}\operatorname{mod}}$.

Then we get the complex `
\begin{align*}  
M\to
M\otimes_A B \to 
M\otimes_A B^{\otimes_A 2} \to 
M\otimes_A B^{\otimes_A 4} \to 
\cdots
,\end{align*}`{=tex} which is the *Amitsur complex*. We showed that $M$
was the kernel of the first map, and we argued that since $B$ was an
fppf $A{\hbox{-}}$algebra, we can check this after tensoring with $B$,
in which case we had a section which yielded a nullhomotopy. This
complex is exact as in the argument used in the proof of descent.

```{=latex}
\end{proof}
```
:::

By this claim, we know that `
\begin{align*}  
{\check{H}}^{i}(U/X, \mathcal{F}) = 
\begin{cases}
\mathcal{F}(X) & i = 0 \\
0              & i>0.
\end{cases}
\end{align*}`{=tex} for $\mathcal{F}$ quasicoherent and $U, X$ affine.

::: {.claim title="3"}
```{=latex}
\begin{claim}[3]
```
When $\mathcal{F}$ is quasicoherent and $X$ affine, `
\begin{align*}  
{\check{H}}^i(X_\mathrm{\operatorname{ét}}, \mathcal{F}) = 
\begin{cases}
\mathcal{F}(X) & i = 0 \\
0              & i>0
\end{cases}
.\end{align*}`{=tex}

```{=latex}
\end{claim}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
Affine covers are cofinal in the diagram of covers. We're taking a
direct limit and every time we have something nonzero, we kill it by
refining the cover.

```{=latex}
\end{proof}
```
:::

We'll now prove this when $X$ is separated and quasicompact. Take an
affine cover $\mathcal{U}\to X$, e.g. the Zariski open cover, and use
the Čech-to-derived spectral sequence. Separatedness is used since we'll
see things like 5-fold intersections, and we need to know that the
cohomology of this is zero, which will be true by the previous result.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check this.

```{=latex}
\end{exercise}
```
:::

```{=latex}
\end{proof}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This holds in more generality, but we won't need schemes that don't
satisfy this property in this course.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $X = {\mathbb{P}}^n$ and $\mathcal{F} = {\mathcal{O}}_X$, then `
\begin{align*}  
H^i({\mathbb{P}}^n_\mathrm{\operatorname{ét}}, {\mathcal{O}}_X^{\mathrm{\operatorname{ét}}}) = 
\begin{cases}
k & i= 0 \\
0 & i>0
\end{cases}
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $X/{\mathbb{F}}_p$ be a quasiprojective variety. What is the
following cohomology? `
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, \underline{{\mathbb{F}}_p})  = ?
.\end{align*}`{=tex}

In general, the strategy will be to use long exact sequences stemming
from spaces where the cohomology is known. We only know how to compute
with quasicoherent sheaves, so we need to put
$\underline{{\mathbb{F}}_p}$ in a SES. We can use the Frobenius: let
${\mathbb{G}}_a = \hom({\,\cdot\,}, {\mathbb{A}}^1)$, so
${\mathbb{G}}_a(U) = {\mathcal{O}}_U(U)$. Then ${\mathbb{F}}_p$ are the
fixed points of Frobenius, so we get a SES of schemes by carving out
these points `
\begin{align*}  
0 \to
\underline{{\mathbb{F}}_p} \to
{\mathbb{G}}_a \xrightarrow{x^p - x}
{\mathbb{G}}_a \to 
0
.\end{align*}`{=tex} This can be thought of as the sheaf
${\mathcal{O}}\to {\mathcal{O}}, f \mapsto f^p -f$, but you can also
think of it in terms of representing objects ${\mathbb{A}}^1$.

::: {.claim}
```{=latex}
\begin{claim}
```
This sequence is exact.

```{=latex}
\end{claim}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
This is the *Artin-Schreier* exact sequence. This is true at the level
of representing objects, or it can be checked by hand by showing that
$f^p - f = 0 \implies f$ is constant.

For surjectivity, given $f\in {\mathcal{O}}_U(U) = {\mathbb{G}}_a(U)$,
we need to solve $x^p - x = f$ étale-locally on $U$. This naturally has
a solution after base-changing:
```{=tex}
\begin{tikzcd}
{\mathbb{G}}_a \times_{{\mathbb{G}}_a} U 
  \ar[r]\ar[d, "\exists g"] &
{\mathbb{G}}_a
  \ar[d]
\\
U 
  \ar[r, "f"] &
{\mathbb{G}}_a
\\
\end{tikzcd}
```
The claim is that $g$ is an étale cover. This follows because $x^p-x$ is
an étale cover, since the derivative is invertible, and thus $g$ is a
base change of an étale cover.

```{=latex}
\end{proof}
```
:::

We then get a LES
```{=tex}
\begin{tikzcd}
0 
  \ar[r] \ar[d, equal]
& H^0(X_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p)
  \ar[r] \ar[d, equal]
& H^0(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_a)
  \ar[r, "x^p-x"]\ar[d, equal]
& H^0(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_a)
    \ar[d, equal]\ar[r, "\delta"]
& H^1(X_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p)
  \ar[r]\ar[d, equal]
& \cdots
\\
0 
  \ar[r] 
& H^0(X_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p)
  \ar[r] 
& H^0(X_\mathrm{\operatorname{ét}}, {\mathcal{O}}_X)
  \ar[r, "x^p-x"]
& H^0(X_\mathrm{\operatorname{ét}}, {\mathcal{O}}_X)
  \ar[r, "\delta"]
& H^1(X_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p)
  \ar[r]
& \cdots
\end{tikzcd}
```
For $X = {\mathbb{A}}^1 = \operatorname{Spec}{\mathbb{F}}_p[t]$, we get

```{=tex}
\begin{tikzcd}
0 
  \ar[r] \ar[d, equal]
& H^0({\mathbb{A}}^1_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p)
  \ar[r] \ar[d, equal]
& {\mathbb{F}}_p[t] 
  \ar[r, "t^p-t"]\ar[d, equal]
& {\mathbb{F}}_p[t] 
    \ar[d, equal]\ar[r, "\delta"]
& H^1({\mathbb{A}}^1_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p)
  \ar[r]\ar[d, equal]
& 0
  \ar[d, equal]
\\
0
  \ar[r]
& {\mathbb{F}}_p
  \ar[r]
& {\mathbb{F}}_p[t]
  \ar[r]
& {\mathbb{F}}_p[t]
  \ar[r]
& \operatorname{coker}(t^p - t) 
  \ar[r]
& 0
\end{tikzcd}
```
In general, this cokernel is very large. This is why étale cohomology
with ${\mathbb{F}}_p$ coefficients is not particularly well-behaved,
although taking a projective variety would yield finite dimensional
objects here, but not of the expected dimensions.

```{=latex}
\end{example}
```
:::

# Lecture 09

Last time:

-   The Čech-to-derived spectral sequence,
-   The Mayer Vietoris LES,
    -   Computes the étale cohomology of a scheme using a Zariski open
        cover.
-   Étale cohomology of quasicoherent sheaves,
    -   Agrees with Zariski cohomology, first legitimate computation!
    -   Use this to compute:
-   Étale cohomology of $\underline{{\mathbb{F}}_p}$ in characteristic
    $p$.

Last time we had a scheme $X_{/{\mathbb{F}}_p}$ and the *Artin-Schreier*
exact sequence of sheaves of $X_\mathrm{\operatorname{ét}}$: `
\begin{align*}  
0\to \underline{{\mathbb{F}}_p} \to {\mathcal{O}}_X^\mathrm{\operatorname{ét}}\xrightarrow{t\mapsto t^p - t} {\mathcal{O}}_X^\mathrm{\operatorname{ét}}\to 0
.\end{align*}`{=tex} The map appearing here is referred to as the
*Artin-Schreier* map $f$ This works over arbitrary fields of
characteristic $p$, with a modified definition replacing $t^p$.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that this is an additive homomorphism of abelian sheaves. This
follows from the fact that Frobenius itself is.

```{=latex}
\end{exercise}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
From here onward, $H^i$ will denote $H^i_\mathrm{\operatorname{ét}}$.

```{=latex}
\end{remark}
```
:::

Recall that we had a theorem last time showing that the étale cohomology
of quasicoherent sheaves is equivalent to the usual Zariski cohomology.
From this we got a long exact sequence:

```{=tex}
\begin{tikzcd}
  H^i(X_\mathrm{\operatorname{ét}}, \underline{{\mathbb{F}}_p})
    \ar[r]
& H^i(X, {\mathcal{O}}_X)
    \ar[r, "f"]
& H^i(X, {\mathcal{O}}_X)
\\
& \cdots
    \ar[r]
& H^{i-1}(X, {\mathcal{O}}_X) 
    \ar[ull, "\delta"]
\end{tikzcd}
```
We don't know how to compute
$H^i(X_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p)$ generally, but the
affine case is easy. For $X$ affine, $H^{>0}(X, {\mathcal{O}}_X) = 0$,
which in facts holds for any quasicoherent sheave replacing
${\mathcal{O}}_X$, and
$H^0(X, {\mathbb{F}}_p) = \qty{{\mathbb{F}}_p}^{{\left\lvert {\pi_0 X} \right\rvert} }$
where the exponent is the number of connected components of $X$. So we
get an exact sequence

```{=tex}
\begin{tikzcd}
H^{1}(X, {\mathcal{O}}_X) 
    \ar[r]
& 0
& 
\\
  H^0(X, {\mathbb{F}}_p) = \qty{{\mathbb{F}}_p}^{{\left\lvert {\pi_0 X} \right\rvert} } 
    \ar[r]
& {\mathcal{O}}_X(X) 
    \ar[r, "f"']
& {\mathcal{O}}_X(X) 
    \ar[ull]
\\
&
& 0
    \ar[ull]
\end{tikzcd}
```
::: {.remark}
```{=latex}
\begin{remark}
```
$H^1(X, {\mathcal{O}}_X)$ is not finitely generated in general,
e.g. take $X \mathrel{\vcenter{:}}={\mathbb{A}}^1$, then
$\operatorname{coker}(t\mapsto t^p - t)$ as a map $k[t] \to k[t]$ is
generally finite dimensional as a $k{\hbox{-}}$vector space. So in
characteristic $p$, cohomology with ${\mathbb{F}}_p$ coefficients is
ill-behaved: a nice cohomology theory would assign to every scheme a
complex of finite dimensional vector spaces.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
An aside: ${\mathbb{G}}_a$ is the representing object for
${\mathcal{O}}_X^\mathrm{\operatorname{ét}}$.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
If $X$ is proper, $H^i(X_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p)$ is
finite dimensional. Why? It follows from the exact sequence: by proper
pushforward for coherent cohomology, the terms we're interested in are
sandwiched between finite dimensional objects.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
However, these groups still won't have the expected dimension. For
$X \mathrel{\vcenter{:}}= E_{/k}$ where
$k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu, \operatorname{ch}(k) = p$,
we have `
\begin{align*}  
H^1(E, {\mathbb{F}}_p) = 
\begin{cases}
{\mathbb{F}}_p & \text{if $E$ is ordinary} \\
0 & \text{if $E$ is supersingular}.
\end{cases}
\end{align*}`{=tex} This follows from the LES, since supersingularity is
in terms of how Frobenius acts on the groups appearing. This is not what
you'd expect: $E$ is a torus, so you'd expect $\dim H^1 = 2$.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
So this cohomology don't form a "good" cohomology theory in the sense
that they won't prove the Weil conjectures or behave like the usual
cohomology in characteristic zero, but can still be interesting and
useful. This data is closely related to e.g. crystalline cohomology.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
We'll try to compute
$H(\qty{\operatorname{Spec}k}_\mathrm{\operatorname{ét}}, \mathcal{F})$,
the cohomology of the étale site of a field, using Čech cohomology. We
had an equivalence of categories `
\begin{align*}  
{\operatorname{Sh}}^{\operatorname{Ab}}(\operatorname{Spec}k)_\mathrm{\operatorname{ét}}\mathop{\mathrm{\rightleftharpoons}}^{\iota}_{\pi} \left\{{\text{Discrete $G{\hbox{-}}$modules}}\right\}
,\end{align*}`{=tex} where
$G = \operatorname{Gal}(\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu / k)$
is the absolute Galois group of $k$. What were the functors? Given a
sheaf, you want to evaluate it on $k^s$ (the separable closure), but
this doesn't make sense since it's not an object on the étale site due
to not being finitely presented. So you choose a separable closure, look
at all intermediate extensions, and take the direct limit of evaluating
the sheaf on those extensions. Going the other way, you can say what the
value of a discrete $G{\hbox{-}}$module is on a finite extension $L/k$
by taking its Galois fixed points: the fixed points of
$\operatorname{Gal}(\mkern 1.5mu\overline{\mkern-1.5muL\mkern-1.5mu}\mkern 1.5mu/L)$.

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
`
\begin{align*}  
H^i\qty{\qty{ \operatorname{Spec}k}_\mathrm{\operatorname{ét}}, \mathcal{F}} \xrightarrow{\sim}H^i(G, \iota \mathcal{F})
.\end{align*}`{=tex}

```{=latex}
\end{corollary}
```
:::

Recall that this is because derived functor cohomology only depends on
the equivalence class of the ambient category. Comparing this to Čech
cohomology, suppose we have a cover
$U \mathrel{\vcenter{:}}=\operatorname{Spec}K$ where $L_{/k}$ is a
separable field extension. Take the Čech complex `
\begin{align*}  
{\check{C}}(U_{/\operatorname{Spec}k}, \mathcal{F}) \mathrel{\vcenter{:}}=\qty{\mathcal{F}(U) \to \mathcal{F}(U\times U) \to \cdots}
.\end{align*}`{=tex} Assume $L_{/k}$ is Galois with Galois group
$G(L_{/k})$. We can rewrite this complex by identifying
$U\times U = G(L_{/k}) \times\operatorname{Spec}L$, yielding `
\begin{align*}  
{\check{C}}(U/\operatorname{Spec}k, \mathcal{F}) \mathrel{\vcenter{:}}=\qty{\mathcal{F}(U) \to \mathcal{F}(G(L_{/k}) \times U) \to \mathcal{F}\qty{G(L_{/k})^2 \times U}
\to \cdots
\cdots}
.\end{align*}`{=tex}

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Show that this complex is the standard complex computing Galois
cohomology $H^i( G(L_{/k}), \mathcal{F}(U) )$. The terms are the same,
so just identify the differentials. One can also take this as the
definition of Galois cohomology.

```{=latex}
\end{exercise}
```
:::

As a corollary, this complex is quasi-isomorphic to the usual complex
computing Galois cohomology, since that complex is the direct limit
${\check{C}}(U_{\operatorname{Spec}k}, \mathcal{F})$.

```{=latex}
\end{example}
```
:::

::: {.question}
```{=latex}
\begin{question}
```
When can étale cohomology can be computed as some kind of group
cohomology.

```{=latex}
\end{question}
```
:::

::: {.answer}
```{=latex}
\begin{answer}
```
This is true when $X = K(\pi, 1)$: it's connected and all of its
homotopy groups vanish above degree 1, i.e. it's a classifying space for
a discrete group. E.g. $S^1 = K({\mathbb{Z}}, 1)$, or a compact
orientable surface $\Sigma_g$ of genus $g\geq 1$ has a contractible
universal cover, and thus $\Sigma_g = K(\pi_1 \Sigma_g, 1)$. In these
cases, singular cohomology is the group cohomology of $\pi_1$. For $G$ a
finite group, $BG$ will be an example, although e.g. this will not be
true for $\operatorname{GL}_n$. Another example will be affine
curves.[^21]

```{=latex}
\end{answer}
```
:::

Goal for the next few classes: compute the étale cohomology of smooth
(not necessarily projective) curves over
$k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$,
i.e. $H^i(C_\mathrm{\operatorname{ét}}, \mathbb{Z}/\ell^n\mathbb{Z})$
where $\ell \neq \operatorname{ch}(k)$. We've seen what this is when
$\ell = k$, and the answer will resemble the singular cohomology of a
Riemann surface in terms of dimensions. This will be hard for $i>2$, but
we'll try to get to $i=0, 1$. We can compute $i=0$, since we're just
asking for global sections to a sheaf: `
\begin{align*}  
H^i (C_\mathrm{\operatorname{ét}}, \underline{\mathbb{Z}/\ell^n\mathbb{Z}}) = \mathbb{Z}/\ell^n\mathbb{Z}
,\end{align*}`{=tex} since the definition of this sheaf was maps into
$\mathbb{Z}/\ell^n\mathbb{Z}$, which is disconnected and so any map in
is constant. For $i=1$, we'll use an interpretation in terms of torsors,
which are supposed to generalize principle homogeneous spaces. Typical
example: given a space $X$, a Galois covering space will be a torsor for
the Galois group: $G$ acts on $X$ and simply transitively on every
fiber.

::: {.definition title="$G\\dash$Torsors"}
```{=latex}
\begin{definition}[$G\dash$Torsors]
```
```{=tex}
\envlist
```
-   Idea: for
    $G\in{\operatorname{Sh}}^{{\operatorname{Grp}}}(X_\mathrm{\operatorname{ét}})$
    a sheaf of (not necessarily abelian) groups, a
    **$G{\hbox{-}}$torsor** is a sheaf
    $\mathcal{F}\in {\operatorname{Sh}}^{\operatorname{Set}}(X_\mathrm{\operatorname{ét}})$
    with a $G{\hbox{-}}$action such that $G$ acts on fibers simply and
    transitively.

-   Actual definition: a **torsor** is a sheaf
    $T\in {\operatorname{Sh}}^{\operatorname{Set}}(X)$ with an action
    $G\times T \xrightarrow{a} T$ (so $G(U)$ acts on $T(U)$ for every
    $U\in X_\mathrm{\operatorname{ét}}$) such that the following map is
    an isomorphism: `
    \begin{align*}  
    G\times T \xrightarrow{(a, \pi_2)} T\times T
    ,\end{align*}`{=tex} given by crossing the action with the
    projection.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This says that $T\times T \xrightarrow{\sim}G\times T$, and pulling back
to $T$ yields a "trivial torsor", where e.g. $G$ itself is a
$G{\hbox{-}}$torsor: a sheaf of sets with an action by a sheaf of
groups, such taking $G\times_G G$ the action becomes
$G\curvearrowright G$. This is similar to base-changing to cover to
check something, as in the proof of fppf descent, and here we
base-change to trivialize a torsor.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Suppose $G$ is a finite group and
$\underline{G} \in {\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$ is
the constant sheaf regarding $G$ as a scheme. Then e.g. a
$G{\hbox{-}}$torsor is a finite étale cover with Galois group $G$. If
$X$ is a smooth curve, this is a Galois extension of the function field
which is everywhere unramified.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
${\mathbb{G}}_m \mathrel{\vcenter{:}}=(U\mapsto {\mathcal{O}}_U(U^{\times}))$
sending $U$ to the invertible functions of $U$. Then
${\mathbb{G}}_m = \hom({\,\cdot\,}, \operatorname{Spec}k[t, t^{-1}])$ is
representable. E.g. a line bundle with the zero section deleted is a
${\mathbb{G}}_m{\hbox{-}}$torsor: `
\begin{align*}  
\mathcal{L} \leadsto \operatorname{Spec}_X \bigoplus_{n\in {\mathbb{Z}}} \mathcal{L}^{\otimes_{{\mathcal{O}}_X} n}
,\end{align*}`{=tex} where we take the relative spec. Looking at fibers
over a point in $X$, you get $k[t, t^{-1}]$, so these look like
${\mathbb{G}}_m$. How does ${\mathbb{G}}_m$ act on this?
$t\curvearrowright\mathcal{L}^{\otimes n}$ by $t^n$. So the functor this
represents is a ${\mathbb{G}}_m{\hbox{-}}$torsor. We'll see later that
there's a natural bijection between ${\mathbb{G}}_m{\hbox{-}}$torsors
and line bundles, which becomes an equivalence of categories if you only
allow isomorphisms of line bundles.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
For $G \mathrel{\vcenter{:}}=\underline{\operatorname{GL}}_n$, the claim
is that $G{\hbox{-}}$torsors are in natural bijection with vector
bundles of rank $n$. Note that they are locally trivial, which is not
obvious. To get this, take
$\mathcal{E}\leadsto \mathrm{Fr}(\mathcal{E})$, the frame bundle over
$\mathcal{E}$. This can be realized as the sheaf
$\mathcal{E}\leadsto \mathrm{Isom}_{X_\mathrm{\operatorname{ét}}}({\mathcal{O}}^{\oplus n}, \mathcal{E})$,
i.e. its value on a cover $U$ is the set of isomorphisms over $U$ of the
trivial vector bundle $\mathcal{E}$. So this gives a functor from vector
bundles and isomorphisms to $\operatorname{GL}_n{\hbox{-}}$torsors,
noting that an isomorphism between ${\mathcal{O}}^{\oplus n}$ and
$\mathcal{E}$ is like a basis of every fiber and thus a basis for
$\mathcal{E}$. The reverse functor is `
\begin{align*}  
T \leadsto \qty{T\times{\mathcal{O}}_X^{\oplus n}} / \underline{\operatorname{GL}}_n
,\end{align*}`{=tex} using the diagonal action where we identify
$\underline{\operatorname{GL}}_n \mathrel{\vcenter{:}}=\underline{{\operatorname{Aut}}}({\mathcal{O}}_X^{\oplus n})$
and the quotient is in ${\operatorname{Sh}}^\mathrm{\operatorname{ét}}$.
This quotient kills $T$, so each fiber is isomorphic to the fiber of
${\mathcal{O}}_X^{\oplus n}$, where this is like $\operatorname{GL}_n$
acting simply transitively on $T$, but this twist
${\mathcal{O}}_X^{\oplus n}$ in a way corresponding to how $\mathcal{E}$
is twisted.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that this is vector bundle. This uses that $\operatorname{GL}_n$
is smooth.

```{=latex}
\end{exercise}
```
:::

```{=latex}
\end{example}
```
:::

::: {.definition title="?"}
```{=latex}
\begin{definition}[?]
```
A $G{\hbox{-}}$torsor $T$ is **split** by a cover $U\to X$ iff
${ \left.{{T}} \right|_{{U_\mathrm{\operatorname{ét}}}} } \cong { \left.{{G}} \right|_{{U_\mathrm{\operatorname{ét}}}} }$
as a torsor. If $T$ is split by some cover, we say $T$ is **locally
trivial**.

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Suppose $T$ is representable, so $T\to X$. Then for the étale or fppf
sites, then $T$ is split by itself, using the fact that base changing
$T$ to itself yields the trivial torsor.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Suppose $G$ is a finite étale group scheme over $X$, and $T$ is a
locally trivial $G{\hbox{-}}$torsor split by some $U$.

::: {.claim}
```{=latex}
\begin{claim}
```
`\envlist
1`{=tex}. $T$ is representable

2.  $T$ is split by $T$

```{=latex}
\end{claim}
```
:::

::: {.proof title="$1\\implies 2$"}
```{=latex}
\begin{proof}[$1\implies 2$]
```
$T\times T$ is trivial, so we need to verify that
$T \rightrightarrows X$. Base changing to $T\times_X U \to U$ is a cover
since it's finite étale, since it's isomorphic to $G\times U$ by the
definition of local triviality.

```{=latex}
\end{proof}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that base-changing along a cover yields a cover, following from
the axioms of a site.

```{=latex}
\end{exercise}
```
:::

::: {.proof title="of 1"}
```{=latex}
\begin{proof}[of 1]
```
Observe that ${ \left.{{T}} \right|_{{U_\mathrm{\operatorname{ét}}}} }$
is representable, since it's isomorphic to
${ \left.{{G}} \right|_{{U_\mathrm{\operatorname{ét}}}} }$ as a scheme
and $G$ was a finite étale group scheme. How to we go from
representability on $U$ to $X$? We can use that descent is effective.
Note that descent is *not* generally effective for schemes, but it is
for affine (over $X$) schemes. We use that étale $\implies$ open and
finite $\implies$ proper $\implies$ closed, yielding surjectivity of
$T\times_X U \to U$. We proved effectiveness for quasicoherent sheaves,
and an affine $X{\hbox{-}}$scheme is spec of a quasicoherent sheaf of
algebras, so we descend that quasicoherent sheaf of algebras.

```{=latex}
\end{proof}
```
:::

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Given a torsor for a finite group scheme, it's represented by a
$G{\hbox{-}}$cover which is not just a sheaf but rather an honest
covering space.

```{=latex}
\end{remark}
```
:::

::: {.proposition title="Interpretation of $H^1$"}
```{=latex}
\begin{proposition}[Interpretation of $H^1$]
```
There is a bijection `
\begin{align*}  
\left\{{\substack{G{\hbox{-}}\text{torsors split by} \\ U\to X}}\right\} / \sim
&\rightleftharpoons
{\check{H}}^1(U_{/X}, G)
,\end{align*}`{=tex} which makes sense for
$G\in {\operatorname{Sh}}^{\operatorname{Grp}}(X_\mathrm{\operatorname{ét}})$[^22]
and any covering family. I.e. looking at the formula for the
differential in Čech cohomology, if you only go up to degree 1 you don't
need to make any choices.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
${ \left.{{T}} \right|_{{U_\mathrm{\operatorname{ét}}}} } \xrightarrow{\phi} { \left.{{G}} \right|_{{U_\mathrm{\operatorname{ét}}}} }$
is an isomorphism of torsors, so considering the two projections
```{=tex}
\begin{tikzcd}
U\times_X U
 \ar[d, shift right=0.75ex, "\pi_1"'] 
 \ar[d, shift left=0.75ex, "\pi_2"]
\\
U
  \ar[d]
\\
X 
\end{tikzcd}
```
we get an isomorphism $\pi_1*T \xrightarrow{\sim}\pi_2^* T$ coming from
the fact that we're pulling back along $U\to X$. Using the isomorphism
above, we can view this as
```{=tex}
\begin{tikzcd}
  \pi_1^*T 
    \ar[r, "\sim"]
    \ar[d, "\pi_1^* \phi"']
& \pi_2^*T
    \ar[d, "\pi_2^* \phi"]
\\
  \pi_1^* G 
    \ar[r, "{g, \sim}"]
& \pi_2^* G 
\end{tikzcd}
```
I.e., we can view the descent data pulled back from $X$ as trivial
torsors. Moreover,
$g\in \Gamma(U\times_X U, G) \mathrel{\vcenter{:}}={\check{C}}^1(U_{/X}, G)$.

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that an automorphism of a trivial $G{\hbox{-}}$torsor is
equivalent to an element of $G$. Think about the case of a
$G{\hbox{-}}$torsor for a point.

```{=latex}
\end{exercise}
```
:::

::: {.claim}
```{=latex}
\begin{claim}
```
The cocycle condition implies that $g$ is in the kernel of the Čech
differential.

```{=latex}
\end{claim}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check that if $T_1 \cong T_2$ as torsors, the corresponding cocycles
differ by a coboundary.

```{=latex}
\end{exercise}
```
:::

```{=latex}
\end{proof}
```
:::

::: {.proposition title="Identification of $H^1$"}
```{=latex}
\begin{proposition}[Identification of $H^1$]
```
For any site $\tau$ and any sheaf $\mathcal{F}$, we have correspondences
`
\begin{align*}
{\check{H}}^1(\tau, \mathcal{F})
&\rightleftharpoons
\left\{{\substack{\text{Locally trivial } \mathcal{F}{\hbox{-}}\text{torsors}}}\right\} \\
&\xrightarrow{\sim}H^1(\tau, \mathcal{F}) && \text{if $\mathcal{F}$ is abelian}
,\end{align*}`{=tex} where the last line is derived functor cohomology.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
Omitted, see Milne. Note that we know this for quasiprojective things,
and the first isomorphism is more or less what we've just shown.

```{=latex}
\end{proof}
```
:::

::: {.corollary}
```{=latex}
\begin{corollary}
```
So torsors split by a cover $U$ are the same as Čech cohomology, so
torsors split by some cover (i.e. locally trivial) are the same as Čech
cohomology of $X_\mathrm{\operatorname{ét}}$: `
\begin{align*}  
\left\{{\substack{\text{Locally trivial $G{\hbox{-}}$torsors}}}\right\}
&\rightleftharpoons
{\check{H}}^1(X_\mathrm{\operatorname{ét}}, G)
.\end{align*}`{=tex}

```{=latex}
\end{corollary}
```
:::

Why? Take the direct limit of both sides. Note that Čech $H^1$ always
computes derived $H^1$.

::: {.theorem title="Grothendieck's Generalization of Hilbert 90"}
```{=latex}
\begin{theorem}[Grothendieck's Generalization of Hilbert 90]
```
The following is a bijection: `
\begin{align*}  
{\check{H}}^1(X_{\mathrm{zar}}, \underline{\operatorname{GL}}_n)
\xrightarrow{\sim}
{\check{H}}^1(X_\mathrm{\operatorname{ét}}, \underline{\operatorname{GL}}_n)
\to
{\check{H}}^1(X_\mathrm{\operatorname{fppf}}, \underline{\operatorname{GL}}_n)
\end{align*}`{=tex}

```{=latex}
\end{theorem}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
The content of this theorem: if you're étale locally trivial, then
you're also Zariski locally trivial.

```{=latex}
\end{remark}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
You need the fact that the locally split torsors are the same, although
it's true that any torsor will be locally split.

::: {.claim}
```{=latex}
\begin{claim}
```
A locally split $\underline{G}L_n{\hbox{-}}$torsor is the same as fppf
descent data for a vector bundle.

```{=latex}
\end{claim}
```
:::

Using fppf descent for vector bundles yields the theorem.

> To be continued!

```{=latex}
\end{proof}
```
:::

# Lecture 10

::: {.remark}
```{=latex}
\begin{remark}
```
What we've been calling a *torsor* (a sheaf with a group action plus
conditions) is called by some sources a **pseudotorsor** (e.g. the
Stacks Project), and what we've been calling a *locally trivial torsor*
is referred to as a *torsor* instead.

```{=latex}
\end{remark}
```
:::

Recall that statement of `\cref{thm:hilb90}`{=tex}; we'll now continue
with the proof:

::: {.proof title="of Hilbert 90"}
```{=latex}
\begin{proof}[of Hilbert 90]
```
::: {.observation}
```{=latex}
\begin{observation}
```
Let
$\tau = X_{{\mathrm{zar}}}, X_\mathrm{\operatorname{ét}}, X_{\mathrm{\operatorname{fppf}}}$,
then the data of a $\operatorname{GL}_n{\hbox{-}}$torsor split by a
$\tau{\hbox{-}}$cover $U\to X$ is the same as descent data for a vector
bundle relative to $U_{/X}$.

```{=latex}
\end{observation}
```
:::

```{=tex}
\vspace{2em}
```
This descent data comes from the following:
```{=tex}
\begin{tikzcd}
U\times_X U
 \ar[d, shift right=0.75ex, "\pi_1"'] 
 \ar[d, shift left=0.75ex, "\pi_2"]
\\
U
  \ar[d]
\\
X 
\end{tikzcd}
```
That $U$ trivializes our torsor means that $\pi^* T = \pi^* G$ as a
$G{\hbox{-}}$torsor, where $G$ acts on itself by left-multiplication. We
have two different ways of pulling back, and identifications with $G$ in
both, yielding
```{=tex}
\begin{tikzcd}
\pi_1^* \pi^* T 
  \ar[d]
  \ar[r, "\sim"]
& 
\pi_2^* \pi^* T 
  \ar[d]
\\
\pi_1^* \pi^* G
  \ar[r, "\sim"]
&  
\pi_2^* \pi^* G
\end{tikzcd}
```
Both of the bottom objects are isomorphic to
${ \left.{{G}} \right|_{{U\times U}} }$.

::: {.claim}
```{=latex}
\begin{claim}
```
The top horizontal map is descent data for $T$, and the bottom
horizontal map is an automorphism of a $G{\hbox{-}}$torsor and thus is a
section to $G$. I.e. a section to $\operatorname{GL}_n$ is an invertible
matrix on double intersections (satisfying the cocycle condition) and a
cover, which is precisely descent data for a vector bundle.

```{=latex}
\end{claim}
```
:::

Using fppf descent, proved previously, we know that descent data for
vector bundles is effective. So if we have a locally trivial
$\operatorname{GL}_n{\hbox{-}}$torsor on the fppf site, it's also
trivial on the other two sites, yieldings the desired maps back and
forth. Thus $H^1(X_\mathrm{\operatorname{ét}}, \operatorname{GL}_n)$ is
in bijection with $n{\hbox{-}}$dimensional vector bundles on $X$.

```{=latex}
\end{proof}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
See if Hilbert 90 is true for groups other than $\operatorname{GL}_n$.

```{=latex}
\end{exercise}
```
:::

## Representability and Local Triviality

::: {.question}
```{=latex}
\begin{question}
```
Suppose $G$ is an affine flat $X{\hbox{-}}$group scheme. Are all
$G{\hbox{-}}$torsors representable by a $X{\hbox{-}}$scheme?

```{=latex}
\end{question}
```
:::

::: {.answer}
```{=latex}
\begin{answer}
```
Yes, by the same proof as last time, try working out the details. Idea:
you can trivialize a $G{\hbox{-}}$torsor flat locally and use fppf
descent.

```{=latex}
\end{answer}
```
:::

::: {.question}
```{=latex}
\begin{question}
```
Given a $G{\hbox{-}}$torsor $T$ that is fppf locally trivial, is it
étale locally trivial?

```{=latex}
\end{question}
```
:::

::: {.answer}
```{=latex}
\begin{answer}
```
In general no, but yes if $G$ is smooth.

```{=latex}
\end{answer}
```
:::

::: {.proof title="Sketch"}
```{=latex}
\begin{proof}[Sketch]
```
You can take an fppf local trivialization, trivialize by $p$ itself,
then slice to get an étale trivialization. Given a torsor $T\to X$, we
can base change it to itself:
```{=tex}
\begin{tikzcd}
T\times_X T 
  \ar[d]
  \ar[r]
& T 
  \ar[d]
\\
T 
  \ar[r, "f"]
  \ar[u, bend right, "\exists"']
& X 
\end{tikzcd}
```
The torsor $T\times_X T\to T$ is trivial since there exists the
indicated section given by the diagonal map. Another way to see this is
that $T\times T\cong T\times G$ by the $G{\hbox{-}}$action map, which is
equivalent to triviality here. Here $f$ is smooth map since $G$ itself
was smooth and the fibers of $T$ are isomorphic to the fibers of $G$. We
can thus find some $U$ such that
```{=tex}
\begin{tikzcd}
&
T\times_X T 
  \ar[d]
  \ar[r]
& T 
  \ar[d]
\\
&
T 
  \ar[r, "f"]
  \ar[u, bend right, "\exists"']
& X 
\\
U 
  \ar[ur, hook, "\text{closed}"]
  \ar[urr, bend right, "\exists \mathrm{\operatorname{ét}}"']
& &
\end{tikzcd}
```
Here "slicing" means finding such a $U$, and this can be done using the
structure theorem for smooth morphisms.

```{=latex}
\end{proof}
```
:::

::: {.example title="non-smooth group schemes"}
```{=latex}
\begin{example}[non-smooth group schemes]
```
```{=tex}
\envlist
```
-   $\alpha_p$, the kernel of Frobenius on ${\mathbb{A}}^1$ or
    ${\mathbb{G}}_a$,
-   $\mu_p$ in characteristic $p$, representing $p$th roots of unity,
    the kernel of Frobenius on ${\mathbb{G}}_m$,
-   The kernel of Frobenius on any positive dimensional affine group
    scheme.
-   $\mu_p \times\operatorname{GL}_n$, etc.

```{=latex}
\end{example}
```
:::

### What Hilbert 90 Means

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $X = \operatorname{Spec}k, n=1$, so we're looking at
$H^{\,\cdot\,}(\operatorname{Spec}k, {\mathbb{G}}_m)$. `
\begin{align*}  
H^1 \qty{ \qty{ \operatorname{Spec}k}_{\mathrm{zar}}, {\mathbb{G}}_m} 
&= 0 \\
&= 
H^1 \qty{ \qty{ \operatorname{Spec}k}_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m}  \\
&=
H^1(\operatorname{Gal}(k^s / k), \mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu ^{\times})
.\end{align*}`{=tex} The first comes from the fact that we're looking at
line bundles of spec of a field, i.e. a point, which are all trivial.
The last line comes from our previous discussion of the isomorphism
between étale cohomology of fields and Galois cohomology. Etymology: the
fact that this cohomology is zero is usually what's called **Hilbert
90**.[^23]

```{=latex}
\end{example}
```
:::

Let's generalize this observation.

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $X$ be any scheme and $n=1$, then
$H^1(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m) = {\operatorname{Pic}}(X)$.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let's compute $H^1(X_\mathrm{\operatorname{ét}}, \mu_\ell)$ where $\ell$
is an invertible function on $X$. We have a SES of étale sheaves, the
**Kummer sequence**, `
\begin{align*}  
1 \to \mu_\ell \to {\mathbb{G}}_m \xrightarrow{z\mapsto z^p} {\mathbb{G}}_m \to 1
.\end{align*}`{=tex} This is exact in the étale topology since adjoining
an $\ell$th power of any function gives an étale cover. We get a LES in
cohomology
```{=tex}
\begin{tikzcd}
&
&
0 \ar[dll]
\\
H^0(X_\mathrm{\operatorname{ét}}, \mu_\ell)
  \ar[r]
&
H^0(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m)
  \ar[r, "z\mapsto z^\ell"]
&
H^0(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m)
  \ar[dll]
\\
{\color{red} H^1(X_\mathrm{\operatorname{ét}}, \mu_\ell)}
  \ar[r]
&
{\operatorname{Pic}}(X)
  \ar[r, "{[\ell]}"]
&
{\operatorname{Pic}}(X)
  \ar[dll]
\\
H^2(X_\mathrm{\operatorname{ét}}, \mu_\ell)
  \ar[r]
&
\cdots
&
\end{tikzcd}
```
We know that $H^0(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m)$ are
invertible functions on $X$, and the red term is what we'd like to
compute.

Suppose now
$H^0(X, {\mathcal{O}}_X) = k = \mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$,
then $H^0(X_\mathrm{\operatorname{ét}},\mu_\ell) = \mu_\ell(k)$ since it
is the kernel of the $\ell$th power map. We can also compute
$H^1(X_\mathrm{\operatorname{ét}}, \mu_\ell)$, since our diagram reduces
to
```{=tex}
\begin{tikzcd}
&
&
0 \ar[dll, hook]
\\
\mu_\ell(k)
  \ar[r]
&
k^{\times}
  \ar[r, "z\mapsto z^\ell"]
&
k^{\times}
  \ar[dll, "\delta"', twoheadrightarrow]
\\
{\color{red} H^1(X_\mathrm{\operatorname{ét}}, \mu_\ell)}
  \ar[r]
&
{\operatorname{Pic}}(X)[\ell]
  \ar[r, "{[\ell]}"]
&
{\operatorname{Pic}}(X)
  \ar[dll]
\\
H^2(X_\mathrm{\operatorname{ét}}, \mu_\ell)
  \ar[r]
&
\cdots
&
\end{tikzcd}
```
where surjectivity of $\delta$ follows from the fact that
$k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$ and
thus every element has an $\ell$th root, making $H^1$ the kernel of
$[\ell]$.

```{=latex}
\end{example}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $X_{/k}$ with
$k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$ with
$\ell$ invertible in $k$, then (claim)
$\underline{\mathbb{Z}/\ell\mathbb{Z}}\cong \mu_\ell$ given by sending a
generator to some choice of a primitive $\ell$th root of unity. To be
explicit, we have a representation
$\underline{\mathbb{Z}/\ell\mathbb{Z}}= \hom \qty{ {\,\cdot\,}, \operatorname{Spec}k[t] / t(t-1) \cdots (t-\ell+1) }$
and $\mu_\ell = \operatorname{Spec}k[t] / t^\ell-1$. These are both
disjoint unions of points, and hence schemes of dimension zero since
$\ell$ is invertible in the base and the Chinese Remainder Theorem, so
one can write down the isomorphism explicitly between the schemes and
hence the functors they represent.

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
If $\mu_\ell \subseteq k$, then `
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, \underline{\mathbb{Z}/\ell\mathbb{Z}}) = 
H^i(X_\mathrm{\operatorname{ét}}, \mu_\ell)
.\end{align*}`{=tex}

```{=latex}
\end{corollary}
```
:::

Since the isomorphism depends on the choice of a primitive root, this
will not be Galois equivariant, which will come up when we talk about
Galois actions on étale cohomology. This already happens for $H^0$,
since $G\curvearrowright\mathbb{Z}/\ell\mathbb{Z}$ trivially but not on
$\mu_\ell$.

```{=latex}
\end{example}
```
:::

### Geometric Interpretations

Let $X$ be an affine scheme, we now know
$H^1(X_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p) = \operatorname{coker}({\mathcal{O}}_X \xrightarrow{x^p - x} {\mathcal{O}}_x)$,
the Artin-Schreier map, and these are ${\mathbb{F}}_p{\hbox{-}}$torsors.
We also know
$H^1(X_\mathrm{\operatorname{ét}}, \mathbb{Z}/\ell\mathbb{Z})$ in terms
of the LES if
$k = \mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$ and
$\operatorname{ch}(k) = p$, and this is a
$\mathbb{Z}/\ell\mathbb{Z}{\hbox{-}}$torsor. Being torsors here
geometrically means they're covering spaces with those groups as Galois
groups.

::: {.question}
```{=latex}
\begin{question}
```
How does one write down these torsors/covering spaces?

```{=latex}
\end{question}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Given `
\begin{align*}
[Y] \in H^1(X_\mathrm{\operatorname{ét}}, {\mathbb{F}}_p) = \operatorname{coker}({\mathcal{O}}_X\xrightarrow{x^p-x} {\mathcal{O}}_X)
\end{align*}`{=tex} where we write $[Y]$ to denote thinking of the
torsor as some geometric object, how to we write down the covering
space? Using Artin-Schreier, we can write
$Y = \left\{{y^p - y = a}\right\}$ for some $a\in {\mathcal{O}}_X$, an
**Artin-Schreier covering**.

If $\ell \neq \operatorname{ch}(k)$ and
$[Z] \in H^1(X_\mathrm{\operatorname{ét}}, \mu_\ell)$ and assume
${\operatorname{Pic}}(X) = 0$. Then we can write `
\begin{align*}
H^1(X_\mathrm{\operatorname{ét}}, \mu_\ell) = \operatorname{coker}({\mathcal{O}_X}\xrightarrow{x\mapsto x^\ell} {\mathcal{O}_X}^{\times})
\end{align*}`{=tex} In this case, $Z = \left\{{z^\ell = f}\right\}$
where $f\in {\mathcal{O}_X}^{\times}$ is an element representing the
class in cohomology, and $\mu_\ell \curvearrowright Z$ by multiplication
by $z$.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
The process of explicitly writing down covers is called **explicit
geometric class field theory**, which gives a recipe for writing down
abelian covers of covers. In general, for
${\operatorname{Pic}}(X) \neq 0$, the Picard group plays a crucial role.

```{=latex}
\end{remark}
```
:::

## Computing the Cohomology of Curves

> This is one of Daniel's favorite topics in the entire course!

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
Let $X_{/k}$ be a smooth curve over
$k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$, then `
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m) 
=
\begin{cases}
{\mathcal{O}}_X(X)^{\times}& i = 0\\
{\operatorname{Pic}}(X) & i=1 \\
0 & \text{else},
\end{cases}
\end{align*}`{=tex} noting that ${\mathcal{O}}_X(X)^{\times}$ are the
global sections of ${\mathbb{G}}_m$, i.e. invertible functions on $X$.

```{=latex}
\end{theorem}
```
:::

The first two cases we've done, $i>1$ is the hard case.

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
For $X$ a smooth proper connected curve of genus $g$,
$k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$, and
$\ell \neq \operatorname{ch}(k)$ is prime, `
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, \underline{\mathbb{Z}/\ell^n\mathbb{Z}})
=
\begin{cases}
\mathbb{Z}/\ell^n\mathbb{Z}& i = 0 \\
{\operatorname{Pic}}(X)[\ell^n] = \qty{\mathbb{Z}/\ell^n\mathbb{Z}}^{2g} & i=1 \\
\mathbb{Z}/\ell^n\mathbb{Z}& i=2 \\
0 & i>2
\end{cases}
.\end{align*}`{=tex}

```{=latex}
\end{corollary}
```
:::

::: {.proof title="of corollary"}
```{=latex}
\begin{proof}[of corollary]
```
We'll use some theory of abelian varieties:
${\operatorname{Pic}}^0(X) = \operatorname{Jac}(X)$, and we have a SES `
\begin{align*}  
0 \to \operatorname{Jac}(X) \to {\operatorname{Pic}}(X) \xrightarrow{\deg} {\mathbb{Z}}\to 0
,\end{align*}`{=tex} where we identify the Néron-Severi group as
${\mathbb{Z}}$.[^24] We'll use that $\operatorname{Jac}(X)$ is a
$g{\hbox{-}}$dimensional abelian variety, and so
$\operatorname{Jac}(X)[\ell^n] \cong_{{\operatorname{Grp}}} \qty{\mathbb{Z}/\ell^n\mathbb{Z}}^{2g}$.

The Kummer sequence `
\begin{align*}  
1 \to \mu_{\ell^n}\to {\mathbb{G}}_m \to {\mathbb{G}}_m \to 1
\end{align*}`{=tex} yields a LES where we identify
$\mu_{\ell^n} \cong \mathbb{Z}/\ell^n\mathbb{Z}$:

```{=tex}
\begin{tikzcd}
& & 
0 
  \ar[dll]
\\
 H^1(X_\mathrm{\operatorname{ét}}, \underline{\mathbb{Z}/\ell^n\mathbb{Z}})
  \ar[r]
&
 {\operatorname{Pic}}(X)
  \ar[r, "{[\ell]}"]
&
 {\operatorname{Pic}}(X)
  \ar[dll]
\\
 H^2(X_\mathrm{\operatorname{ét}}, \underline{\mathbb{Z}/\ell^n\mathbb{Z}})
  \ar[r]
&
 0
  \ar[r]
&
 0
\end{tikzcd}
```
So we're just computing the kernel and cokernel of $[\ell]$.

**Computing $H^1$**: We'll need one more fact:
$\operatorname{Jac}(X)(\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu)$
is a divisible group. We can identify `
\begin{align*}  
H^1(X_\mathrm{\operatorname{ét}}, \underline{\mathbb{Z}/\ell^n\mathbb{Z}})
=
{\operatorname{Pic}}(X)[\ell^n]
= 
\operatorname{Jac}(X)
=
\qty{\mathbb{Z}/\ell^n\mathbb{Z}}^{2g}
.\end{align*}`{=tex} where the 2nd equality uses the fact that
${\operatorname{Pic}}(X)$ is an extension of ${\mathbb{Z}}$ by an
abelian variety and ${\mathbb{Z}}$ has no torsion, and the last equality
is general theory of abelian varieties.

**Computing $H^2$**: Since $\operatorname{Jac}(X)$ is divisible, we can
identify `
\begin{align*}  
\operatorname{coker}({\operatorname{Pic}}(X) \xrightarrow{[\ell^n]} {\operatorname{Pic}}(X) )
\cong 
\operatorname{coker}({\mathbb{Z}}\xrightarrow{[\ell^n]} {\mathbb{Z}})
= \mathbb{Z}/\ell^n\mathbb{Z}
.\end{align*}`{=tex}

The vanishing of higher cohomology follows from the vanishing for
${\mathbb{G}}_m$. So assuming the theorem and the theory of abelian
varieties proves this corollary.

```{=latex}
\end{proof}
```
:::

::: {.exercise title="?"}
```{=latex}
\begin{exercise}[?]
```
Check this using the snake lemma after applying multiplication by $\ell$
to the SES.

```{=latex}
\end{exercise}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
$X$ is a scheme over
$\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$, and if
it started over some subfield $L$ then
$\operatorname{Gal}(L_{/k}) \curvearrowright X$ and thus the
corresponding functors. These isomorphisms will not be Galois
equivariant, and the $\mathbb{Z}/\ell^n\mathbb{Z}$ showing up in degree
2 cohomology will admit a Galois action via the cyclotomic character.

```{=latex}
\end{remark}
```
:::

### Proof of Theorem

Goal: we want to show that
$H^{>1}(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m) = 0$ for $X$ a
smooth curve over
$k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$. Three
ingredients:

1.  The Leray spectral sequence,

2.  The divisor exact sequence,

3.  Brauer groups.

## Pushforwards and the Leray Spectral Sequence

Suppose $X\xrightarrow{f} Y$ is a morphism of schemes, then we get a
functor
$f_* {\operatorname{Sh}}(X_\mathrm{\operatorname{ét}}) \to {\operatorname{Sh}}(Y_\mathrm{\operatorname{ét}})$:
given $\mathcal{F}\in Sh(X_\mathrm{\operatorname{ét}})$, we have
$f_* \mathcal{F}(U\to Y) \mathrel{\vcenter{:}}=\mathcal{F}(U\times_Y X)$.
This is left-exact and thus has right-derived functors
$R^{\,\cdot\,}f_*:{\operatorname{Sh}}^{\operatorname{Ab}}(X_\mathrm{\operatorname{ét}}) \to {\operatorname{Sh}}^{\operatorname{Ab}}(Y_\mathrm{\operatorname{ét}})$.

How to think about this:

![Cohomology of the fibers: but not
quite!](figures/image_2020-12-28-18-24-08.png){width="350px"}

This is not quite true, and the obstruction is called **the base change
property**, which we'll see later in the course. What's true in general
is that $R^i f_* \mathcal{F}$ is the sheafification of the presheaf
$V\to H^i(f^{-1}(V), \mathcal{F})$, which is not quite the cohomology of
the fibers since sheafification is somewhat brutal.

::: {.proposition title="Derived pushforwards for finite morphisms"}
```{=latex}
\begin{proposition}[Derived pushforwards for finite morphisms]
```
If $f$ is a finite morphism (e.g. a closed immersion) then
$R^{>0} f_* = 0$.

```{=latex}
\end{proposition}
```
:::

::: {.exercise title="Proof, must-do!"}
```{=latex}
\begin{exercise}[Proof, must-do!]
```
Prove this. The claim is that $f_*$ is right-exact, which in this case
shows it is exact. Check on stalks. Compute that the stalk of
$f_* \mathcal{F}$ at
$\mkern 1.5mu\overline{\mkern-1.5muy\mkern-1.5mu}\mkern 1.5mu\in Y$ is
given by `
\begin{align*}
f_* \mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5muy\mkern-1.5mu}\mkern 1.5mu} = \bigoplus_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu\in f^{-1}(\mkern 1.5mu\overline{\mkern-1.5muy\mkern-1.5mu}\mkern 1.5mu)}\mathcal{F}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}
\end{align*}`{=tex} for $f$ a finite morphism (not necessarily
unramified).

```{=latex}
\end{exercise}
```
:::

::: {.proposition title="technical"}
```{=latex}
\begin{proposition}[technical]
```
$f_*$ preserves injectives.

```{=latex}
\end{proposition}
```
:::

::: {.exercise title="proof"}
```{=latex}
\begin{exercise}[proof]
```
Prove this! You can do this by showing the following fact from category
theory: this is true for any functor with an exact left adjoint, which
here is $f^*$ and is exact since filtered colimits and sheafification
are both exact, or alternatively you can check on stalks, since the
stalks of $f^{-1}$ are the stalks of the original functor.

```{=latex}
\end{exercise}
```
:::

::: {.corollary title="The Leray Spectral Sequence"}
```{=latex}
\begin{corollary}[The Leray Spectral Sequence]
```
Suppose $X \xrightarrow{f} Y$ and $Y \xrightarrow{g} Z$ are morphisms of
schemes, then there is a spectral sequence `
\begin{align*}  
R^i g_* R^j f_* \mathcal{F} \Rightarrow R^{i+j}(g\circ f)_* \mathcal{F}
.\end{align*}`{=tex} As a special case, for $Z = \operatorname{Spec}k$
with $k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$,
then $g_*, f_*$ are taking global sections so we get `
\begin{align*}  
H^i(Y, R^j f_* \mathcal{F} ) \Rightarrow H^{i+j}(X, \mathcal{F})
.\end{align*}`{=tex}

```{=latex}
\end{corollary}
```
:::

::: {.proof title="sketch"}
```{=latex}
\begin{proof}[sketch]
```
There is a general statement (see Tohoku): given two functors between
abelian functors where the first preserves injectives, you get such a
spectral sequence. How to explicitly compute this: we can take an
injective resolution $\mathcal{F}\to \mathcal{I}^{\,\cdot\,}$ and
compute `
\begin{align*}  
R^i f_* \mathcal{F} \mathcal{H}^i(f_* \mathcal{I}^{\,\cdot\,})
.\end{align*}`{=tex} $f_* \mathcal{I}$ is a complex of injectives, and
we want
$\mathcal{H}^{i+j}(g_* f_* \mathcal{I}^{\,\cdot\,}) = R^{i+j}(g\circ f)_* \mathcal{F}$,
and the content here is that we don't have to take an additional
injective resolution of $f_* \mathcal{I}$. Now take the spectral
sequence of the filtered complex $f_* \mathcal{I}^{\,\cdot\,}$ where the
filtration is by the truncations
$\tau_{\leq p}f_* \mathcal{I}^{\,\cdot\,}$ where you replace the $p$th
term with the kernel of the differential and zero beyond this point. An
example of a differential is given by the following: there are SESs `
\begin{align*}  
0 \to
\tau_{\leq p} f_* \mathcal{I}^{\,\cdot\,}
\to
\tau_{\leq p+1} f_* \mathcal{I}^{\,\cdot\,}
\to
\mathcal{H}^{p+1}(f_* \mathcal{I}^{\,\cdot\,})  = R^{p+1} f_* \mathcal{F}
\to 
0
,\end{align*}`{=tex} and applying $RG_*$ yields a map `
\begin{align*}  
R^{p+1} f_* \mathcal{F}
\xrightarrow{\delta}
R^{q+1} g_* \tau_{\leq p}f_* \mathcal{I}^{\,\cdot\,}
,\end{align*}`{=tex} and after some splicing this $\delta$ will be the
differential on $E_2$.

```{=latex}
\end{proof}
```
:::

Next time: the Brauer group.

# Lecture 11

## Pushforwards (Continued)

Last time: we saw the Leray spectral sequence, but no examples yet, so
that's what we'll do now. We had $X \xrightarrow{f} Y \xrightarrow{g} Z$
to which we associated the spectral sequence
$R^i f_* R^jf_*({\,\cdot\,}) \Rightarrow R^{i+j}(g\circ f)_* ({\,\cdot\,})$.
To deduce existence we used that pushforwards preserve injectives, and
we looked at some $E_2$ differentials.

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Let $X \xrightarrow{\pi} Z \mathrel{\vcenter{:}}=\operatorname{Spec}k$,
where
$k\neq \mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$
necessarily. The spectral sequence for the functors $\pi_*, \Gamma$
yields the Leray spectral sequence
$H^i(k, R^j \pi_* \mathcal{F}) \Rightarrow H^{i+j}(X_\mathrm{\operatorname{ét}}, \mathcal{F})$.
The LHS is the étale cohomology of $\operatorname{Spec}k$, i.e. Galois
cohomology. The Galois module corresponding to $R^j \pi_* \mathcal{F}$
is $H^j(X_{k^{s}}, \mathcal{F})$ by taking the
$\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$ points of
this functor So the Leray spectral sequence yields `
\begin{align*}  
H^i(k, H^j(X_{k^{s}, \mathrm{\operatorname{ét}}}, \mathcal{F} )) \Rightarrow H^{i+j}(X_\mathrm{\operatorname{ét}}, \mathcal{F})
.\end{align*}`{=tex}

Consider $k$ a finite field and $X_{/k}$ a smooth projective variety.
Then the Galois cohomology is given by `
\begin{align*}  
H^i(k, V) 
=
\begin{cases}
V^G & i = 0 \hspace{4em}\text{the invariants}\\
V_G & i = 1\hspace{4em}\text{the coinvariants} \\
0 & i>1
\end{cases}
\end{align*}`{=tex} This follows from computing the cohomology of
$\widehat{{\mathbb{Z}}}$. Supposing we knew that the cohomological
dimension of a smooth projective variety was $2n$ over
$\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$
(e.g. taking
$\mathcal{F} \mathrel{\vcenter{:}}=\mathbb{Z}/\ell\mathbb{Z}$ above),
then the cohomological dimension of $X$ would be $2n+1$. This follows
from $E_2$ vanishing for $i>1$ in this case.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
A general fact about the Leray spectral sequence for smooth proper
morphisms: let $X \xrightarrow{\pi} Y$ such a morphism, then there is a
spectral sequence `
\begin{align*}  
H^i(Y, R^j \pi_* \underline{{\mathbb{Q}}}) \Rightarrow H^{i+j}(X, {\mathbb{Q}})
.\end{align*}`{=tex} A fact due to Deligne is that this degenerates at
$E_2$, which is proved with $\ell{\hbox{-}}$adic cohomology (going
through Weil II) using the theory of weights. Note that this is false
for smooth proper morphisms between manifolds! Instead, for varieties,
they behave more like products instead of "twisted" things.

```{=latex}
\end{remark}
```
:::

We'll now be explicit about what these pushforwards are, so we'll give
another description of them:

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $X \xrightarrow{\pi} Y$, then $R^i \pi_* \mathcal{F}$ is the sheaf
associated to the presheaf
$U\to H^i(\pi^{-1}(U)_\mathrm{\operatorname{ét}}, \mathcal{F})$.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
Choose an injective resolution $\mathcal{F}\to \mathcal{I}{\,\cdot\,}$,
then
$\mathcal{H}^i(\pi_* \mathcal{I}^{\,\cdot\,}) \mathrel{\vcenter{:}}= R^i \pi_* \mathcal{F}$.
Let's compute this pushforward in another way: we have
```{=tex}
\begin{tikzcd}
{\operatorname{Presh}}(X_\mathrm{\operatorname{ét}}) 
  \ar[r, "\pi_*"]
& {\operatorname{Presh}}(Y_\mathrm{\operatorname{ét}})
  \ar[d, "a = \text{sheafification}", dotted]
\\
{\operatorname{Sh}}(X_\mathrm{\operatorname{ét}}) 
  \ar[r, "\pi_*"]
  \ar[u, "f = \text{forget}"']
& {\operatorname{Sh}}(Y_\mathrm{\operatorname{ét}}) 
\end{tikzcd}
```
Here the induced map on presheaves is exact although the forgetful
functor may not be. This is because a sequence of presheaves is exact
iff it's exact on every open, but $\pi_*$ just pulls back opens. This
diagram commutes since what you get in the top-right corner is already a
sheaf, and sheafification is the identity on sheaves. We can thus factor
$\pi_*$ to obtain `
\begin{align*}  
R^i \pi_* \mathcal{F} = \mathcal{H}^i*\pi_* \mathcal{I}^{\,\cdot\,}
= \mathcal{H}^i(a\circ \pi \circ f (\mathcal{I}^{\,\cdot\,}))
= a\circ \pi_*\qty{\mathcal{H}^i(f(\mathcal{I}^{\,\cdot\,})) }
.\end{align*}`{=tex} where we've used the fact that $\pi_*, s$ are
exact. Why isn't the inner term zero, since $\mathcal{I}^{\,\cdot\,}$ is
an exact complex of sheaves? Epimorphisms are different in the
categories of sheaves and presheaves, so it may not be exact when viewed
as a complex of presheaves. These terms are explicitly the functors
$U\to H^i(U, \mathcal{F})$, since
${ \left.{{\mathcal{I}^{\,\cdot\,}}} \right|_{{U}} }$ is an injective
resolution of $\mathcal{F}$. We can now evaluate this on an open of $Y$,
so we get `
\begin{align*}  
a \qty{ (U \xrightarrow{\mathrm{\operatorname{ét}}} Y) \to H^i(\pi^{-1}(U), \mathcal{F}) }
,\end{align*}`{=tex} which is sheafifying the functor we want.

```{=latex}
\end{proof}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Suppose $X$ is an integral scheme and $\eta\xhookrightarrow{\iota} X$ is
its generic point. Suppose
$\mathcal{F}\in {\operatorname{Sh}}(\eta_\mathrm{\operatorname{ét}})$.
How to we understand $R^i \iota_* \mathcal{F}$? We can compute its
stalks: suppose
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu \to X$ is
a geometric point, then `
\begin{align*}  
\qty{R^i \iota_* \mathcal{F}}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu} 
&= 
\varinjlim_{(U, \mkern 1.5mu\overline{\mkern-1.5muu\mkern-1.5mu}\mkern 1.5mu)} \qty{R^i \iota_* \mathcal{F}}(U) \\
&=
H^i(U_\eta, { \left.{{\mathcal{F}}} \right|_{{U_\eta}} })
.\end{align*}`{=tex} where we take limits over
$U\xrightarrow{\mathrm{\operatorname{ét}}} X$ and
$\mkern 1.5mu\overline{\mkern-1.5muu\mkern-1.5mu}\mkern 1.5mu\to U$ is a
geometric point above
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$.

::: {.exercise title="Important, must-do"}
```{=latex}
\begin{exercise}[Important, must-do]
```
Let
${\mathcal{O}}_{X, \mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$[^25]
be the stalk of ${\mathcal{O}}_X$ at
$\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$ and
$K_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$[^26]
be its fraction field. Then `
\begin{align*}  
\qty{R^i \iota_* \mathcal{F}}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}
=
H^i(K_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}, { \left.{{\mathcal{F}}} \right|_{{K_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}}} } )
,\end{align*}`{=tex} where the RHS is either the Galois cohomology of
$k$ or the étale cohomology of $\operatorname{Spec}k$.

Idea: these are the étale local rings, and this says you can compute the
stalk of a cohomology sheaf in terms of these strictly Henselian local
rings.

```{=latex}
\end{exercise}
```
:::

```{=latex}
\end{example}
```
:::

Goal: we want to understand $H^{>1}(X, {\mathbb{G}}_m)$ where $X_{/k}$
is a curve over $k = k^{s}$ which is separably closed. We'll reduce this
to questions in Galois cohomology.

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $X_{/k}$ (with $k$ not necessarily algebraically closed) be a
regular (integral) variety and $\eta\hookrightarrow X$ is the generic
point. Then there is a SES in
${\operatorname{Sh}}(X_\mathrm{\operatorname{ét}})$: `
\begin{align*}  
0 \to
{\mathbb{G}}_m
\xrightarrow{\operatorname{Res}}
\eta_* {\mathbb{G}}_m 
\xrightarrow{\operatorname{Div}}
\bigoplus_{z\in X, \operatorname{codim}1} \iota_{z_*} \underline{{\mathbb{Z}}}
\to 0
,\end{align*}`{=tex} where the middle term can be thought of as pushing
forward ${\mathbb{G}}_m$ from the étale site of $\eta$ or pulling back
${\mathbb{G}}_m$ to it, which is just ${\mathbb{G}}_m$ again, and
pushing forward again, and the last term is the **sheaf of divisors**.

```{=latex}
\end{proposition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
The first map is either the unit or the counit of the adjunction
$\eta_* \rightleftharpoons\eta^*$, which is the restriction. The second
map comes from noting that on an étale morphism $U\to X$, this is a
bunch of rational functions and you can take its divisor. This gives a
number for each codimension 1 point: the order of vanishing. All but
finitely many numbers will be zero, so you get a section to the last
sheaf.

```{=latex}
\end{remark}
```
:::

::: {.proof title="of exactness"}
```{=latex}
\begin{proof}[of exactness]
```
**1**: ${\mathbb{G}}_m \to \eta_* {\mathbb{G}}_m$ is injective. This
reduces to showing ${\mathbb{G}}_m(U) \to {\mathbb{G}}_m(U_\eta)$ is
injective, where $U_\eta$ is the fiber over $\eta$, since this is
${\mathcal{O}}_U^{\times}\to \bigoplus_{\eta_i} {\mathcal{O}}_{\eta_i}$
which is a sum over generic points of $U$. This uses that $X$ is
reduced.

**2**: Exactness in the middle. Given $f\in \eta_* {\mathbb{G}}_m(U)$
with $\operatorname{Div}(f) = 0$, we want to show $f$ comes from
${\mathbb{G}}_m(U)$. We need to show $f, f^{-1}$ are regular, and it's
enough to show that $f$ is regular. We're using that if we have a finite
type ring over a field $A$, then by a fact from commutative algebra, `
\begin{align*}
A = \bigcap_{\mathfrak{p}\in \operatorname{Spec}^1(A)} A_{\mathfrak{p}}
\end{align*}`{=tex} which is the intersection of localizations over all
height 1 primes. Being in this intersection is equivalent to having
non-negative divisors, where here we've used that regularity implies
normality.

**3**: Surjectivity at the end. We need to show that every divisor is
étale locally principle, and thus Zariski locally. A global section to
the last sheaf is a Weil divisor, and we want to show each is principle.
This is equivalent to being Cartier, which is true here by regularity.

```{=latex}
\end{proof}
```
:::

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
There's a LES:
```{=tex}
\begin{tikzcd}
&
 \cdots
  \ar[r]
&
H^{i-1}(X_\mathrm{\operatorname{ét}}, \bigoplus_{\operatorname{codim}(z) = 1} \iota_{z_*} \underline{{\mathbb{Z}}})
  \ar[dll]
\\
{\color{NavyBlue} H^i(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m) }
  \ar[r]
&
H^i(X_\mathrm{\operatorname{ét}}, \eta_* {\mathbb{G}}_m)
  \ar[r]
&
H^i(X_\mathrm{\operatorname{ét}}, \bigoplus_{\operatorname{codim}(z) = 1} \iota_{z_*} \underline{{\mathbb{Z}}})
  \ar[dll]
\\
\cdots
& 
&
\end{tikzcd}
```
The blue term is what we'd like to compute, and the other terms are the
cohomology of pushforwards and thus appear in the Leray spectral
sequence.

```{=latex}
\end{corollary}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $X_{/k}$ be a curve where $k=k^{s}$. Then `
\begin{align*}  
H^{i>0}(X_\mathrm{\operatorname{ét}}, \bigoplus_{\operatorname{codim}z = 1} \iota_{z_*} {\mathbb{Z}}) = 0
.\end{align*}`{=tex}

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
It's enough to show that
$H^{>0}(X_\mathrm{\operatorname{ét}}, \iota_{z_*} \underline{{\mathbb{Z}}}) = 0$
using that cohomology commutes with direct sums. Using the Leray
spectral sequence, we get `
\begin{align*}
H^i(X_\mathrm{\operatorname{ét}}, R^j_{\iota_{z_*}} \underline{{\mathbb{Z}}})\Rightarrow H^{i+j}(z_\mathrm{\operatorname{ét}}, \underline{{\mathbb{Z}}})
\end{align*}`{=tex} What are the coefficients on the LHS? We proved that
pushforwards on closed immersions are exact, by checking on stalks, so
we have

`
\begin{align*}  
R^j _{\iota_{z_*}} \underline{{\mathbb{Z}}}
=
\begin{cases}
\iota_{z_*} \underline{{\mathbb{Z}}}& j = 0 \\
0 & j > 0
\end{cases}
.\end{align*}`{=tex}

We can also compute `
\begin{align*}  
H^s(z_\mathrm{\operatorname{ét}}, \underline{{\mathbb{Z}}})
=
\begin{cases}
{\mathbb{Z}}& s = 0 \\
0 & s>0
\end{cases}
.\end{align*}`{=tex} since the zero term is global sections and $k$ is
separably (algebraically) closed, and the Galois cohomology vanishes in
$i>0$. So we get a degenerate spectral sequence with one column,
yielding `
\begin{align*}  
H^i (X_\mathrm{\operatorname{ét}}, \iota_{z_*} \underline{{\mathbb{Z}}}) 
=
H^i(z_{\mathrm{\operatorname{ét}}}, {\mathbb{Z}})
=
\begin{cases}
{\mathbb{Z}}& i = 0 \\
0 & i> 0
\end{cases}
.\end{align*}`{=tex}

```{=latex}
\end{proof}
```
:::

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
If $X_{/k}$ is a smooth curve over $k=k^{s}$ then we have an isomorphism
`
\begin{align*}  
H^{>1}(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m) \xrightarrow{\sim}H^{>i}(X_\mathrm{\operatorname{ét}}, \eta_* {\mathbb{G}}_m)
.\end{align*}`{=tex}

```{=latex}
\end{corollary}
```
:::

New goal: compute the RHS, which is not quite Galois cohomology but is
pushed forward from a field. Using the Leray spectral sequence, we get `
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, R^j \eta_* {\mathbb{G}}_m)
\Rightarrow
H^{i+j}(\eta, {\mathbb{G}}_m)
,\end{align*}`{=tex} where the RHS is Galois cohomology. We're
interested in the $j=0$ region of the spectral sequence. Let's try to
understand the stalks at geometric points: `
\begin{align*}  
\qty{R^j \eta_* {\mathbb{G}}_m}_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}
=
H^j(K_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}, {\mathbb{G}}_m)
,\end{align*}`{=tex} where the field appearing is the *strict
Henselization* from the earlier discussion. We'll be able to compute
this if we have the following theorem:

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
Let $K$ be the function field of a curve or an algebraically closed
field, or
$K = K_{\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu}$
is the strict Henselian field of a geometric point of a curve over a
separably (algebraically) closed field. Then `
\begin{align*}  
H^{>0}(K, {\mathbb{G}}_m) = 0
.\end{align*}`{=tex}

```{=latex}
\end{theorem}
```
:::

This will suffice since $R^{>0} \eta_*{\mathbb{G}}_m = 0$, yielding a
spectral sequence where $E_2 = E_ \infty$: `
\begin{align*}  
H^i(X_\mathrm{\operatorname{ét}}, \eta_* {\mathbb{G}}_m)
=
H^i(\eta,{\mathbb{G}}_m)
=
0 && \text{if }i>0
.\end{align*}`{=tex}

**Upshot**: this reduces the computation of the étale cohomology of a
curve to Galois cohomology. Proving this theorem is hard, and will lead
us to Brauer groups.[^27]

## Brauer Groups

::: {.definition title="Cohomological Brauer Group"}
```{=latex}
\begin{definition}[Cohomological Brauer Group]
```
Let $X$ be a scheme, then the **cohomological Brauer group** is defined
as `
\begin{align*}  
\operatorname{Br}(X) \mathrel{\vcenter{:}}= H^2(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m)_{{\operatorname{tors}}}
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

In good situations, this group has a good geometric interpretation, so
let's true to understand it this way in terms of
$\operatorname{PGL}_n{\hbox{-}}$torsors.

::: {.claim}
```{=latex}
\begin{claim}
```
There is a natural map `
\begin{align*}  
\bigcup_n \left\{{ \text{étale-locally split $\operatorname{PGL}_n{\hbox{-}}$torsors} }\right\}
\to
H^2(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m)
.\end{align*}`{=tex}

```{=latex}
\end{claim}
```
:::

Idea: there is a SES `
\begin{align*}  
1 \to {\mathbb{G}}_m \to \operatorname{GL}_n \to \operatorname{PGL}_n \to 1
&& \in {\operatorname{Sh}}^{{\operatorname{Grp}}}(X_\mathrm{\operatorname{ét}})
.\end{align*}`{=tex} It's not obviously exact on the right, since it's
not quite true that a map into $\operatorname{PGL}_n$ is an invertible
matrix modulo scaling: this is true locally, but it's the
*sheafification* of this, so why is there a surjection? The key input is
that $\operatorname{GL}_n\to \operatorname{PGL}_n$ is smooth, and thus
has sections étale-locally. This map is a
${\mathbb{G}}_m{\hbox{-}}$torsor, which we know are Zariski-locally
trivially, so this sequence is exact in the Zariski topology and thus
also in the étale topology.

Suppose $T$ is an étale-locally trivial
$\operatorname{PGL}_n{\hbox{-}}$torsor, then the LES essentially has the
following map: `
\begin{align*}  
\cdots \to H^2(X_\mathrm{\operatorname{ét}}, \operatorname{PGL}_n) \xrightarrow{\delta} H^2(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m) \to \cdots
.\end{align*}`{=tex} This doesn't make sense *a priori* since this is
not a sequence of abelian sheaves. Let's true to associate to $T$ some
$[T]\in H^2(X_\mathrm{\operatorname{ét}}, {\mathbb{G}}_m)$. We can first
write down
$[T] \in {\check{H}}^1(X_\mathrm{\operatorname{ét}}, \operatorname{PGL}_n)$:
we get a $\operatorname{PGL}_n$ cocycle out a torsor by choosing a
trivializing map $U\to X$ so that
${ \left.{{T}} \right|_{{U}} } = { \left.{{\operatorname{PGL}_n}} \right|_{{U}} }$.
This yields a cocycle in $\operatorname{PGL}_n(U\times_X U)$.

> To be continued.

# Lecture 12 (todo)

# Lecture 13 (todo)

# Lecture 14 (todo)

# Lecture 15 (todo)

# Lecture 16 (todo)

# Lecture 17 (todo)

# Lecture 18 (todo)

# Lecture 19 (todo)

# Lecture 20 (todo)

# Lecture 21 (todo)

# Lecture 22 (todo)

# Lecture 23 (todo)

# Lecture 24 (todo)

# Lecture 25 (todo)

# Lecture 26 (todo)

# Lecture 27 (todo)

# Lecture 28 (todo)

# Lecture 29 (todo)

# Lecture 30 (todo)

[^1]: A **geometric point** is a map from $\operatorname{Spec}X$ to an
    algebraically closed field.

[^2]: Note that we'll generalize Betti numbers so this makes sense in
    general.

[^3]: You should check to make sure you know why this is true!

[^4]: Exercise: justify why the reduction is valid.

[^5]: Here $H^i_c$ is compactly supported cohomology, we'll define this
    later in the course.

[^6]: Intersection with a hyperplane in projective space.

[^7]: Here we use the convention that everything is prime to zero. Also
    note that this map is in fact finite étale.

[^8]: What do you have to check? Locally finite presentation, flat, and
    unramified are all preserved. The one that may be tricky is
    remaining unramified, a hint is to use the cotangent exact sequence
    for $\Omega^1_{X/Y}$.

[^9]: Recall that a presheaf on $X$ is a contravariant functor out of
    the category of open sets of $X$.

[^10]: The notion of a presheaf on $X$ doesn't know much about the
    actual topology of $X$. If two spaces have the coarsest topology, so
    the only opens are $X, \emptyset$, then the categories of open sets
    are equivalent, and every presheaf on them will be the same.

[^11]: How to think of this: elements in this collection cover $X$.

[^12]: When $\mathcal{C}$ was the category of open sets of a space $X$,
    the existence of this morphism $Y\to X$ says $Y \subseteq X$ is an
    open subset, and thus intersecting $Y$ with any open cover of $X$
    yields an open cover of $Y$.

[^13]: For spaces, this says if you have a cover of an open set by
    subsets and a cover of each of those subsets, the entire set has
    been covered.

[^14]: The letters don't precisely match up here because this comes from
    a French acronym.

[^15]: Note that a sheaf on the big étale site necessarily restricts to
    a sheaf on the small étale site, since covers in the small site are
    also covers in the big site.

[^16]: Note that this functor goes in the opposite direction of the
    original map.

[^17]: If $U$ was an open cover, this would correspond to intersections
    of elements in the cover.

[^18]: Note that having any cofinal diagrams in a limit means that the
    limit will only see those.

[^19]: I.e. a given section of $\mathcal{G}$ may not be in the image of
    $\mathcal{F}$, but will be after refining the cover.

[^20]: $G$ is a topological group in the inverse limit topology, so a
    discrete $G{\hbox{-}}$module is a module with the discrete topology
    where the $G{\hbox{-}}$action is continuous. In particular, the
    action on any element factors through a finite quotient of $G$.

[^21]: Here a curve will be a smooth separated scheme of finite type of
    dimension 1 over an algebraically closed field. We won't assume
    properness, and we'll generalize to singular curves.

[^22]: A sheaf of groups is a group object in the category
    ${\operatorname{Sh}}^{\operatorname{Set}}$.

[^23]: This is called "90" since Hilbert numbered his theorems in at
    least one of his books.

[^24]: See Hartshorne Ch. 4, or anything that discusses cohomology of
    curves.

[^25]: The **strictly Henselian ring** of $X$ at
    $\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$.

[^26]: The **strictly Henselian field** of $X$ at
    $\mkern 1.5mu\overline{\mkern-1.5mux\mkern-1.5mu}\mkern 1.5mu$.

[^27]: Another one of Daniel's favorite topics in the course!
