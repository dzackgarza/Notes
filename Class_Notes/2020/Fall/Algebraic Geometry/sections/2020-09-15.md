# Tuesday, September 15

## Review

Let $k=\bar k$, we're setting up correspondences
\[  
\text{Ring Theory} 
\quad&\quad 
\text{Geometry/Topology of Affine Varieties}
\\
\text{Polynomial functions} 
\quad&\quad 
\text{Affine space} 
\\
k[x_1, \cdots, x_n]
\quad&\quad 
\AA^n/k \da \ts{\thevector{a_1, \cdots, a_n} \in k^n } 
\\
\text{Maximal ideals } \gens{x_1 - a_1, \cdots, x_n - a_n} 
\quad&\quad 
\text{Points } \thevector{a_1, \cdots, a_n} \in \AA^n/k
\\
\text{Radical ideals } I\normal k[x_1, \cdots, x_n]
\quad&\quad 
\text{Affine varieties } X\subset  \AA^n/k, \text{ vanishing locii of polynomials} 
\\
I &\mapsto V(I) \da \ts{a\st f(a) = 0 \forall f\in I} \\
I(X) \da \ts{f \st \restrictionof{f}{X} = 0} &\mapsfrom X 
\\
\text{Radical ideals containing $I(X)$, i.e. ideals in $A(X)$} 
\quad&\quad 
\text{closed subsets of $X$, i.e. affine subvarieties}
\\
A(X) \text{ is a domain}
\quad&\quad 
\text{$X$ irreducible}
\\
\text{$A(X)$ is not a direct sum}
\quad&\quad 
\text{$X$ connected} 
\\
\text{Prime ideals in }A(X)
\quad&\quad 
\text{Irreducible closed subsets of }X
\\
\text{Krull dimension $n$ (longest chain of prime ideals)}
\quad&\quad 
\dim X = n,\, \text{(longest chain of irreducible closed subsets)}
.\]

> Recall that we defined the coordinate ring $A(X) \da \kx{n} / I(X)$, which contained no nilpotents.


We had some results about dimension

1. $\dim X<\infty$ and $\dim \AA^n = n$.
2. $\dim Y + \codim_X Y = \dim X$ when $Y\subset X$ is irreducible.
3. Only over $\bar k = k$, $\codim_X V(f) = 1$.

:::{.example}
Take $V(x^2+y^2) \subset \AA^2/\RR$
:::


:::{.definition title="?"}
An affine variety $Y$ of

- $\dim Y = 1$ is a **curve**,
- $\dim Y = 2$ is a **surface**,
- $\codim_X Y = 1$ is a **hypersurface in $X$**
:::

Question:
Is every hypersurface the vanishing locus of a *single* polynomials $f\in A(X)$?

Answer:
This is true iff $A(X)$ is a UFD.


:::{.definition title="Codimension in a Ring"}
$\codim_R \mfp$ is the length of the longest chain 
$$P_0 \subsetneq P_1 \subsetneq \cdots \subsetneq P_n = \mfp.$$
:::

Recall that $f$ is irreducible if $f = f_1 f_2 \implies f_i \in R\units$ for one $i$, and $f$ is prime iff $\gens{f}$ is a prime ideal, or equivalently $f\divides ab \implies f\divides a$ or $f\divides b$.

Note that prime implies irreducible, since $f$ divides itself.

:::{.proposition title="?"}
Let $R$ be a Noetherian domain, then TFAE

a. All prime ideals of codimension 1 are principal.

b. $R$ is a UFD. 
:::


:::{.proof}
$a\implies b$:

Let $f$ be a nonzero non-unit, we'll show it admits a prime factorization.
If $f$ is not irreducible, then $f = f_1 f_1'$, both non-units.
If $f_1'$ is not irreducible, we can repeat this, to get a chain
\[  
\gens{f} \subsetneq \gens{f_1'} \subsetneq \gens{f_2'} \subsetneq \cdots
,\]
which must terminate.

This yields a factorization $f = \prod f_i$ with $f_i$ irreducible.
To show that $R$ is a UFD, it thus suffices to show that the $f_i$ are prime.
Choose a minimal prime ideal containing $f$.
We'll use Krull's Principal Ideal Theorem: if you have a minimal prime ideal $\mfp$ containing $f$, its codimension $\codim_R \mfp$ is one.
By assumption, this implies that $\mfp = \gens{g}$ is principal.
But $g\divides f$ with $f$ irreducible, so $f,g$ differ by a unit, forcing $\mfp = \gens{f}$.
So $\gens{f}$ is a prime ideal.
\

$b\implies a$: 

Let $\mfp$ be a prime ideal of codimension 1.
If $\mfp = \gens{0}$, it is principal, so assume not.
Then there exists some nonzero non-unit $f\in \mfp$, which by assumption has a prime factorization since $R$ is assumed a UFD.
So $f=\prod f_i$.

Since $\mfp$ is a prime ideal and $f\in\mfp$, some $f_i\in \mfp$.
Then $\gens{f_i} \subset \mfp$ and $\mfp$ minimal implies $\gens{f_i} = \mfp$, so $\mfp$ is principal.
:::

:::{.example}
Apply this to $R=A(X)$, we find that there is a bijection
\[  
\codim 1 \text{ prime ideals}
\iff 
\codim 1 \text{ closed irreducible subsets }Y\subset X,\text{ i.e. hypersurfaces}
.\]

Thus every hypersurface $Y\subset X$ is cut out by a single polynomial, so $Y=V(f)$, iff $A(X)$ is a UFD.
:::


