```{=tex}
\newcommand{\ext}{\operatorname{Ext}}
\newcommand{\Ext}{\operatorname{Ext}}
\def\Endo{\operatorname{End}}
\def\Ind{\operatorname{Ind}}
\def\ind{\operatorname{Ind}}
\def\coind{\operatorname{Coind}}
\def\Res{\operatorname{Res}}
\def\Hol{\operatorname{Hol}}
\def\res{\operatorname{Res}}
\def\endo{\operatorname{End}}
\def\ind{\operatorname{Ind}}
\renewcommand{\AA}[0]{{\mathbb{A}}}
\DeclareMathOperator{\Exists}{\exists}
\DeclareMathOperator{\Forall}{\forall}
\newcommand{\Af}[0]{{\mathbb{A}}}
\newcommand{\CC}[0]{{\mathbb{C}}}
\newcommand{\CP}[0]{{\mathbb{CP}}}
\newcommand{\DD}[0]{{\mathbb{D}}}
\newcommand{\FF}[0]{{\mathbb{F}}}
\newcommand{\GF}[0]{{\mathbb{GF}}}
\newcommand{\GG}[0]{{\mathbb{G}}}
\newcommand{\HH}[0]{{\mathbb{H}}}
\newcommand{\HP}[0]{{\mathbb{HP}}}
\newcommand{\KK}[0]{{\mathbb{K}}}
\newcommand{\kk}[0]{{\Bbbk}}
\newcommand{\bbm}[0]{{\mathbb{M}}}
\newcommand{\NN}[0]{{\mathbb{N}}}
\newcommand{\OP}[0]{{\mathbb{OP}}}
\newcommand{\PP}[0]{{\mathbb{P}}}
\newcommand{\QQ}[0]{{\mathbb{Q}}}
\newcommand{\RP}[0]{{\mathbb{RP}}}
\newcommand{\RR}[0]{{\mathbb{R}}}
\newcommand{\SpSp}[0]{{\mathbb{S}}}
\renewcommand{\SS}[0]{{\mathbb{S}}}
\newcommand{\TT}[0]{{\mathbb{T}}}
\newcommand{\ZZ}[0]{{\mathbb{Z}}}
\newcommand{\ZnZ}[0]{\mathbb{Z}/n\mathbb{Z}}
\newcommand{\ZpZ}[0]{\mathbb{Z}/p\mathbb{Z}}
\newcommand{\Qp}[0]{\mathbb{Q}_{(p)}}
\newcommand{\Zp}[0]{\mathbb{Z}_{(p)}}
\newcommand{\Arg}[0]{\operatorname{Arg}}
\newcommand{\PGL}[0]{\operatorname{PGL}}
\newcommand{\GL}[0]{\operatorname{GL}}
\newcommand{\Gl}[0]{\operatorname{GL}}
\newcommand{\gl}[0]{\operatorname{GL}}
\newcommand{\mat}[0]{\operatorname{Mat}}
\newcommand{\Mat}[0]{\operatorname{Mat}}
\newcommand{\Rat}[0]{\operatorname{Rat}}
\newcommand{\Perv}[0]{\operatorname{Perv}}
\newcommand{\Gal}[0]{\operatorname{Gal}}
\newcommand{\Hilb}[0]{\operatorname{Hilb}}
\newcommand{\Quot}[0]{\operatorname{Quot}}
\newcommand{\Art}[0]{\operatorname{Art}}
\newcommand{\red}[0]{\operatorname{red}}
\newcommand{\alg}[0]{\operatorname{alg}}
\newcommand{\Pic}[0]{{\operatorname{Pic}}}
\newcommand{\lcm}[0]{\operatorname{lcm}}
\newcommand{\maps}[0]{\operatorname{Maps}}
\newcommand{\maxspec}[0]{{\operatorname{maxSpec}}}
\newcommand{\Tr}[0]{\operatorname{Tr}}
\newcommand{\adj}[0]{\operatorname{adj}}
\newcommand{\ad}[0]{\operatorname{ad}}
\newcommand{\ann}[0]{\operatorname{Ann}}
\newcommand{\Ann}[0]{\operatorname{Ann}}
\newcommand{\arcsec}[0]{\operatorname{arcsec}}
\newcommand{\ch}[0]{\operatorname{ch}}
\newcommand{\Sp}[0]{{\operatorname{Sp}}}
\newcommand{\syl}[0]{{\operatorname{Syl}}}
\newcommand{\txand}[0]{{\text{ and }}}
\newcommand{\codim}[0]{\operatorname{codim}}
\newcommand{\dom}[0]{\operatorname{dom}}
\newcommand{\txor}[0]{{\text{ or }}}
\newcommand{\txt}[1]{{\text{ {#1} }}}
\newcommand{\Gr}[0]{{\operatorname{Gr}}}
\newcommand{\gr}[0]{{\operatorname{gr}}}
\newcommand{\dcoset}[3]{% 
    {\textstyle #1}
    \mkern-4mu\scalebox{1.5}{$\diagdown$}\mkern-5mu^{\textstyle #2}%
    \mkern-4mu\scalebox{1.5}{$\diagup$}\mkern-5mu{\textstyle #3} }
\newcommand{\grdim}[0]{{\operatorname{gr\,dim}}}
\newcommand{\Aut}[0]{{\operatorname{Aut}}}
\newcommand{\aut}[0]{\operatorname{Aut}}
\newcommand{\Inn}[0]{{\operatorname{Inn}}}
\newcommand{\Out}[0]{{\operatorname{Out}}}
\newcommand{\mltext}[1]{\left\{\begin{array}{c}#1\end{array}\right\}}
\newcommand{\Fun}[0]{{\text{Fun}}}
\newcommand{\SL}[0]{{\text{SL}}}
\newcommand{\PSL}[0]{{\text{PSL}}}
\newcommand{\SO}[0]{{\text{SO}}}
\newcommand{\SU}[0]{{\text{SU}}}
\newcommand{\SP}[0]{{\text{SP}}}
\newcommand{\per}[0]{{\text{Per}}}
\newcommand{\loc}[0]{{\text{loc}}}
\newcommand{\Top}[0]{{\text{Top}}}
\newcommand{\Sch}[0]{{\text{Sch}}}
\newcommand{\sch}[0]{{\text{Sch}}}
\newcommand{\Set}[0]{{\text{Set}}}
\newcommand{\Sets}[0]{{\text{Set}}}
\newcommand{\Grp}[0]{{\text{Grp}}}
\newcommand{\Groups}[0]{{\text{Groups}}}
\newcommand{\Homeo}[0]{{\text{Homeo}}}
\newcommand{\Diffeo}[0]{{\text{Diffeo}}}
\newcommand{\MCG}[0]{{\text{MCG}}}
\newcommand{\set}[0]{{\text{Set}}}
\newcommand{\Tor}[0]{\text{Tor}}
\newcommand{\sets}[0]{{\text{Set}}}
\newcommand{\Sm}[0]{{\text{Sm}_k}}
\newcommand{\orr}[0]{{\text{ or }}}
\newcommand{\annd}[0]{{\text{ and }}}
\newcommand{\bung}[0]{\text{Bun}_G}
\newcommand{\const}[0]{{\text{const.}}}
\newcommand{\disc}[0]{{\text{disc}}}
\newcommand{\op}[0]{^\text{op}}
\newcommand{\id}[0]{\text{id}}
\newcommand{\im}[0]{\operatorname{im}}
\newcommand{\pt}[0]{{\{\text{pt}\}}}
\newcommand{\sep}[0]{^\text{sep}}
```
```{=tex}
\newcommand{\st}[0]{~{\text{s.t.}}~}
\newcommand{\tors}[0]{{\text{tors}}}
\newcommand{\tor}[0]{\text{Tor}}
\newcommand{\height}[0]{\text{ht}}
\newcommand{\cpt}[0]{\text{compact}}
\newcommand{\abs}[1]{{\left\lvert {#1} \right\rvert}}
\newcommand{\stack}[1]{\mathclap{\substack{ #1 }}} 
\newcommand{\qtext}[1]{{\quad \text{#1} \quad}}
\newcommand{\qst}[0]{{\quad \text{such that} \quad}}
\newcommand{\actsonl}[0]{\curvearrowleft}
\newcommand{\actson}[0]{\curvearrowright}
\newcommand{\bd}[0]{{\del}}
\newcommand{\bigast}[0]{{\mathop{\Large \ast}}}
\newcommand{\coker}[0]{\operatorname{coker}}
\newcommand{\cok}[0]{\operatorname{coker}}
\newcommand{\conjugate}[1]{{\overline{{#1}}}}
\newcommand{\converges}[1]{\overset{#1}}
\newcommand{\correspond}[1]{\theset{\substack{#1}}}
\newcommand{\cross}[0]{\times}
\newcommand{\by}[0]{\times}
\newcommand{\dash}[0]{{\hbox{-}}}
\newcommand{\dd}[2]{{\frac{\partial #1}{\partial #2}\,}}
\newcommand{\definedas}[0]{\coloneqq}
\newcommand{\da}[0]{\coloneqq}
\newcommand{\del}[0]{{\partial}}
\newcommand{\directlim}[0]{\varinjlim}
\newcommand{\disjoint}[0]{{\coprod}}
\newcommand{\divides}[0]{{~\Bigm|~}}
\newcommand{\dual}[0]{^\vee}
\newcommand{\sm}[0]{\setminus}
\newcommand{\smz}[0]{\setminus\theset{0}}
\newcommand{\eps}[0]{\varepsilon}
\newcommand{\equalsbecause}[1] {\stackrel{\mathclap{\scriptscriptstyle{#1}}}{=}}
\newcommand{\floor}[1]{{\left\lfloor #1 \right\rfloor}}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\newcommand{\from}[0]{\leftarrow}
\newcommand{\tofrom}[0]{\rightleftharpoons}
\newcommand{\up}[0]{\uparrow}
\newcommand{\generators}[1]{\left\langle{#1}\right\rangle}
\newcommand{\gs}[1]{\left\langle{#1}\right\rangle}
\newcommand{\homotopic}[0]{\simeq}
\newcommand{\injectivelim}[0]{\varinjlim}
\newcommand{\inner}[2]{{\left\langle {#1},~{#2} \right\rangle}}
\newcommand{\union}[0]{\cup}
\newcommand{\Union}[0]{\bigcup}
\newcommand{\intersect}[0]{\cap}
\newcommand{\Intersect}[0]{\bigcap}
\newcommand{\into}[0]{\to}
\newcommand{\inverselim}[0]{\varprojlim}
\newcommand{\inv}[0]{^{-1}}
\newcommand{\mfa}[0]{{\mathfrak{a}}}
\newcommand{\mfb}[0]{{\mathfrak{b}}}
\newcommand{\mfc}[0]{{\mathfrak{c}}}
\newcommand{\mff}[0]{{\mathfrak{f}}}
\newcommand{\mfi}[0]{{\mathfrak{I}}}
\newcommand{\mfm}[0]{{\mathfrak{m}}}
\newcommand{\mfn}[0]{{\mathfrak{n}}}
\newcommand{\mfp}[0]{{\mathfrak{p}}}
\newcommand{\mfq}[0]{{\mathfrak{q}}}
\newcommand{\mfr}[0]{{\mathfrak{r}}}
\newcommand{\lieb}[0]{{\mathfrak{b}}}
\newcommand{\liegl}[0]{{\mathfrak{gl}}}
\newcommand{\lieg}[0]{{\mathfrak{g}}}
\newcommand{\lieh}[0]{{\mathfrak{h}}}
\newcommand{\lien}[0]{{\mathfrak{n}}}
\newcommand{\liesl}[0]{{\mathfrak{sl}}}
\newcommand{\lieso}[0]{{\mathfrak{so}}}
\newcommand{\liesp}[0]{{\mathfrak{sp}}}
\newcommand{\lieu}[0]{{\mathfrak{u}}}
\newcommand{\Lie}[0]{\operatorname{Lie}}
\newcommand{\nilrad}[0]{{\mathfrak{N}}}
\newcommand{\jacobsonrad}[0]{{\mathfrak{J}}}
\newcommand{\mm}[0]{{\mathfrak{m}}}
\newcommand{\pr}[0]{{\operatorname{pr}}}
\newcommand{\mapsvia}[1]{\xrightarrow{#1}}
\newcommand{\mapstovia}[1]{\xmapsto{#1}}
\newcommand{\injects}[0]{\hookrightarrow}
\newcommand{\injectsvia}[1]{\xhookrightarrow{#1}}
\newcommand{\surjects}[0]{\twoheadrightarrow}
\newcommand{\surjectsvia}[2][]{%
  \xrightarrow[#1]{#2}\mathrel{\mkern-14mu}\rightarrow
}
\newcommand{\adjoint}[0]{\leftrightarrows}
\newcommand{\kx}[1]{k[x_1, \cdots, x_{#1}]}
\newcommand{\MM}[0]{{\mathcal{M}}}
\newcommand{\OO}[0]{{\mathcal{O}}}
\newcommand{\imaginarypart}[1]{{\mathcal{Im}({#1})}}
\newcommand{\mca}[0]{{\mathcal{A}}}
\newcommand{\mcb}[0]{{\mathcal{B}}}
\newcommand{\mcc}[0]{{\mathcal{C}}}
\newcommand{\mcd}[0]{{\mathcal{D}}}
\newcommand{\mce}[0]{{\mathcal{E}}}
\newcommand{\mcf}[0]{{\mathcal{F}}}
\newcommand{\mcg}[0]{{\mathcal{G}}}
\newcommand{\mch}[0]{{\mathcal{H}}}
\newcommand{\mci}[0]{{\mathcal{I}}}
\newcommand{\mcj}[0]{{\mathcal{J}}}
\newcommand{\mck}[0]{{\mathcal{K}}}
\newcommand{\mcl}[0]{{\mathcal{L}}}
\newcommand{\mcm}[0]{{\mathcal{M}}}
\newcommand{\mcp}[0]{{\mathcal{P}}}
\newcommand{\mcs}[0]{{\mathcal{S}}}
\newcommand{\mct}[0]{{\mathcal{T}}}
\newcommand{\mcu}[0]{{\mathcal{U}}}
\newcommand{\mcv}[0]{{\mathcal{V}}}
\newcommand{\mcx}[0]{{\mathcal{X}}}
\newcommand{\mcz}[0]{{\mathcal{Z}}}
\newcommand{\cl}[0]{\operatorname{cl}}
\newcommand{\St}[0]{\operatorname{St}}
\newcommand{\trdeg}[0]{\operatorname{trdeg}}
\newcommand{\dist}[0]{\operatorname{dist}}
\newcommand{\Dist}[0]{\operatorname{Dist}}
\newcommand{\crit}[0]{\operatorname{crit}}
\newcommand{\diam}[0]{{\operatorname{diam}}}
\newcommand{\gal}[0]{\operatorname{Gal}}
\newcommand{\diff}[0]{\operatorname{Diff}}
\newcommand{\diag}[0]{\operatorname{diag}}
\newcommand{\soc}[0]{\operatorname{Soc}}
\newcommand{\hd}[0]{\operatorname{Head}}
\newcommand{\grad}[0]{\operatorname{grad}}
\newcommand{\hilb}[0]{\operatorname{Hilb}}
\newcommand{\minpoly}[0]{{\operatorname{minpoly}}}
\newcommand{\Hom}[0]{{\operatorname{Hom}}}
\newcommand{\shom}{\mathscr{H}\text{\kern -3pt {\calligra\large om}}}
\newcommand{\Map}[0]{{\operatorname{Map}}}
\newcommand{\multinomial}[1]{\left(\!\!{#1}\!\!\right)}
\newcommand{\nil}[0]{{\operatorname{nil}}}
\newcommand{\normalneq}{\mathrel{\reflectbox{$\trianglerightneq$}}}
\newcommand{\normal}[0]{{~\trianglelefteq~}}
\newcommand{\norm}[1]{{\left\lVert {#1} \right\rVert}}
\newcommand{\pnorm}[2]{{\left\lVert {#1} \right\rVert}_{#2}}
\newcommand{\notdivides}[0]{\nmid}
\newcommand{\notimplies}[0]{\centernot\implies}
\newcommand{\onto}[0]{\twoheadhthtarrow}
\newcommand{\ord}[0]{{\operatorname{Ord}}}
\newcommand{\pic}[0]{{\operatorname{Pic}}}
\newcommand{\projectivelim}[0]{\varprojlim}
\newcommand{\rad}[0]{{\operatorname{rad}}}
\newcommand{\ralg}[0]{\operatorname{R-alg}}
\newcommand{\kalg}[0]{k\dash\operatorname{alg}}
\newcommand{\rank}[0]{\operatorname{rank}}
\newcommand{\realpart}[1]{{\mathcal{Re}({#1})}}
\newcommand{\Log}[0]{\operatorname{Log}}
\newcommand{\reg}[0]{\operatorname{Reg}}
\newcommand{\restrictionof}[2]{{\left.{#1}\right|_{#2}}}
\newcommand{\ro}[2]{{\left.{#1}\right|_{#2}}}
\newcommand{\rk}[0]{{\operatorname{rank}}}
\newcommand{\evalfrom}[0]{\Big|}
\newcommand{\rmod}[0]{{R\dash\operatorname{mod}}}
\newcommand{\mods}[1]{{{#1}\dash\operatorname{mod}}}
\newcommand{\modr}[0]{{\operatorname{mod}}}
\newcommand{\kmod}[0]{{k\dash\operatorname{mod}}}
\newcommand{\Mod}[0]{{\operatorname{Mod}}}
\newcommand{\rotate}[2]{{\style{display: inline-block; transform: rotate(#1deg)}{#2}}}
\newcommand{\selfmap}[0]{{\circlearrowleft}}
\newcommand{\semidirect}[0]{\rtimes}
\newcommand{\sgn}[0]{\operatorname{sgn}}
\newcommand{\sign}[0]{\operatorname{sign}}
\newcommand{\spanof}[0]{{\operatorname{span}}}
\newcommand{\spec}[0]{\operatorname{Spec}}
\newcommand{\mspec}[0]{\operatorname{mSpec}}
\newcommand{\Jac}[0]{\operatorname{Jac}}
\newcommand{\stab}[0]{{\operatorname{Stab}}}
\newcommand{\stirlingfirst}[2]{\genfrac{[}{]}{0pt}{}{#1}{#2}}
\newcommand{\stirling}[2]{\genfrac\{\}{0pt}{}{#1}{#2}}
\newcommand{\strike}[1]{{\enclose{horizontalstrike}{#1}}}
\newcommand{\suchthat}[0]{{~\mathrel{\Big|}~}}
\newcommand{\st}[0]{{~\mathrel{\Big|}~}}
\newcommand{\supp}[0]{{\operatorname{supp}}}
\newcommand{\sym}[0]{\operatorname{Sym}}
\newcommand{\tensor}[0]{\otimes}
\newcommand{\connectsum}[0]{\mathop{\Large \#}}
\newcommand{\theset}[1]{\left\{{#1}\right\}}
\newcommand{\ts}[1]{\left\{{#1}\right\}}
\newcommand{\gens}[1]{\left\langle{#1}\right\rangle}
\newcommand{\thevector}[1]{{\left[ {#1} \right]}}
\newcommand{\tv}[1]{{\left[ {#1} \right]}}
\newcommand{\too}[1]{{\xrightarrow{#1}}}
\newcommand{\transverse}[0]{\pitchfork}
\newcommand{\trianglerightneq}{\mathrel{\ooalign{\raisebox{-0.5ex}{\reflectbox{\rotatebox{90}{$\nshortmid$}}}\cr$\triangleright$\cr}\mkern-3mu}}
\newcommand{\tr}[0]{\operatorname{Tr}}
\newcommand{\uniformlyconverges}[0]{\rightrightarrows}
\newcommand{\abuts}[0]{\Rightarrow}
\newcommand{\covers}[0]{\rightrightarrows}
\newcommand{\units}[0]{^{\times}}
\newcommand{\nonzero}[0]{^{\bullet}}
\newcommand{\wait}[0]{{\,\cdot\,}}
\newcommand{\wt}[0]{{\operatorname{wt}}}
\renewcommand{\bar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}
\renewcommand{\div}[0]{\operatorname{Div}}
\newcommand{\Div}[0]{\operatorname{Div}}
\renewcommand{\hat}[1]{\widehat{#1}}
\renewcommand{\mid}[0]{\mathrel{\Big|}}
\renewcommand{\qed}[0]{\hfill\blacksquare}
\renewcommand{\too}[0]{\longrightarrow}
\renewcommand{\vector}[1]{\mathbf{#1}}
\let\oldexp\exp
\renewcommand{\exp}[1]{\oldexp\qty{#1}}
\let\oldperp\perp
\renewcommand{\perp}[0]{^\oldperp}
\newcommand*\dif{\mathop{}\!\operatorname{d}}
\newcommand{\ddt}{\tfrac{\dif}{\dif t}}
\newcommand{\ddx}{\tfrac{\dif}{\dif x}}
```
```{=tex}
\DeclareMathOperator{\righttriplearrows} {{\; \tikz{ \foreach \y in {0, 0.1, 0.2} { \draw [-stealth] (0, \y) -- +(0.5, 0);}} \; }}
```
```{=tex}
\renewcommand{\labelitemiii}{$\diamondsuit$}
\renewcommand{\labelitemiv}{$\diamondsuit$}
```
```{=tex}
\newcommand\vecc[2]{\textcolor{#1}{\textbf{#2}}}
```
```{=tex}
\def\colspace{\operatorname{colspace}}
\def\rowspace{\operatorname{rowspace}}
\def\codom{\operatorname{codom}}
\def\range{\operatorname{range}}
\def\nullspace{\operatorname{nullspace}}
\def\projection{\operatorname{Proj}}
```
```{=tex}
\newcommand*{\vertbar}{\rule[-1ex]{0.5pt}{2.5ex}}
\newcommand*{\horzbar}{\rule[.5ex]{2.5ex}{0.5pt}}
```
```{=tex}
\newcommand\aug{\fboxsep=-\fboxrule\!\!\!\fbox{\strut}\!\!\!}
\newcommand\rref{\operatorname{RREF}}
\newcommand{\interior}[0]{^\circ}
\newcommand{\increasesto}[0]{\nearrow}
\newcommand{\decreasesto}[0]{\searrow}
\newcommand{\contains}[0]{\supseteq}
\newcommand\jan{\operatorname{Jan}}
```
```{=tex}
\DeclareMathOperator{\righttriplearrows} {{\; \tikz{ \foreach \y in {0, 0.1, 0.2} { \draw [-stealth] (0, \y) -- +(0.5, 0);}} \; }}
```
Prologue {#prologue .unnumbered}
========

References
----------

-   Gathmann's Algebraic Geometry notes[@AndreasGathmann515]
    <https://www.mathematik.uni-kl.de/~gathmann/class/alggeom-2019/alggeom-2019.pdf>

Notation
--------

`
\begin{align*}  
V(I) && \text{The variety associated to an ideal } I {~\trianglelefteq~}k[x_1, \cdots, x_{n}]
.\end{align*}`{=tex}

```{=tex}
\newpage
```
Friday, August 21
=================

> Ref:
>
> <https://www.mathematik.uni-kl.de/~gathmann/class/alggeom-2019/alggeom-2019.pdf>

General idea: functions a coordinate ring $R[x_1, \cdots, x_n]/I$ will
correspond to the geometry of the variety cut out by $I$.[^1]

::: {.example}
```{=latex}
\begin{example}
```
```{=tex}
\hfill
```
-   $x^2 + y^2 - 1$ defines a circle, say, over ${\mathbb{R}}$

-   $y^2 = x^3-x$ gives an elliptic curve:

    ![](figures/image_2020-08-21-01-04-22.png)

-   $x^n+y^n-1$: does it even contain a ${\mathbb{Q}}{\hbox{-}}$point?
    (Fermat's Last Theorem)

-   $x^2 + 1$, which has no ${\mathbb{R}}{\hbox{-}}$points.

-   $x^2 + y^2 + 1/{\mathbb{R}}$ vanishes nowhere, so its ring of
    functions is not
    ${\mathbb{R}}[x, y] / \left\langle{x^2 + y^2 + 1}\right\rangle$
    (problem: ${\mathbb{R}}$ is not algebraically closed)

-   $x^2 - y^2 = 0$ over ${\mathbb{C}}$ is not a manifold (no chart at
    the origin):

    ![](figures/image_2020-08-21-01-23-32.png)

-   $x+y+1/{\mathbb{F}}_3$, which has 3 points over ${\mathbb{F}}_3^2$,
    but $f(x, y) = (x^3 - x)(y^3-y)$ vanishes at every point

    -   Not possible when algebraically closed (is there nonzero
        polynomial that vanishes on every point in ${\mathbb{C}}$?)

    -   $V(f) = {\mathbb{F}}_3^2$, so the coordinate ring is zero
        instead of ${\mathbb{F}}_3[x, y]/\left\langle{f}\right\rangle$
        (addressed by scheme theory)

```{=latex}
\end{example}
```
:::

::: {.theorem title="Harnack Curve Theorem"}
```{=latex}
\begin{theorem}[Harnack Curve Theorem]
```
If $f \in {\mathbb{R}}[x, y]$ is of degree $d$, then `
\begin{align*}  
\pi_1 V(f) \subseteq {\mathbb{R}}^2 \leq 1 + {(d-1)(d-2) \over 2}
\end{align*}`{=tex}

> Actual statement: the number of connected components is bounded above
> by this quantity.

```{=latex}
\end{theorem}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Take the curve `
\begin{align*}  
X = \left\{{(x, y, z) = (t^3, t^4, t^5) \in {\mathbb{C}}^3 {~\mathrel{\Big|}~}t\in {\mathbb{C}}}\right\}
.\end{align*}`{=tex}

Then $X$ is cut out by three equations:

-   $y^2 = xz$
-   $x^2 = yz$
-   $z^2 = x^2 y$

```{=latex}
\end{example}
```
:::

::: {.exercise}
```{=latex}
\begin{exercise}
```
Show that the vanishing locus of the first two equations above is
$X\cup L$ for $L$ a line.

```{=latex}
\end{exercise}
```
:::

Compare to linear algebra: codimension $d$ iff cut out by exactly $d$
equations.

::: {.example}
```{=latex}
\begin{example}
```
Given the Riemann surface `
\begin{align*}  
y^2 = (x-1)(x-2)\cdots(x-2n)
,\end{align*}`{=tex} how to visualize the solution set?

Fact: on ${\mathbb{C}}$ with some slits, you can consistently choose a
square root of the RHS.

![](figures/image_2020-08-21-01-31-47.png)

Away from $x=1, \cdots, 2n$, there are two solutions for $y$ given $x$.

After gluing along strips, obtain:

![](figures/image_2020-08-21-01-32-48.png)

```{=latex}
\end{example}
```
:::

Tuesday, August 25
==================

Let $k = \mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$
and $R$ a ring containing ideals $I, J$.

::: {.definition title="Radical"}
```{=latex}
\begin{definition}[Radical]
```
Recall that the *radical* of $I$ is defined as `
\begin{align*}  
\sqrt{I} = \left\{{r\in R ~{\text{s.t.}}~r^k\in I \text{ for some } k\in {\mathbb{N}}}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $I = (x_1, x_2^2) \subset {\mathbb{C}}[x_1, x_2]$, so
$I = \left\{{ f_1 x_1 + f_2 x_2 ~{\text{s.t.}}~f_1, f_2 \in {\mathbb{C}}[x_1, x_2]}\right\}$.
Then $\sqrt{I} = (x_1, x_2)$, since
$x_2^2 \in I \implies x_2 \in \sqrt{I}$.

```{=latex}
\end{example}
```
:::

Given $f\in k[x_1, \cdots, x_n]$, take its value at
$a = (a_1, \cdots, a_n)$ and denote it $f(a)$. Set $\deg(f)$ to be the
largest value of $i_1 + \cdots + i_n$ such that the coefficient of
$\prod x_j ^{i_j}$ is nonzero.

::: {.example}
```{=latex}
\begin{example}
```
$\deg(x_1 + x_2^2 + x_1 x_2^3 = 4)$

```{=latex}
\end{example}
```
:::

::: {.definition title="Affine Variety"}
```{=latex}
\begin{definition}[Affine Variety]
```
```{=tex}
\hfill
```
1.  Affine $n{\hbox{-}}$space ${\mathbb{A}}^n = {\mathbb{A}}_k^n$ is
    defined as
    $\left\{{(a_1, \cdots, a_n) {~\mathrel{\Big|}~}a_i \in k}\right\}$.

> Remark: not $k^n$, since we won't necessarily use the vector space
> structure (e.g. adding points).

2.  Let $S\subset k[x_1, \cdots, x_n]$ to be a set of polynomials. Then
    define
    $V(S) = \left\{{x\in {\mathbb{A}}^n ~{\text{s.t.}}~f(x) = 0}\right\} \subset {\mathbb{A}}^n$
    to be an *affine variety*.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
```{=tex}
\hfill
```
-   ${\mathbb{A}}^n = V(0)$.
-   For any point $(a_1, \cdots, a_n)\in {\mathbb{A}}^n$, then
    $V(x_1 - a_1, \cdots, x_n - a_n) = \left\{{a_1, \cdots, a_n}\right\}$
    uniquely determines the point.
-   For any finite set $r_1, \cdots, r_k \in {\mathbb{A}}^1$, there
    exists a polynomial $f(x)$ whose roots are $r_i$.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
We may as well assume $S$ is an ideal by taking the ideal it generates,
$S\subseteq \left\langle{S}\right\rangle = \left\{{\sum g_i f_i {~\mathrel{\Big|}~}g_i \in k[x_1, \cdots, x_n],\, f_i\in S}\right\}$.
Then $V(\left\langle{S}\right\rangle) \subset V(S)$.

Conversely, if $f_1, f_2$ vanish at $x\in {\mathbb{A}}^n$, then
$f_1 + f_2, gf_1$ also vanish at $x$ for all $g\in k[x_1, \cdots, x_n]$.
Thus $V(S) \subset V(\left\langle{S}\right\rangle)$.

```{=latex}
\end{remark}
```
:::

::: {.proposition title="Properties and Definitions of Ideal Operations"}
```{=latex}
\begin{proposition}[Properties and Definitions of Ideal Operations]
```
```{=tex}
\hfill
```
-   $I+J \mathrel{\vcenter{:}}=\left\{{f+g ~{\text{s.t.}}~f\in I,\, g\in J}\right\}$.
-   $IJ \mathrel{\vcenter{:}}=\left\{{\sum_{i=1}^N f_i g_i ~{\text{s.t.}}~f_i\in I,\, g_i\in J, N\in {\mathbb{N}}}\right\}$.
-   If $I+J = \left\langle{1}\right\rangle$ then $I\cap J = IJ$ (coprime
    or comaximal)

```{=latex}
\end{proposition}
```
:::

Note that if $I = \left\langle{a}\right\rangle$ and
$J = \left\langle{b}\right\rangle$, then
$I + J = \left\langle{a}\right\rangle + \left\langle{b}\right\rangle = \left\langle{a, b}\right\rangle$.

::: {.proposition title="Properties of $V$"}
```{=latex}
\begin{proposition}[Properties of $V$]
```
```{=tex}
\hfill
```
1.  If $S_1 \subseteq S_2$ then $V(S_1) \supseteq V(S_2)$.
2.  $V(S_1) \cup V(S_2) = V(S_1 S_2) = V(S_1 \cap S_2)$.
3.  $\bigcap V(S_i) = V\qty{\bigcup S_i}$.

```{=latex}
\end{proposition}
```
:::

We thus have a map `
\begin{align*}  
V: \left\{{\text{Ideals in } k[x_1, \cdots, x_n]}\right\} \to \left\{{\text{Affine varieties in } {\mathbb{A}}^n}\right\}
.\end{align*}`{=tex}

::: {.definition title="The Ideal of a Set"}
```{=latex}
\begin{definition}[The Ideal of a Set]
```
Let $X\subset {\mathbb{A}}^n$ be any set, then *the ideal of $X$* is
defined as `
\begin{align*}  
I(X) \mathrel{\vcenter{:}}=\left\{{f\in k[x_1, \cdots, x_n] ~{\text{s.t.}}~f(x) = 0\, \forall x\in X}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $X$ be the union of the $x_1$ and $x_2$ axes in ${\mathbb{A}}^2$,
then
$I(X) = (x_1 x_2) = \left\{{x_1 x_2 g~{\text{s.t.}}~g\in k[x_1, x_2]}\right\}$.

```{=latex}
\end{example}
```
:::

Note that if $X_1 \subset X_2$ then $I(X_1) \subset I(X_2)$.

::: {.proposition title="The Image of $V$ is Radical"}
```{=latex}
\begin{proposition}[The Image of $V$ is Radical]
```
$I(X)$ is a radical ideal, i.e. $I(X) = \sqrt{I(X)}$.

This is because $f(x)^k = 0 \forall x\in X$ implies $f(x) = 0$ for all
$x\in X$, so $f^k \in I(X)$ and thus $f\in I(X)$.

```{=latex}
\end{proposition}
```
:::

Our correspondence is thus `
\begin{align*}  
\left\{{\substack{\text{Ideals in } k[x_1, \cdots, x_n]}}\right\} &\xrightarrow{V} \left\{{\substack{\text{Affine Varieties}}}\right\} \\
\left\{{\substack{\text{Radical Ideals}}}\right\} &\xleftarrow{I} \left\{{\substack{\text{?}}}\right\}
.\end{align*}`{=tex}

::: {.proposition title="Hilbert Nullstellensatz (Zero Locus Theorem)"}
```{=latex}
\begin{proposition}[Hilbert Nullstellensatz (Zero Locus Theorem)]
```
```{=tex}
\hfill
```
a.  For any affine variety $X$, $V(I(X)) = X$.

b.  For any ideal $J \subset k[x_1, \cdots, x_n]$, $I(V(J)) = \sqrt{J}$.

```{=latex}
\end{proposition}
```
:::

Thus there is a bijection between radical ideals and affine varieties.

Proof of Nullstellensatz
------------------------

::: {.remark}
```{=latex}
\begin{remark}
```
Recall the Hilbert Basis Theorem: any ideal in a finitely generated
polynomial ring over a field is again finitely generated.

```{=latex}
\end{remark}
```
:::

We need to show 4 inclusions, 3 of which are easy.

a: $X \subset V(I(X))$:

-   If $x\in X$ then $f(x) = 0$ for all $f\in I(X)$.
-   So $x\in V(I(X))$, since every $f\in I(X)$ vanishes at $x$.

b: $\sqrt{J} \subset I(V(J))$:

-   If $f\in \sqrt{J}$ then $f^k \in J$ for some $k$.
-   Then $f^k(x) = 0$ for all $x\in V(J)$.
-   So $f(x) = 0$ for all $x\in V(J)$.
-   Thus $f\in I(V(J))$.

c: $V(I(X)) \subset X$:

-   Need to now use that $X$ is an affine variety.
    -   Counterexample: $X = {\mathbb{Z}}^2 \subset {\mathbb{C}}^2$,
        then $I(X) = 0$. But $V(I(X)) = {\mathbb{C}}^2$, but
        ${\mathbb{C}}^2 \not\subset {\mathbb{Z}}^2$.
-   By (b), $I(V(J)) \supset \sqrt{J} \supset J$.
-   Since $V({\,\cdot\,})$ is order-reversing, taking $V$ of both sides
    reverses the containment.
-   So $V(I(V(J))) \subset V(J)$, i.e. $V(I(X)) \subset X$.

d: $I(V(J)) \subset \sqrt{J}$ (hard direction)

::: {.theorem title="1st Version of Nullstellensatz"}
```{=latex}
\begin{theorem}[1st Version of Nullstellensatz]
```
Suppose $k$ is algebraically closed and uncountable (still true in
countable case by a different proof).

Then the maximal ideals in $k[x_1, \cdots, x_n]$ are of the form
$(x_1 - a_1, \cdots, x_n - a_n)$.

```{=latex}
\end{theorem}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Let ${\mathfrak{m}}$ be a maximal ideal, then by the Hilbert Basis
Theorem, ${\mathfrak{m}}= \left\langle{f_1, \cdots, f_r}\right\rangle$
is finitely generated.

Let $L = {\mathbb{Q}}[\left\{{c_i}\right\}]$ where the $c_i$ are all of
the coefficients of the $f_i$ if $\operatorname{ch}(K) = 0$, **or**
${\mathbb{F}}_p[\left\{{c_i}\right\}]$ if $\operatorname{ch}(k) = p$.
Then $L\subset k$.

Define ${\mathfrak{m}}_0 = {\mathfrak{m}}\cap L[x_1, \cdots, x_n]$. Note
that by construction, $f_i \in {\mathfrak{m}}_0$ for all $i$, and we can
write ${\mathfrak{m}}= {\mathfrak{m}}_0 \cdot k[x_1, \cdots, x_n]$.

**Claim**: ${\mathfrak{m}}_0$ is a maximal ideal.

If it were the case that `
\begin{align*}  
{\mathfrak{m}}_0 \subsetneq {\mathfrak{m}}_0' \subsetneq L[x_1, \cdots, x_n]
,\end{align*}`{=tex} then `
\begin{align*}  
{\mathfrak{m}}_0\cdot k[x_1, \cdots, x_n] \subsetneq {\mathfrak{m}}_0'\cdot k[x_1, \cdots, x_n]  \subsetneq k[x_1, \cdots, x_n]
.\end{align*}`{=tex}

> So far: constructed a smaller polynomial ring and a maximal ideal in
> it.

Thus $L[x_1, \cdots, x_n]/{\mathfrak{m}}_0$ is a field that is finitely
generated over either ${\mathbb{Q}}$ or ${\mathbb{F}}_p$.

::: {.theorem title="Noether Normalization"}
```{=latex}
\begin{theorem}[Noether Normalization]
```
Any finitely-generated field extension $k_1 \hookrightarrow k_2$ is a
finite extension of a purely transcendental extension, i.e. there exist
$t_1, \cdots, t_\ell$ such that $k_2$ is finite over
$k_1(t_1, \cdots, t_\ell)$.

```{=latex}
\end{theorem}
```
:::

> Note: this theorem is perhaps more important than the Nullstellensatz!

Thus $L[x_1, \cdots, x_n]/{\mathfrak{m}}_0$ is finite over some
${\mathbb{Q}}(t_1, \cdots, t_n)$, and since $k$ is uncountable, there
exists an embedding ${\mathbb{Q}}(t_1, \cdots, t_n) \hookrightarrow k$.

> Use the fact that there are only countably many polynomials over a
> countable field.

This extends to an embedding of
$\phi: L[x_1, \cdots, x_n]/{\mathfrak{m}}_0 \hookrightarrow k$ since $k$
is algebraically closed. Letting $a_i$ be the image of $x_i$ under
$\phi$, then $f(a_1, \cdots, a_n) = 0$ by construction,
$f_i \in (x_i - a_i)$ implies that ${\mathfrak{m}}= (x_i - a_i)$ by
maximality.

```{=latex}
\end{proof}
```
:::

Thursday, August 27
===================

Recall Hilbert's Nullstellensatz:

a.  For any affine variety, $V(I(X)) = X$.

b.  For any ideal $J{~\trianglelefteq~}k[x_1, \cdots, x_n]$,
    $I(V(J)) = \sqrt{J}$.

So there's an order-reversing bijection `
\begin{align*}  
\left\{{\substack{\text{Radical ideals } k[x_1, \cdots, x_n]}}\right\} \to{V({\,\cdot\,})}{I({\,\cdot\,})}
\left\{{\substack{\text{Affine varieties in } {\mathbb{A}}^n}}\right\}
.\end{align*}`{=tex}

In proving $I(V(J)) \subseteq \sqrt{J}$, we had an important lemma
(Noether Normalization): the maximal ideals of $k[x_1, \cdots, x_n]$ are
of the form $\left\langle{x-a_1, \cdots, x-a_n}\right\rangle$.

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
If $V(I)$ is empty, then $I = \left\langle{1}\right\rangle$.

> Slogan: the only ideals that vanish nowhere are trivial. No common
> vanishing locus $\implies$ trivial ideal, so there's a linear
> combination that equals 1.

```{=latex}
\end{corollary}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
By contrapositive, suppose $I\neq \left\langle{1}\right\rangle$. By
Zorn's Lemma, these exists a maximal ideals ${\mathfrak{m}}$ such that
$I \subset {\mathfrak{m}}$. By the order-reversing property of
$V({\,\cdot\,})$, $V({\mathfrak{m}}) \subseteq V(I)$. By the
classification of maximal ideals,
${\mathfrak{m}}= \left\langle{x-a_1, \cdots, x-a_n}\right\rangle$, so
$V({\mathfrak{m}}) = \left\{{a_1, \cdots, a_n}\right\}$ is nonempty.

```{=latex}
\end{proof}
```
:::

Returning to the proof that $I(V(J)) \subseteq \sqrt{J}$: let
$f\in V(I(J))$, we want to show $f\in \sqrt{J}$. Consider the ideal
$\tilde J \mathrel{\vcenter{:}}= J + \left\langle{ft - 1}\right\rangle \subseteq k[x_1, \cdots, x_n, t]$.

Observation: $f = 0$ on all of $V(J)$ by the definition of $I(V(J))$.
But $ft-1 \neq 0$ if $f=0$, so
$V(\tilde J) = V(G) \cap V(ft-1) = \emptyset$.

![Effect, a hyperbolic tube around $V(J)$, so both can't
vanish](figures/image_2020-08-27-09-56-33.png)

Applying the corollary $\tilde J = (1)$, so
$1 = \left\langle{ft-1}\right\rangle g_0(x_1, \cdots, x_n, t) + \sum f_i g_i(x_1, \cdots, x_n, t)$
with $f_i \in J$. Let $t^N$ be the largest power of $t$ in any $g_i$.
Thus for some polynomials $G_i$, we have `
\begin{align*}  
f^N \mathrel{\vcenter{:}}=(ft-1) G_0(x_1, \cdots, x_n, ft) + \sum f_i G_i(x_1, \cdots, x_n, ft)
\end{align*}`{=tex} noting that $f$ does not depend on $t$.

Now take $k[x_1, \cdots, x_n, t]/\left\langle{ft-1}\right\rangle$, so
$ft=1$ in this ring. This kills the first term above, yielding `
\begin{align*}  
f^N = \sum f_i G_i(x_1, \cdots, x_n, 1) \in k[x_1, \cdots, x_n, t]/\left\langle{ft-1}\right\rangle
.\end{align*}`{=tex}

Observation: there is an inclusion `
\begin{align*}  
k[x_1, \cdots, x_n] \hookrightarrow
k[x_1, \cdots, x_n, t]/\left\langle{ft-1}\right\rangle
.\end{align*}`{=tex}

::: {.exercise}
```{=latex}
\begin{exercise}
```
Why is this true?

```{=latex}
\end{exercise}
```
:::

Since this is injective, this identity also holds in
$k[x_1, \cdots, x_n]$. But $f_i\in J$, so $f\in \sqrt{I}$.

::: {.example}
```{=latex}
\begin{example}
```
Consider $k[x]$. If $J\subset k[x]$ is an ideal, it is principal, so
$J = \left\langle{f}\right\rangle$. We can factor
$f(x) = \prod_{i=1}^k (x-a_i)^{n_i}$ and
$V(f) = \left\{{a_1, \cdots, a_k}\right\}$. Then
$I(V(f)) = \left\langle{(x-a_1)(x-a_2)\cdots(x-a_k)}\right\rangle = \sqrt{J} \subsetneq J$.
Note that this loses information.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $J = \left\langle{x-a_1, \cdots, x-a_n}\right\rangle$, then
$I(V(J)) = \sqrt{J} = J$ with $J$ maximal. Thus there is a
correspondence `
\begin{align*}  
\left\{{\substack{\text{Points of } {\mathbb{A}}^n}}\right\} \iff 
\left\{{\substack{\text{Maximal ideals of }k[x_1, \cdots, x_n]}}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.theorem title="Properties of $I$"}
```{=latex}
\begin{theorem}[Properties of $I$]
```
```{=tex}
\hfill
```
a.  $I(X_1 \cup X_2) = I(X_1) \cap I(X_2)$.

b.  $I(X_1) \cap I(X_2) = \sqrt{I(X_1) + I(X_2)}$.

```{=latex}
\end{theorem}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
We proved (a) on the variety side.

For (b), by the Nullstellensatz, $X_i = V(I(X_i))$, so `
\begin{align*}  
I(X_1\cap X_2) 
&=
I\qty{ VI(X_1) \cap VI(X_2)} \\
&=
IV\qty{I(X_1) + I(X_2)} \\
&= \sqrt{I(X_1) + I(X_2)}
.\end{align*}`{=tex}

```{=latex}
\end{proof}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Example of property (b):

Take $X_1 = V(y-x^2)$ and $X_2 = V(y)$, a parabola and the
$x{\hbox{-}}$axis.

![Image](figures/image_2020-08-27-10-26-45.png)

Then $X_1 \cap X_2 = \left\{{(0, 0)}\right\}$, and
$I(X_1) + I(X_2) = \left\langle{y-x^2, y}\right\rangle = \left\langle{x^2, y}\right\rangle$,
but
$I(X_1 \cap X_2) = \left\langle{x, y}\right\rangle = \sqrt{\left\langle{x^2, y}\right\rangle}$.

```{=latex}
\end{example}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
If $f, g\in k[x_1, \cdots, x_n]$, and suppose $f(x) = g(x)$ for all
$x\in {\mathbb{A}}^n$. Then $f = g$.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Since $f-g$ vanishes everywhere,
$f-g \in I({\mathbb{A}}^n) = I(V(0)) = \sqrt{0} = 0$.

```{=latex}
\end{proof}
```
:::

More generally suppose $f(x) = g(x)$ for all $x\in X$, where $X$ is some
affine variety. Then by definition, $f-g \in I(X)$, so a "natural" space
of functions on $X$ is $k[x_1,\cdots, x_n]/I(X)$.

::: {.definition title="Coordinate Ring"}
```{=latex}
\begin{definition}[Coordinate Ring]
```
For an affine variety $X$, the *coordinate ring of $X$* is `
\begin{align*}  
A(X) \mathrel{\vcenter{:}}= k[x_1, \cdots, x_n]/ I(X)
.\end{align*}`{=tex}

Elements $f\in A(X)$ are called *polynomial* or *regular* functions on
$X$.

```{=latex}
\end{definition}
```
:::

Observation: The constructions $V({\,\cdot\,}), I({\,\cdot\,})$ work
just as well for $A(X)$ and $X$.

Given any $S\subset A(Y)$ for $Y$ an affine variety, `
\begin{align*}  
V(S) = V_Y(S) \mathrel{\vcenter{:}}=\left\{{x\in Y ~{\text{s.t.}}~f(x) = 0\,\,\forall f\in S}\right\}
.\end{align*}`{=tex}

Given $X\subset Y$ a subset, `
\begin{align*}  
I(X) = I_Y(X) \mathrel{\vcenter{:}}=\left\{{f\in A(Y) ~{\text{s.t.}}~f(x) = 0\,\,\forall x\in X}\right\} \subseteq A(Y)
.\end{align*}`{=tex}

::: {.example}
```{=latex}
\begin{example}
```
For $X\subset Y \subset {\mathbb{A}}^n$, we have
$I(X) \supset I(Y) \supset I({\mathbb{A}}^n)$, so we have maps
```{=tex}
\begin{tikzcd}
A({\mathbb{A}}^n) \ar[rr, twoheadrightarrow, "{\,\cdot\,}/I(X)", bend left] \ar[r, "{\,\cdot\,}/I(Y)", twoheadrightarrow] &A(Y)\ar[r, twoheadrightarrow, "{\,\cdot\,}/I(X)"] &A(X) \\
\end{tikzcd}
```
```{=latex}
\end{example}
```
:::

::: {.theorem title="?"}
```{=latex}
\begin{theorem}[?]
```
Let $X\subset Y$ be an affine subvariety, then

a.  $A(X) = A(Y) / I_Y(X)$

b.  There is a correspondence `
    \begin{align*}  
    \left\{{\substack{\text{Affine subvarieties of }Y}}\right\} 
    &\iff \left\{{\substack{\text{Radical ideals in }A(Y)}}\right\} \\
    X &\mapsto I_Y(X) \\
    V_Y(J) &\mapsfrom J
    .\end{align*}`{=tex}

```{=latex}
\end{theorem}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Properties are inherited from the case of ${\mathbb{A}}^n$, see exercise
in Gathmann.

```{=latex}
\end{proof}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $Y = V(y-x^2) \subset {\mathbb{A}}^2/{\mathbb{C}}$ and
$X = \left\{{(1, 1)}\right\} = V(x-1, y-1)\subset {\mathbb{A}}^2/{\mathbb{C}}$.

Then there is an inclusion
$\left\langle{y-x^2}\right\rangle \subset \left\langle{x-1, y-1}\right\rangle$
(e.g. by Taylor expanding about the point $(1, 1)$), and there is a map

```{=tex}
\begin{tikzcd}
A({\mathbb{A}}^n)\ar[r]\ar[d, equal] & A(Y) \ar[r]\ar[d, equal] & A(X)\ar[d, equal] \\
k[x, y]\ar[r] & k[x, y]/\left\langle{y-x^2}\right\rangle\ar[r] & k[x, y]/\left\langle{x-1, y-1}\right\rangle
\end{tikzcd}
```
```{=latex}
\end{example}
```
:::

Tuesday, September 01
=====================

Last time:
$V(I) = \left\{{x\in {\mathbb{A}}^n ~{\text{s.t.}}~f(x) = 0 \, \forall x\in I}\right\}$
and
$I(X) = \left\{{f\in k[x_1, \cdots, x_n] ~{\text{s.t.}}~f(x) = 0\, \forall x\in X}\right\}$.
We proved the Hilbert Nullstellensatz $I(V(J)) = \sqrt{J}$, defined the
coordinate ring of an affine variety $X$ as
$A(X) \mathrel{\vcenter{:}}= k[x_1, \cdots, x_n] / I(X)$, the ring of
"regular" (polynomial) functions on $X$.

Recall that a *topology* on $X$ can be defined as a collection of
"closed" subsets of $X$ that are closed under arbitrary intersections
and finite unions. A subset $Y\subset X$ inherits a subspace topology
with closed sets of the form $Z\cap Y$ for $Z\subset X$ closed.

::: {.definition title="Zariski Topology"}
```{=latex}
\begin{definition}[Zariski Topology]
```
Let $X$ be an affine variety. The closed sets are affine subvarieties
$Y\subset X$.

```{=latex}
\end{definition}
```
:::

We have $\emptyset, X$ closed, since

1.  $V_X(1) = \emptyset$,
2.  $V_X(0) = X$

Closure under finite unions: Let $V_X(I), V_X(J)$ be closed in $X$ with
$I, J \subset A(X)$ ideals. Then $V_X(IJ) = V_X(I) \cup V_X(J)$.

Closure under intersections: We have
$\bigcap_{i\in \sigma} V_X(J) = V_X\qty{ \sum_{i\in \sigma} J_i}$.

::: {.remark}
```{=latex}
\begin{remark}
```
There are few closed sets, so this is a "weak" topology.

```{=latex}
\end{remark}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Compare the classical topology on ${\mathbb{A}}^1/{\mathbb{C}}$ to the
Zariski topology.

Consider the set
$A\mathrel{\vcenter{:}}=\left\{{x\in {\mathbb{A}}^1/{\mathbb{C}}~{\text{s.t.}}~{\left\lVert {x} \right\rVert} \leq 1}\right\}$,
which is closed in the classical topology.

But $A$ is not closed in the Zariski topology, since the closed subsets
are finite sets or the whole space.

> Here the topology is in fact the cofinite topology.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $f: {\mathbb{A}}^1/k\to {\mathbb{A}}^1/k$ be any injective map. Then
$f$ is necessarily continuous wrt the Zariski topology.

```{=latex}
\end{example}
```
:::

Thus the notion of continuity is too weak in this situation.

::: {.example}
```{=latex}
\begin{example}
```
Consider $X\times Y$ a product of affine varieties. Then there is a
product topology where open sets are of the form
$\bigcup_{i=1}^n U_i \times V_i$ with $U_i, V_i$ open in $X, Y$
respectively.

This is the wrong topology! On
${\mathbb{A}}^1 \times{\mathbb{A}}^1 = {\mathbb{A}}^2$, the diagonal
$\Delta \mathrel{\vcenter{:}}= V(x-y)$ is closed in the Zariski topology
on ${\mathbb{A}}^2$ but not in the product topology.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Consider ${\mathbb{A}}^2/{\mathbb{C}}$, so the closed sets are curves
and points. Observation:
$V(x_1 x_2 ) \subset {\mathbb{A}}^2/{\mathbb{C}}$ decomposed into the
union of the coordinate axes $X_1 \mathrel{\vcenter{:}}= V(x_1)$ and
$X_2 \mathrel{\vcenter{:}}= V(x_2)$. The Zariski topology can detect
these decompositions.

```{=latex}
\end{example}
```
:::

::: {.definition title="Irreducibility and Connectedness"}
```{=latex}
\begin{definition}[Irreducibility and Connectedness]
```
Let $X$ be a topological space.

a.  $X$ is *reducible* iff there exist nonempty proper closed subsets
    $X_1 ,X_2 \subset X$ such that $X = X_1 \cup X_2$. Otherwise, $X$ is
    said to be *irreducible*.

b.  $X$ is *disconnected* if there exist $X_1, X_2 \subset X$ such that
    $X = X_1 {\coprod}X_2$. Otherwise, $X$ is said to be *connected*.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
$V(x_1 x_2)$ is reducible but connected.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
${\mathbb{A}}^1/{\mathbb{C}}$ is *not* irreducible, since we can write
${\mathbb{A}}^1/{\mathbb{C}}= \left\{{{\left\lVert {x} \right\rVert} \leq 1}\right\} \cup\left\{{{\left\lVert {x} \right\rVert} \geq 1}\right\}$.

```{=latex}
\end{remark}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $X$ be a disconnected affine variety with $X = X_1 {\coprod}X_2$.
Then $A(X) \cong A(X_1) \times A(X_2)$.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
We have $X_1 \cup X_2 = X$, so $I(X_1) \cap I(X_2) = I(X) = (0)$ in the
coordinate ring $A(X)$ (recalling that it is a quotient by $I(X)$.)

Since $X_1 \cap X_1 \emptyset$, we have `
\begin{align*}  
I(X_1 \cap X_2) = \sqrt{I(X_1) + I(X_2) } = I(\emptyset) = \left\langle{1}\right\rangle
.\end{align*}`{=tex}

Thus $I(X_1) + I(X_2) = \left\langle{1}\right\rangle$, and by the
Chinese Remainder Theorem, the following map is an isomorphism: `
\begin{align*}  
A(X) \to A(X)/I(X_1) \times A(X) / I(X_2)
.\end{align*}`{=tex}

But the codomain is precisely $A(X_1) \times A(X_2)$.

```{=latex}
\end{proof}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
An affine variety $X$ is irreducible $\iff$ $A(X)$ is an integral
domain.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
$\implies$: By contrapositive, suppose $f_1, f_2 \in A(X)$ are nonzero
with $f_1 f_2 = 0$. Let $X_i = V(f_i)$, then
$X= V(0) = V(f_1 f_2) = X_1 \cup X_2$ which are closed and proper since
$f_i \neq 0$.

\

$\impliedby$: Suppose $X$ is reducible with $X = X_1 \cup X_2$ with
$X_i$ proper and closed. Define $J_i \mathrel{\vcenter{:}}= I(X_i)$, and
note $J_i \neq 0$ because $V(J_i) = V(I(X_i)) = X_i$ by part (a) of the
Nullstellensatz.

So there exists a nonzero $f_i \in J_i = I(X_i)$, so $f_i$ vanishes on
$X_i$. But then $V(f_1) \cup V(f_2) \supset X_1 \cup X_2 = X$, so
$X= V(f_1 f_2)$ and $f_1 f_2 \in I(X) = \left\langle{0}\right\rangle$
and $f_1 f_2 = 0$. So $A(X)$ is not a domain.

```{=latex}
\end{proof}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $X = \left\{{p_1, \cdots, p_d}\right\}$ be a finite set in
${\mathbb{A}}^n$. The Zariski topology on $X$ is the discrete topology,
and $X = {\coprod}\left\{{p_i}\right\}$. So `
\begin{align*}  
A(X) = A({\coprod}\left\{{p_i}\right\}) = \prod_{i=1}^d A({\left\{{p_i}\right\}}) = \prod_{i=1}^d k[x_1, \cdots, x_n] / \left\langle{x_j - a_j(p_i)}\right\rangle_{j=1}^d
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Set $V(x_1 x_2) = X$, then
$A(X) = k[x_1, x_2]/ \left\langle{x_1 x_2}\right\rangle$. This not being
a domain (since $x_1 x_2 = 0$) corresponds to $X = V(x_1) \cup V(x_2)$
not being irreducible.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
${\mathbb{A}}^2/k$ is irreducible since $k[x_1, \cdots x_n]$ is a
domain.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $X_1$ be the $xy$ plane and $X_2$ be the line parallel to the
$y{\hbox{-}}$axis through ${\left[ {0,0,1} \right]}$, and let
$X= X_1 {\coprod}X_2$. Then $X_1 = V(z)$ and $X_2 = V(x, z-1)$, and
$I(X) = \left\langle{z}\right\rangle \cdots \left\langle{x, z-1}\right\rangle= \left\langle{xz, z^2 - z}\right\rangle$.

Then the coordinate ring is given by
$A(X) = {\mathbb{C}}[x, y, z] / \left\langle{xz, z^2 - z}\right\rangle = {\mathbb{C}}[x, y, z] / \left\langle{z}\right\rangle \oplus {\mathbb{C}}[x, y,z] / \left\langle{x, z-1}\right\rangle$.

![Image](figures/image_2020-09-01-10-43-00.png)

```{=latex}
\end{example}
```
:::

Thursday, September 03
======================

Recall that the Zariski topology is defined on an affine variety
$X = V(J)$ with $J {~\trianglelefteq~}k[x_1, \cdots, x_n]$ by describing
the closed sets.

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
$X$ is irreducible if its coordinate ring $A(X)$ is a domain.

```{=latex}
\end{proposition}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
There is a 1-to-1 correspondence `
\begin{align*}  
\left\{{\substack{\text{Irreducible subvarieties} \\ \text{of }X}}\right\}
\iff
\left\{{\substack{\text{Prime ideals} \\ \text{in }A(X)}}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Suppose $Y\subset X$ is an affine subvariety. Then `
\begin{align*}  
A(X) / I_X(Y) = A(Y)
.\end{align*}`{=tex}

By NSS, there is a bijection between subvarieties of $X$ and radical
ideals of $A(X)$ where $Y\mapsto I_X(Y)$. A quotient is a domain iff
quotienting by a prime ideal, so $A(Y)$ is a domain iff $I_X(Y)$ is
prime.

```{=latex}
\end{proof}
```
:::

Recall that ${\mathfrak{p}}{~\trianglelefteq~}R$ is prime when
$fg\in {\mathfrak{p}}\iff f\in {\mathfrak{p}}$ or $g\in {\mathfrak{p}}$.
Thus
$\mkern 1.5mu\overline{\mkern-1.5muf\mkern-1.5mu}\mkern 1.5mu \mkern 1.5mu\overline{\mkern-1.5mug\mkern-1.5mu}\mkern 1.5mu = 0$
in $R/{\mathfrak{p}}$ implies
$\mkern 1.5mu\overline{\mkern-1.5muf\mkern-1.5mu}\mkern 1.5mu = 0$ or
$\mkern 1.5mu\overline{\mkern-1.5mug\mkern-1.5mu}\mkern 1.5mu = 0$ in
$R/{\mathfrak{p}}$, i.e. $R/{\mathfrak{p}}$ is a domain.

Finally note that prime ideals are radical (easy proof).

::: {.example}
```{=latex}
\begin{example}
```
Consider ${\mathbb{A}}^2/{\mathbb{C}}$ and some subvarieties $C_i$:

![Subvarieties](figures/image_2020-09-03-09-47-09.png)

Then irreducible subvarieties correspond to prime ideals in
${\mathbb{C}}[x, y]$. Here $C_1, C_3$ correspond to $V(f), V(g)$ for
$f,g$ irreducible polynomials, whereas $C_2$ corresponds to a maximal
ideal, i.e. $V(x_1 - a_1, x_2 - a_2)$.

Note that $I(C_1 \cup C_2 \cup C_3)$ is not a prime ideal, since the
variety is reducible as the union of 3 closed subsets.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
A finite set is irreducible iff it contains only one point.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Any irreducible topological space is connected, since irreducible
requires a union but connectedness requires a *disjoint* union.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
${\mathbb{A}}^n/k$ is irreducible: by prop 2.8, its irreducible iff the
coordinate ring is a domain. However
$A({\mathbb{A}}^n) = k[x_1, \cdots, x_n]$, which is a domain.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
$V(x_1 x_2)$ is not irreducible, since it's equal to
$V(x_1) \cup V(x_2)$.

```{=latex}
\end{example}
```
:::

::: {.definition title="Noetherian Space"}
```{=latex}
\begin{definition}[Noetherian Space]
```
A *Noetherian* topological space $X$ is a space with no infinite
strictly decreasing sequence of closed subsets.

```{=latex}
\end{definition}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
An affine variety $X$ with the zariski topology is a noetherian space.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Let $X_0 \supsetneq X_1 \supsetneq \cdots$ be a decreasing sequence of
closed subspaces. Then $I(X_0) \subsetneq I(X_1) \subsetneq$. Note that
these containments are strict, otherwise we could use $V(I(X_1)) = X_1$
to get an equality in the original chain.

Recall that a ring $R$ is Noetherian iff every ascending chain of ideals
terminates. Thus it suffices to show that $A(X)$ is Noetherian.

We have $A(X) = k[x_1, \cdots, x_{n}] / I(X)$, and if this had an
infinite chain $I_1 \subsetneq I_2 \subsetneq \cdots$ lifts to a chain
in $k[x_1, \cdots, x_{n}]$, which is Noetherian. A useful fact: $R$
noetherian implies that $R[x]$ is noetherian, and fields are always
noetherian.

```{=latex}
\end{proof}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Any subspace $A\subset X$ of a noetherian space is noetherian. To see
why, suppose we have a chain of closed sets in the subspace topology, `
\begin{align*}  
A\cap X_0 \supsetneq A\cap X_1 \supsetneq \cdots
.\end{align*}`{=tex}

Then $X_0 \supsetneq X_1 \supsetneq \cdots$ is a strictly decreasing
chain of closed sets in $X$. Why strictly decreasing:
$\cap^n X_i = \cap^{n+1} X_i \implies A\cap^n X_i = A\cap^{n+1} X_i$, a
contradiction.

```{=latex}
\end{remark}
```
:::

::: {.proposition title="Important"}
```{=latex}
\begin{proposition}[Important]
```
Every noetherian space $X$ is a finite union of irreducible closed
subsets, i.e. $X = \bigcup_{i=1}^k X_i$. If we further assume
$X_i \not\subset X_j$ for all $i, j$, then the $X_i$ are unique up to
permutation.

```{=latex}
\end{proposition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
The $X_i$ are the **components** of $X$. In the previous example
$C_1 \cup C_2 \cup C_3$ has three components.

```{=latex}
\end{remark}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
If $X$ is irreducible, then $X=X$ and this holds.

Otherwise, write $X = X_1 \cup X_2$ with $X_i$ proper closed subsets. If
$X_1$ and $X_1'$ are irreducible, we're done, so otherwise suppose wlog
$X_1'$ is not irreducible.

Then we can express $X = X_1 \cup\qty{X_2 \cup X_2'}$ with
$X_2, X_2' \subset X_1'$ closed and proper.

Thus we can obtain a tree whose leaves are proper closed subsets:

![Image](figures/image_2020-09-03-10-15-53.png)

This tree terminates because $X$ is Noetherian: if it did not, this
would generate an infinite decreasing chain of subspaces.

We now want to show that the decomposition is unique if no two
components are contained in the other.

Suppose `
\begin{align*}  
X= \bigcup_{i=1}^k X_i = \bigcup_{j=1}^\ell X_j'
.\end{align*}`{=tex}

Note that $X_i \subset X$ implies that
$X_i = \bigcup_{j=1}^\ell X_i \cap X_j'$. But $X_i$ is irreducible and
this would express $X_i$ as a union of proper closed subsets, so some
$X_i \cap X_j'$ is *not* a proper closed subset.

Thus $X_i = X_i \cap X_j'$ for some $j$, which forces
$X_i \subset X_j'$. Applying the same argument to $X_j'$ to obtain
$X_j' \subset X_k$ for some $k$.

Then $X_i \subset X_j' \subset X_k$, but $X_ i \not\subset X_j$ when
$j\neq i$. Thus $X_i = X_j' = X_k$, forcing the $X_i$ to be unique up to
permutation.

```{=latex}
\end{proof}
```
:::

Recall from ring theory: for $I\subset R$ and $R$ noetherian, $I$ has a
*primary decomposition* $I = \bigcap_{i=1}^k Q_i$ with $\sqrt{Q_i}$
prime. Assuming the $Q_i$ are minimal in the sense that
$\sqrt{Q_i} \not\subset \sqrt{Q_j}$ for any $i, j$, this decomposition
is unique.

Applying this to $I(X) {~\trianglelefteq~}k[x_1, \cdots, x_{n}] = R$
yields `
\begin{align*}  
I(X) = \bigcap_{i=1}^k Q_i 
\implies
X  = V(I(X)) = \bigcup_{i=1}^k V(Q_i)
.\end{align*}`{=tex}

Letting $P_i = \sqrt{Q_i}$, noting that the $P_i$ are prime and thus
radical, we have $V(Q_i) = V(P_i)$. Writing $X = \bigcup V(P_i)$, we
have $I(V(P_i)) = P_i$ and thus $A(V(P_i)) = R/P_i$ is a domain, meaning
$V(P_i)$ are irreducible affine varieties.

Conversely, if we express $X = \bigcup X_i$, we have
$I = I\qty{\bigcup X_i} = \bigcap I(X_i) = \bigcap P_i$ which are
irreducible since they are prime.

::: {.remark}
```{=latex}
\begin{remark}
```
There is a correspondence `
\begin{align*}  
\left\{{\substack{\text{Irreducible components} \\ \text{of } X}}\right\} 
\iff
\left\{{\substack{\text{Minimal prime ideals} \\ \text{in } A(X)}}\right\}
,\end{align*}`{=tex} where here *minimal* is the condition that no pair
of ideals satisfies a subset containment.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Let $X$ be an irreducible topological space.

::: {.proposition title="1"}
```{=latex}
\begin{proposition}[1]
```
The intersection of nonempty two open sets is *never* empty.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Let $U, U'$ be open and $X\setminus U, X\setminus U'$ closed. Then
$U\cap U' = \emptyset \iff (X\setminus U) \cup(X\setminus U') = X$, but
this is not possible since $X$ is irreducible.

```{=latex}
\end{proof}
```
:::

> Irreducible iff any two nonempty open sets intersect.

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Any nonempty open set is dense, i.e. if $U\subset X$ is open then its
closure $\operatorname{cl}_X(U)$ is dense in $X$.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Write $X = \operatorname{cl}_X(U) \cup(X\setminus U)$. Since
$X\setminus U \neq X$ and $X$ is irreducible, we have
$\operatorname{cl}_X(U) = X$.

```{=latex}
\end{proof}
```
:::

```{=latex}
\end{remark}
```
:::

Tuesday, September 08
=====================

Review: we discussed irreducible components. Recall that the *Zariski
topology* on an affine variety $X$ has affine subvarieties as closed
sets, and a *noetherian space* has no infinitely decreasing chains of
closed subspaces.

We showed that any noetherian space has a decomposition into irreducible
components $X = \cup X_i$ with $X_i$ closed, irreducible, and unique
such that no two are subsets of each other. Applying this to affine
varieties, a descending chain of subspaces $X_0 \supsetneq X_1 \cdots$
in $X$ corresponds to an increasing chain of ideals
$I(X_0) \subsetneq I(X_1) \cdots$ in $A(X)$. Since
$k[x_1, \cdots, x_{n}]$ is a noetherian ring, this chain terminates, so
affine varieties are noetherian.

Dimension
---------

::: {.definition title="Dimensions"}
```{=latex}
\begin{definition}[Dimensions]
```
Let $X$ be a topological space.

1.  The *dimension* $\dim X \in {\mathbb{N}}\cup\left\{{\infty}\right\}$
    is either $\infty$ or the length $n$ of the longest chain of
    **irreducible** closed subsets
    $\emptyset \neq Y_0 \subsetneq \cdots \subsetneq Y_n \subset X$
    where $Y_n$ need not be equal to $X$.

2.  The *codimension* of $Y$ in $X$, $\operatorname{codim}_X(Y)$, for an
    irreducible subset $Y\subseteq X$ is the length of the longest chain
    $Y\subset Y_0 \subsetneq Y_1 \cdots \subset X$.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Consider ${\mathbb{A}}^1/k$, what are the closed subsets? The finite
sets, the empty set, and the entire space.

What are the irreducible closed subsets? Every point is a closed subset,
so sets with more than one point are reducible. So the only irreducible
closed subsets are $\left\{{a}\right\}, {\mathbb{A}}^1/k$, since an
affine variety is irreducible iff its coordinate ring is a domain and
$A({\mathbb{A}}^1/k) = k[x]$. We can check `
\begin{align*}  
\emptyset \subseteq Y_0 = \left\{{a}\right\} \subseteq Y_1 = {\mathbb{A}}^1/k
,\end{align*}`{=tex}

which is of length $1$, so $\dim({\mathbb{A}}^1/k) = 1$.

> Note that we count the number of nontrivial strict subset containments
> in this chain.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Consider $V(x_1 x_2) \subset {\mathbb{A}}^2/k$, the union of the $x_i$
axes. Then the closed subsets are $V(x_1), V(x_2)$, along with finite
sets and their unions. What is the longest chain of irreducible closed
subsets?

Note that $k[x_1, x_2] / \left\langle{x_1}\right\rangle \cong k[x_2]$ is
a domain, so $V(x_i)$ are irreducible. So we can have a chain `
\begin{align*}  
\emptyset \subsetneq \left\{{a}\right\} \subsetneq V(x_1) \subset X
,\end{align*}`{=tex} where $a$ is any point on the $x_2{\hbox{-}}$axis,
so $\dim(X) = 1$.

The only closed sets containing $V(x_1)$ are $V(x_1)\cup S$ for $S$ some
finite set, which can not be irreducible.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
You may be tempted to think that if $X$ is noetherian then the dimension
is finite. However, finite dimension requires a bounded length on
descending/ascending chains, whereas noetherian only requires
"termination", which may not happen in a bounded number of steps. So
this is **false**!

```{=latex}
\end{remark}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Take $X = {\mathbb{N}}$ and define a topology by setting closed subsets
be the sets $\left\{{0, \cdots, n}\right\}$ as $n$ ranges over
${\mathbb{N}}$, along with ${\mathbb{N}}$ itself. Is $X$ noetherian?
Check descending chains of closed sets:

`
\begin{align*}  
{\mathbb{N}}\supsetneq \left\{{0, \cdots, N}\right\} \supsetneq \left\{{0, \cdots, N-1}\right\} \cdots
,\end{align*}`{=tex}

which has length at most $N$, so it terminates and $X$ is noetherian.

But note that all of these closed subsets
$X_N \mathrel{\vcenter{:}}=\left\{{0, \cdots, N}\right\}$ are
irreducible. Why? If $X_n = X_i \cup X_j$ then one of $i, j$ is equal to
$N$, i.e $X_i, X_j = X_N$.

So for every $N$, there exists a chain of irreducible closed subsets of
length $N$, implying that $\dim({\mathbb{N}}) = \infty$.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Let $X$ be an affine variety. There is a correspondence `
\begin{align*}  
\left\{{\substack{\text{Chains of irreducible closed subsets} \\ Y_0 \subsetneq \cdots \subsetneq Y_n \text{ in } X}}\right\}
\left\{{\substack{\text{Chains of prime ideals} \\ P_0\supsetneq \cdots \supsetneq P_n \text{ in } A(X)}}\right\}
.\end{align*}`{=tex} Why? We have a correspondence between closed
subsets and radical ideals. If we specialize to irreducible, we saw that
these correspond to radical ideals $I\subset A(X)$ such that
$A(Y) \mathrel{\vcenter{:}}= A(X) / I$ is a domain, which precisely
correspond to prime ideal in $A(X)$.

```{=latex}
\end{remark}
```
:::

We thus make the following definition:

::: {.definition title="Krull Dimension"}
```{=latex}
\begin{definition}[Krull Dimension]
```
The *krull dimension* of a ring $R$ is the length $n$ of the longest
chain of prime ideals `
\begin{align*}  
P_0 \supsetneq P_1 \supsetneq \cdots \supsetneq P_n
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This uses the key fact from commutative algebra: a finitely generated
$k{\hbox{-}}$algebra $M$ satisfies

1.  $M$ has finite $k{\hbox{-}}$dimension
2.  If $M$ is a domain, every maximal chain has the same length.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
From scheme theory: for any ring $R$, there is an associated topological
space $\operatorname{Spec}R$ given by the set of prime ideals in $R$,
where the closed sets are given by `
\begin{align*}  
V(I) = \left\{{\text{Prime ideals } {\mathfrak{p}}{~\trianglelefteq~}R ~{\text{s.t.}}~I\subseteq {\mathfrak{p}}}\right\}
.\end{align*}`{=tex}

If $R$ is a noetherian ring, then $\operatorname{Spec}(R)$ is a
noetherian space.

```{=latex}
\end{remark}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Using the fact above, let's compute $\dim {\mathbb{A}}^n/k$. We can take
the following chain of prime ideals in $k[x_1, \cdots, x_{n}]$: `
\begin{align*}  
0 \subsetneq \left\langle{x_1}\right\rangle \subsetneq \left\langle{x_1, x_2}\right\rangle \cdots \subsetneq \left\langle{x_1, \cdots, x_n}\right\rangle
.\end{align*}`{=tex}

By applying $V({\,\cdot\,})$ we obtain `
\begin{align*}  
{\mathbb{A}}^n/k \supsetneq {\mathbb{A}}^{n-1}/k \cdots \supsetneq {\mathbb{A}}^0/k = \left\{{0}\right\} \supsetneq \emptyset
,\end{align*}`{=tex} where we know each is irreducible and closed, and
it's easy to check that these are maximal:

If there were an ideal
$\left\langle{x_1, x_2}\right\rangle \subset P \subset \left\langle{x_1, x_2, x_3}\right\rangle$,
then take $P\cap k[x_1, x_2, x_3] / \left\langle{x_1, x_2}\right\rangle$
which would yield a polynomial ring in $k[x_1]$. But we know the only
irreducible sets in ${\mathbb{A}}^1/k$ are a point and the entire space.

So this is a chain of maximal length, implying
$\dim {\mathbb{A}}^n/k = n$.

```{=latex}
\end{example}
```
:::

Thursday, September 10
======================

Recall that the dimension of a ring $R$ is the length of the longest
chain of prime ideals. Similarly, for an affine variety $X$, we defined
$\dim X$ to be the length of the longest chain of irreducible closed
subsets.

These notions of dimension of the same when taking $R = A(X)$,
i.e. $\dim {\mathbb{A}}^n/k = n$.

::: {.proposition title="Dimensions"}
```{=latex}
\begin{proposition}[Dimensions]
```
Let $k = \mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$.

a.  The dimension of $k[x_1, \cdots, x_n]$ is $n$.
b.  All maximal chains of prime ideals have length $n$.

```{=latex}
\end{proposition}
```
:::

Proof of Dimension Proposition
------------------------------

The case for $n=0$ is trivial, just take
$P_0 = \left\langle{0}\right\rangle$. For $n=1$, easy to see since the
only prime ideals in $k[x]$ are $\left\langle{0}\right\rangle$ and
$\left\langle{x-a}\right\rangle$, since any polynomial factors into
linear factors.\

Let $P_0 \subsetneq \cdots \subsetneq P_m$ be a maximal chain of prime
ideals in $k[x_1, \cdots, x_{n}]$; we then want to show that $m=n$.
Assume $P_0 = \left\langle{0}\right\rangle$, since we can always extend
our chain to make this true (using maximality). Then $P_1$ is a minimal
prime and $P_m$ is a maximal ideal (and maximals are prime).

::: {.claim}
```{=latex}
\begin{claim}
```
$P_1$ is principle, i.e. $P_1 = \left\langle{f}\right\rangle$ for some
irreducible $f$.

```{=latex}
\end{claim}
```
:::

### Proof That $P_1$ is Principle

::: {.claim}
```{=latex}
\begin{claim}
```
$k[x_1, \cdots, x_{n}]$ is a unique factorization domain. This follows
since $k$ is a UFD since it's a field, and $R$ a UFD $\implies R[x]$ is
a UFD for any $R$.

> See Gauss' lemma.

```{=latex}
\end{claim}
```
:::

::: {.claim}
```{=latex}
\begin{claim}
```
In a UFD, minimal primes are principal. Let $r \in P$, and write
$r = u \prod p_i^{n_i}$ with $p_i$ irreducible and $u$ a unit. So some
$p_i\in P$, and $p_i$ irreducible implies
$\left\langle{p_i}\right\rangle$ is prime. Since
$0 \subsetneq \left\langle{p_i}\right\rangle \subset P$, but $P$ was
prime and assumed minimal, so $\left\langle{p_i}\right\rangle = P$.

```{=latex}
\end{claim}
```
:::

The idea is to now transfer the chain
$P_0 \subsetneq \cdots \subsetneq P_m$ to a maximal chain in
$k[x_1, \cdots, x_{n-1}]$. The first step is to make a linear change of
coordinates so that $f$ is monic in the variable $x_n$.

::: {.example}
```{=latex}
\begin{example}
```
Take $f=x_1x_2 + x_3^2 x_4$ and map $x_3 \mapsto x_3 + x_4$.

```{=latex}
\end{example}
```
:::

So write `
\begin{align*}  
f(x_1, \cdots, x_n) = x_n^d + f_1(x_1, \cdots, x_{n-1}) x_n^{d-1} + \cdots + f_d(x_1, \cdots, x_{n-1})
.\end{align*}`{=tex}

We can then descend to $k[x_1, \cdots, x_{n}]$ to
$k[x_1, \cdots, x_{n}]/\left\langle{f}\right\rangle$:
```{=tex}
\begin{tikzcd}
P_0 \ar[r] & P_1 \ar[r]\ar[d] & \cdots \ar[r]\ar[d] & P_m\ar[d] \\
 & P_1/P_1 \ar[r]\ar[d] & \cdots \ar[r]\ar[d] & P_m/P_1\ar[d] \\
 & P_1/P_1 \cap k[x_1, \cdots, x_{n-1}] \ar[r] & \cdots \ar[r] & (P_m / P_1) \cap k[x_1, \cdots, x_{n-1}]
\end{tikzcd}
```
The first set of downward arrows denote taking the quotient, and the
upward is taking inverse images, and this preserves strict inequalities.

::: {.definition title="Integral Extension"}
```{=latex}
\begin{definition}[Integral Extension]
```
An *integral* ring extension $R\hookrightarrow R'$ of $R$ is one such
that all $r' \in R'$ satisfying a monic polynomial with coefficients in
$R$, where $R'$ is finitely generated.

> In this case, also implies that $R'$ is a finitely-generated $R$
> module.

```{=latex}
\end{definition}
```
:::

In this case,
$k[x_1, \cdots, x_{n-1}] \hookrightarrow k[x_1, \cdots, x_{n}] /\left\langle{f}\right\rangle$
is an integral extension. We want to show that the intersection step
above also preserves strictness of inclusions, since it preserves
primality.

::: {.lemma}
```{=latex}
\begin{lemma}
```
Suppose $P', Q' \subset R'$ are distinct prime ideals with
$R\hookrightarrow R'$ an integral extension. Then if
$P'\cap R = Q'\cap R$, neither contains the other,
i.e. $P'\not\subset Q'$ and $Q'\not\subset P'$.

```{=latex}
\end{lemma}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Toward a contradiction, suppose $P' \subset Q'$, we then want to show
that $Q'\supset P'$. Let $a\in Q'\setminus P'$ (again toward a
contradiction), then `
\begin{align*}  
R/\qty{P'\cap R} \hookrightarrow R'/P'
\end{align*}`{=tex} is integral.

Then
$\mkern 1.5mu\overline{\mkern-1.5mua\mkern-1.5mu}\mkern 1.5mu \neq 0$ in
$R'/P'$, and there exists a monic polynomial of minimal degree that
$\mkern 1.5mu\overline{\mkern-1.5mua\mkern-1.5mu}\mkern 1.5mu$
satisfies,
$p(x) = x^n + \sum_{i=2}^n \mkern 1.5mu\overline{\mkern-1.5muc\mkern-1.5mu}\mkern 1.5mu_i x^{n-i}$.
This implies
$\mkern 1.5mu\overline{\mkern-1.5muc\mkern-1.5mu}\mkern 1.5mu_n \in Q'/P'$
(which will contradict $c_n \in P'$), since if
$\mkern 1.5mu\overline{\mkern-1.5muc\mkern-1.5mu}\mkern 1.5mu_n = 0$
then factoring out $x$ yields a lower degree polynomial that
$\mkern 1.5mu\overline{\mkern-1.5mua\mkern-1.5mu}\mkern 1.5mu$
satisfies.

But then
$\mkern 1.5mu\overline{\mkern-1.5mua\mkern-1.5mu}\mkern 1.5mu_n \in Q'\cap R$,
so ???

```{=latex}
\end{proof}
```
:::

Question: Given $R\hookrightarrow R'$ is an integral extension, can we
lift chains of prime ideals?

Answer: Yes, by the "Going Up" Theorem: given $P\subset R$ prime, there
exists $P'\subset R'$ prime such that $P'\cap R = P$. Furthermore, we
can lift $P_1 \subset P_2$ to $P_1' \subset P_2'$, as well as "lifting
sandwiches":

![Image](figures/image_2020-09-10-10-18-40.png)

In this process, the length of the chain decreased since
$\left\langle{0}\right\rangle$ was deleted, but otherwise the chains are
in bijective correspondence. So the inductive hypothesis applies.
$\hfill\blacksquare$

Using Dimension Theory
----------------------

Key fact used: the dimension doesn't change under integral extensions,
i.e. if $R\hookrightarrow R'$ is integral then $\dim R = \dim R'$.

::: {.claim}
```{=latex}
\begin{claim}
```
Any affine variety has finite dimension.

```{=latex}
\end{claim}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
We have $\dim X = \dim A(X)$, where
$A(X) \mathrel{\vcenter{:}}= k[x_1, \cdots, x_{n}] I$ for some
$I(X)=\sqrt{I(X)}$.

The noether normalization lemma (used in proof of nullstellensatz) shows
that a finitely generated $k{\hbox{-}}$algebra is an integral extension
of some polynomial ring $k[y_1, \cdots, y_d]$. I.e., the following
extension is integral: `
\begin{align*}  
k[y_1, \cdots, y_d] \hookrightarrow k[x_1, \cdots, x_n]/I
.\end{align*}`{=tex}

We can conclude that $\dim A(X) = d < \infty$.

```{=latex}
\end{proof}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $X, Y$ be irreducible affine varieties. Then

a.  $\dim X\times Y = \dim X + \dim Y$.
b.  $Y\subset X \implies \dim X = \dim Y + \operatorname{codim}_X Y$.
c.  If $f\in A(X)$ is nonzero, then any component of $V(f)$ has
    codimension 1.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
::: {.remark}
```{=latex}
\begin{remark}
```
Why is $X\times Y$ again an affine variety? If
$X\subset {\mathbb{A}}^n/k$, $Y\subset {\mathbb{A}}^m/k$ with
$X = V(I), Y = V(J)$, then
$X\times Y \subset {\mathbb{A}}^n/k \times{\mathbb{A}}^m/k = {\mathbb{A}}^{n+m}/k$
can be given by taking
$I+J {~\trianglelefteq~}k[x_1, \cdots, x_n, y_1, \cdots, y_m]$ using the
natural inclusions of $k[x_1, \cdots, x_{\ell}]$.

Note that we can write `
\begin{align*}  
k[x_1, \cdots, x_n, y_1, \cdots, y_m] = k[x_1, \cdots, x_{n}] \otimes_k k[y_1, \cdots, y_n]
\end{align*}`{=tex} where we think of
$x_i = x_i \otimes 1, y_j = 1 \otimes y_j$. We thus map $I, J$ to
$I\otimes 1 + 1\otimes J$ and obtain
$V(I\otimes 1 + 1\otimes J) = X\times Y$ and
$A(X\times Y) = A(X)\otimes_k A(Y)$.

In general, for $k{\hbox{-}}$algebras $R,S$, `
\begin{align*}  
R/I \otimes_k S/J \cong R\otimes_k S / \left\langle{I\otimes 1 + 1\otimes J}\right\rangle
.\end{align*}`{=tex}

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
For $R,S$ finitely generated $k{\hbox{-}}$algebras,
$\dim R\otimes_k S = \dim R + \dim S$.

```{=latex}
\end{remark}
```
:::

Part (a) is proved by the above remarks.

For part (b), the statement is equivalent to $P\subset A(X)$ with
$I(Y) \subset P$ is a member of some maximal chain, along with the
statement that all maximal chains are the same length.

```{=latex}
\end{proof}
```
:::

Tuesday, September 15
=====================

Review
------

Let $k=\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu$,
we're setting up correspondences `
\begin{align*}  
\text{Ring Theory} 
\quad&\quad 
\text{Geometry/Topology of Affine Varieties}
\\
\text{Polynomial functions} 
\quad&\quad 
\text{Affine space} 
\\
k[x_1, \cdots, x_n]
\quad&\quad 
{\mathbb{A}}^n/k \mathrel{\vcenter{:}}=\left\{{{\left[ {a_1, \cdots, a_n} \right]} \in k^n }\right\} 
\\
\text{Maximal ideals } \left\langle{x_1 - a_1, \cdots, x_n - a_n}\right\rangle 
\quad&\quad 
\text{Points } {\left[ {a_1, \cdots, a_n} \right]} \in {\mathbb{A}}^n/k
\\
\text{Radical ideals } I{~\trianglelefteq~}k[x_1, \cdots, x_n]
\quad&\quad 
\text{Affine varieties } X\subset  {\mathbb{A}}^n/k, \text{ vanishing locii of polynomials} 
\\
I &\mapsto V(I) \mathrel{\vcenter{:}}=\left\{{a~{\text{s.t.}}~f(a) = 0 \forall f\in I}\right\} \\
I(X) \mathrel{\vcenter{:}}=\left\{{f ~{\text{s.t.}}~{\left.{f}\right|_{X}} = 0}\right\} &\mapsfrom X 
\\
\text{Radical ideals containing $I(X)$, i.e. ideals in $A(X)$} 
\quad&\quad 
\text{closed subsets of $X$, i.e. affine subvarieties}
\\
A(X) \text{ is a domain}
\quad&\quad 
\text{$X$ irreducible}
\\
\text{$A(X)$ is not a direct sum}
\quad&\quad 
\text{$X$ connected} 
\\
\text{Prime ideals in }A(X)
\quad&\quad 
\text{Irreducible closed subsets of }X
\\
\text{Krull dimension $n$ (longest chain of prime ideals)}
\quad&\quad 
\dim X = n,\, \text{(longest chain of irreducible closed subsets)}
.\end{align*}`{=tex}

> Recall that we defined the coordinate ring
> $A(X) \mathrel{\vcenter{:}}= k[x_1, \cdots, x_{n}] / I(X)$, which
> contained no nilpotents.

We had some results about dimension

1.  $\dim X<\infty$ and $\dim {\mathbb{A}}^n = n$.
2.  $\dim Y + \operatorname{codim}_X Y = \dim X$ when $Y\subset X$ is
    irreducible.
3.  Only over
    $\mkern 1.5mu\overline{\mkern-1.5muk\mkern-1.5mu}\mkern 1.5mu = k$,
    $\operatorname{codim}_X V(f) = 1$.

::: {.example}
```{=latex}
\begin{example}
```
Take $V(x^2+y^2) \subset {\mathbb{A}}^2/{\mathbb{R}}$

```{=latex}
\end{example}
```
:::

::: {.definition title="?"}
```{=latex}
\begin{definition}[?]
```
An affine variety $Y$ of

-   $\dim Y = 1$ is a **curve**,
-   $\dim Y = 2$ is a **surface**,
-   $\operatorname{codim}_X Y = 1$ is a **hypersurface in $X$**

```{=latex}
\end{definition}
```
:::

Question: Is every hypersurface the vanishing locus of a *single*
polynomials $f\in A(X)$?

Answer: This is true iff $A(X)$ is a UFD.

::: {.definition title="Codimension in a Ring"}
```{=latex}
\begin{definition}[Codimension in a Ring]
```
$\operatorname{codim}_R {\mathfrak{p}}$ is the length of the longest
chain `
\begin{align*}P_0 \subsetneq P_1 \subsetneq \cdots \subsetneq P_n = {\mathfrak{p}}.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

Recall that $f$ is irreducible if
$f = f_1 f_2 \implies f_i \in R^{\times}$ for one $i$, and $f$ is prime
iff $\left\langle{f}\right\rangle$ is a prime ideal, or equivalently
$f{~\Bigm|~}ab \implies f{~\Bigm|~}a$ or $f{~\Bigm|~}b$.

Note that prime implies irreducible, since $f$ divides itself.

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $R$ be a Noetherian domain, then TFAE

a.  All prime ideals of codimension 1 are principal.

b.  $R$ is a UFD.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
$a\implies b$:

Let $f$ be a nonzero non-unit, we'll show it admits a prime
factorization. If $f$ is not irreducible, then $f = f_1 f_1'$, both
non-units. If $f_1'$ is not irreducible, we can repeat this, to get a
chain `
\begin{align*}  
\left\langle{f}\right\rangle \subsetneq \left\langle{f_1'}\right\rangle \subsetneq \left\langle{f_2'}\right\rangle \subsetneq \cdots
,\end{align*}`{=tex} which must terminate.

This yields a factorization $f = \prod f_i$ with $f_i$ irreducible. To
show that $R$ is a UFD, it thus suffices to show that the $f_i$ are
prime. Choose a minimal prime ideal containing $f$. We'll use Krull's
Principal Ideal Theorem: if you have a minimal prime ideal
${\mathfrak{p}}$ containing $f$, its codimension
$\operatorname{codim}_R {\mathfrak{p}}$ is one. By assumption, this
implies that ${\mathfrak{p}}= \left\langle{g}\right\rangle$ is
principal. But $g{~\Bigm|~}f$ with $f$ irreducible, so $f,g$ differ by a
unit, forcing ${\mathfrak{p}}= \left\langle{f}\right\rangle$. So
$\left\langle{f}\right\rangle$ is a prime ideal.\

$b\implies a$:

Let ${\mathfrak{p}}$ be a prime ideal of codimension 1. If
${\mathfrak{p}}= \left\langle{0}\right\rangle$, it is principal, so
assume not. Then there exists some nonzero non-unit
$f\in {\mathfrak{p}}$, which by assumption has a prime factorization
since $R$ is assumed a UFD. So $f=\prod f_i$.

Since ${\mathfrak{p}}$ is a prime ideal and $f\in{\mathfrak{p}}$, some
$f_i\in {\mathfrak{p}}$. Then
$\left\langle{f_i}\right\rangle \subset {\mathfrak{p}}$ and
${\mathfrak{p}}$ minimal implies
$\left\langle{f_i}\right\rangle = {\mathfrak{p}}$, so ${\mathfrak{p}}$
is principal.

```{=latex}
\end{proof}
```
:::

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
Every hypersurface $Y\subset X$ is cut out by a single polynomial, so
$Y=V(f)$, iff $A(X)$ is a UFD.

```{=latex}
\end{corollary}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Apply this to $R=A(X)$, we find that there is a bijection `
\begin{align*}  
\operatorname{codim}1 \text{ prime ideals}
\iff 
\operatorname{codim}1 \text{ closed irreducible subsets }Y\subset X,\text{ i.e. hypersurfaces}
.\end{align*}`{=tex}

Taking
$A(X) = {\mathbb{C}}[x,y,z]/\left\langle{x^2+y^2-z^2}\right\rangle$,
whose real points form a cone:

![Image](figures/image_2020-09-15-10-26-24.png)

Note that $x^2 + y^2 = (x-iy)(x+iy) = z^2$ in this quotient, so this is
not a UFD.

Then taking a line through its surface is a codimension 1 subvariety not
cut out by a single polynomial. Such a line might be given by
$V(x + iy, z)$, which is 2 polynomials, so why not codimension 2?

Note that $V(z)$ is the union of the lines

-   $z = 0, x + iy= 0$,
-   $z=0, x - iy = 0$.

Note that it suffices to show that this ring has an irreducible that is
not prime. Supposing $z = f_1 f_2$, some $f_i$ is a unit, then $z$ is
not prime because $z{~\Bigm|~}xy$ but divides neither of $x,y$.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Note that $k[x_1, \cdots, x_{n}]$ is a UFD since $k$ is a UFD. Applying
the corollary, every hypersurface in ${\mathbb{A}}^n$ is cut out by a
single irreducible polynomial.

```{=latex}
\end{example}
```
:::

::: {.definition title="?"}
```{=latex}
\begin{definition}[?]
```
An affine variety $X$ is of **pure dimension $d$** iff every irreducible
component $X_i$ is of dimension $d$.

```{=latex}
\end{definition}
```
:::

> Note that $X$ is a Noetherian space, so has a unique decomposition
> $X = \cup X_i$.

Given $X\subset {\mathbb{A}}^n/k$ of pure dimension $n-1$,
$X = \cup X_i$ with $X_i$ hypersurfaces with
$I(X_j) = \left\langle{f_j}\right\rangle$,
$I(X) = \left\langle{f}\right\rangle$ where $f = \prod f_i$.

::: {.definition title="?"}
```{=latex}
\begin{definition}[?]
```
Given such an $X$, define the **degree of a hypersurface** as the degree
of $f$ where $I(X) = \left\langle{f}\right\rangle$.

```{=latex}
\end{definition}
```
:::

Thursday, September 17
======================

Regular Functions
-----------------

> See chapter 3 in the notes.

Some examples:

-   $X$ a manifold or an open set in ${\mathbb{R}}^n$ has a ring of
    $C^\infty$ functions.
-   $X \subset {\mathbb{C}}$ has a ring of holomorphic functions.
-   $X\subset {\mathbb{R}}$ has a ring of real analytic functions

These all share a common feature: it suffices to check if a function is
a member on an arbitrary open set about a point, i.e. they are *local*.

::: {.definition title="?"}
```{=latex}
\begin{definition}[?]
```
Let $X$ be an affine variety and $U\subseteq X$ open. A **regular
function** on $U$ is a function $\phi: U\to k$ such that $\phi$ is
"locally a fraction", i.e. a ratio of polynomial functions.

More formally, for all $p\in U$ there exists a $U_p$ with
$p\in U_p \subseteq U$ such that $\phi(x) = g(x)/ f(x)$ for all
$x\in U_p$ with $f, g\in A(X)$.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
For $X$ an affine variety and $f\in A(X)$, consider the open set
$U\mathrel{\vcenter{:}}= V(f)^c$. Then ${1\over f}$ is a regular
function on $U$, so for $p\in U$ we can take $U_p$ to be all of $U$.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
For $X = {\mathbb{A}}^1$, take $f=x-1$. Then ${x\over x-1}$ is a regular
function on ${\mathbb{A}}^1 \setminus\left\{{1}\right\}$.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $X + V(x_1 x_4 - x_2 x_3)$ and `
\begin{align*}  
U \mathrel{\vcenter{:}}= X\setminus V(x_2, x_4) = \left\{{{\left[ {x_1, x_2, x_3, x_4} \right]} ~{\text{s.t.}}~x_1 x_4 = x_2 x_3, x_2\neq 0 \text{ or } x_4\neq 0 }\right\}
.\end{align*}`{=tex}

Define `
\begin{align*}  
\phi: U &\to K \\
{\left[ {x_1, x_2, x_3, x_4} \right]} &\mapsto
\begin{cases}
{x_1\over x_2} & \text{if } x_2 \neq 0 \\
{x_3\over x_4} & \text{if } x_4 \neq 0
\end{cases}
.\end{align*}`{=tex}

This is well-defined on
$\left\{{x_2\neq 0}\right\} \cap\left\{{x_4 \neq 0}\right\}$, since
${x_1\over x_2} = {x_3 \over x_4}$. Note that this doesn't define an
element of $k$ at ${\left[ {0,0,0,1} \right]}\in U$. So this is not
globally a fraction.

```{=latex}
\end{example}
```
:::

Notation: we'll let ${\mathcal{O}}_X(U)$ is the ring of regular function
on $U$.

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $U\subset X$ be an affine variety and $\phi \in {\mathcal{O}}_X(U)$.
Then
$V(\phi) \mathrel{\vcenter{:}}=\left\{{x\in U ~{\text{s.t.}}~\phi(x) = 0}\right\}$
is closed in the subspace topology on $U$.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
For all $a\in U$ there exists $U_a\subset U$ such that $\phi = g_a/f_a$
on $U_a$ with $f_a, g_a \in A(X)$ with $f_a \neq 0$ on $U_a$.

Then `
\begin{align*}  
\left\{{x\in U_a ~{\text{s.t.}}~\phi(x) \neq 0}\right\} = U_a \setminus V(g_a)\cap U_a
\end{align*}`{=tex} is an open subset of $U_a$, so taking the union over
$a$ again yields an open set. But this is precisely $V(\phi)^c$.

```{=latex}
\end{proof}
```
:::

::: {.proposition}
```{=latex}
\begin{proposition}
```
Let $U\subset V$ be open in $X$ an *irreducible* affine variety. If
$\phi_1, \phi_2 \in {\mathcal{O}}_X(V)$ agree on $U$, then they are
equal.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
$V(\phi_1 - \phi_2)$ contains $U$ and is closed in $V$. It contains
$\mkern 1.5mu\overline{\mkern-1.5muU\mkern-1.5mu}\mkern 1.5mu\cap V$, by
an earlier lemma, $X$ irreducible implies that
$\mkern 1.5mu\overline{\mkern-1.5muU\mkern-1.5mu}\mkern 1.5mu = X$ and
so $V(\phi_1 - \phi_2) =V$.

```{=latex}
\end{proof}
```
:::

Compare and contrast: Let $U\subset V \subset {\mathbb{R}}^n$ be open.
If $\phi_1, \phi_2 \in C^\infty(V)$ such that $\phi_1, \phi_2$ are equal
when restricted $U\subset V$. Does this imply $\phi_1 = \phi_2$?

For ${\mathbb{R}}^n$, no, there exist smooth bump functions. You can
make a bump function on $V\setminus U$ and extend by zero to $U$. For
${\mathbb{C}}$ and holomorphic functions, the answer is yes, by the
uniqueness of analytic continuation.

::: {.definition title="(Important) Distinguished Opens"}
```{=latex}
\begin{definition}[(Important) Distinguished Opens]
```
A **distinguished open set** in an affine variety is one of the form `
\begin{align*}  
D(f) \mathrel{\vcenter{:}}= X\setminus V(f) = \left\{{x\in X ~{\text{s.t.}}~f(x) = 0}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.proposition}
```{=latex}
\begin{proposition}
```
The distinguished open sets form a base of the zariski topology.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Given $f, g\in A(X)$, we can check:

1.  Closed under finite intersections: $D(f) \cap D(g) = D(fg)$.
2.  `
    \begin{align*}U = X\setminus V(f_1, \cdots, f_k) = V\setminus\bigcap V(f_i) = \bigcup D(f_i),\end{align*}`{=tex}
    and any open set is a *finite* union of distinguished opens by the
    Hilbert basis theorem.

```{=latex}
\end{proof}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
The regular functions on $D(f)$ are given by `
\begin{align*}  
{\mathcal{O}}_X(D(f)) = \left\{{{ g \over f^n} ~{\text{s.t.}}~g\in A(X), n\in {\mathbb{N}}}\right\} = A(X)_{\left\langle{f}\right\rangle}
,\end{align*}`{=tex} the localization of $A(X)$ at
$\left\langle{f}\right\rangle$.

```{=latex}
\end{proposition}
```
:::

Note that if $f=1$, then ${\mathcal{O}}_X(X) = A(X)$.

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Note that ${g\over f^n} \in {\mathcal{O}}_X(D(f))$ since $f^n\neq 0$ on
$D(f)$. Let $\phi: D(f) \to k$ be a regular function. By definition, for
all $a\in D(f)$ there exists a local representation as a fraction
$\phi = g_a/f_a$ on $U_a\ni a$. Note that $U_a$ can be covered by
distinguished opens, one of which contains $a$. Shrink $U_a$ if
necessary to assume it is a distinguished open set $U_a = D(h_a)$.\

Now replace `
\begin{align*}  
\phi = {g_a \over f_a} = {g_a h_a \over f_a h_a}
,\end{align*}`{=tex} which makes sense because $h_a\neq 0$ on $U_a$. We
can assume wlog that $h_a = f_a$. Why? We have $\phi = {g_a \over f_a}$
on $D(f_a)$. Since $f_a$ doesn't vanish on $U_a$, we have
$V(f_a h_a) = V(h_a)$ since $V(f_a) \subset D(h_a)^c = V(h_a)$.

Consider $U_a = D(f_a)$ and $U_b = D(f_b)$, on which
$\phi = {g_a\over f_a}$ and $\phi = {g_b \over f_b}$ respectively. On
$U_a\cap U_b = D(f_a f_b)$, these are equal, i.e. $f_b g_a = f_a g_b$ in
the coordinate ring $A(X)$.\

Then $D(f) = \bigcup_a D(f_a)$, so take the component
$V(f) = \cap V(f_a)$ by the Nullstellensatz
$f\in I(V(f_a)) = I(V(g_a, a\in D_f)) = \sqrt{f_a ~{\text{s.t.}}~a\in D_f}$.

Then there exists an expression $f^n = \sum k_a f_a$ as a finite sum, so
set $g - \sum g_a k_a$.

::: {.claim}
```{=latex}
\begin{claim}
```
$\phi = g/f^n$ on $D(f)$.\

This follows because on $D(f_b)$, we have $\phi = {g_b \over f_b}$, and
so $gf_b = \sum k_a g_a f_b$.

```{=latex}
\end{claim}
```
:::

> Finish next class

```{=latex}
\end{proposition}
```
:::

Tuesday, September 22
=====================

Review: Regular Functions
-------------------------

Given an affine variety $X$ and $U\subseteq X$ open, a *regular
function* $\phi: U\to k$ is one locally (wrt the zariski topology) a
fraction. We write the set of regular functions as ${\mathcal{O}}_X$.

::: {.example}
```{=latex}
\begin{example}
```
$X = V(x_1 x_4 - x_2 x_3)$ on $U = V(x_2, x_4)^c$, the following
function is regular: `
\begin{align*}  
\phi: U &\to k \\
x &\mapsto 
\begin{cases}
{x_1\over x_2} & x_2 \neq 0 \\ \\
{x_3 \over x_4} & x_4 \neq 0
\end{cases}
.\end{align*}`{=tex} Note that this is not globally a fraction.

```{=latex}
\end{example}
```
:::

::: {.definition title="Distinguished Open Sets"}
```{=latex}
\begin{definition}[Distinguished Open Sets]
```
A *distinguished open set* $D(f) \subseteq X$ for some $f\in A(X)$ is
$V(f)^c \mathrel{\vcenter{:}}=\left\{{x\in X ~{\text{s.t.}}~f(x) \neq 0}\right\}$.

```{=latex}
\end{definition}
```
:::

These are useful because the $D(f)$ form a base for the zariski
topology.

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
For $X$ an affine variety, $f\in A(X)$, we have `
\begin{align*} 
{\mathcal{O}}_X(D(f)) = \left\{{ {g\over f^n} ~{\text{s.t.}}~g\in A(X), n\in {\mathbb{N}}}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
The first reduction we made was that $\phi \in {\mathcal{O}}_X(D(f))$ is
expressible as $g_a\over f_a$ on distinguished opens $D(f_a)$ covering
$D(f)$. We also noted that `
\begin{align*}
{g_a \over f_a} = {g_b \over f_b} \text{ on } D(f_a) \cap D(f_b) \implies f_b g_a = f_a g_b \text{ in } A(X)
.\end{align*}`{=tex}\

The second step was writing $D(f) = \cup D(f_a)$, and so
$V(f) = \cap_a V(f_a)$ implies that
$f\in I(V(\left\{{f_a ~{\text{s.t.}}~a\in U}\right\}))$. By the
Nullstellensatz,
$f\in \sqrt{\left\langle{f_a ~{\text{s.t.}}~a\in U}\right\rangle}$, so
$f^N = \sum k_a f_a$ for some $N$. So construct $g = \sum k_a g_a$, then
compute `
\begin{align*}  
gf_b = \sum_a k_a g_a f_b = \sum_a k_a g_b f_a = g_b \sum k_a f_a = g_b f^N
.\end{align*}`{=tex} Thus $g/f^N = g_b / f_b$ for all $b$, and we can
thus conclude `
\begin{align*}  
\phi \mathrel{\vcenter{:}}=\left\{{{g_b \over f_b} \text{ on } D(f_b)}\right\} = g/f^N
.\end{align*}`{=tex}

```{=latex}
\end{proof}
```
:::

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
For $X$ an affine variety, ${\mathcal{O}}_X(X) = A(X)$.

```{=latex}
\end{corollary}
```
:::

::: {.warning}
```{=latex}
\begin{warning}
```
For $k$ not algebraically closed, the proposition and corollary are both
false. Take $X = {\mathbb{A}}^1/{\mathbb{R}}$, then
${1\over x^2+1} \in {\mathbb{R}}(x)$, but
${\mathcal{O}}_X(X) \neq A(X) = {\mathbb{R}}[x]$.

```{=latex}
\end{warning}
```
:::

::: {.definition title="Localization"}
```{=latex}
\begin{definition}[Localization]
```
Let $R$ be a ring and $S$ a set closed under multiplication, then the
localization at $S$ is defined by `
\begin{align*}  
R_S \mathrel{\vcenter{:}}=\left\{{r/s ~{\text{s.t.}}~r\in R, s\in S}\right\} / \sim
.\end{align*}`{=tex} where
$r_1/s_1 \sim r_2/s_2 \iff s_3(s_2 r_1 - s_1 r_2) = 0$ for some
$s_3 \in S$.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $f\in R$ and take $S = \left\{{f^n ~{\text{s.t.}}~n\geq 1}\right\}$,
then $R_f \mathrel{\vcenter{:}}= R_S$.

```{=latex}
\end{example}
```
:::

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
${\mathcal{O}}_X(D(f)) = A(X)_f$ is the localization of the coordinate
ring.

```{=latex}
\end{corollary}
```
:::

These requires some proof, since the LHS literally consists of functions
on the topological space $D(f)$ while the RHS consists of formal
symbols.

::: {.proof}
```{=latex}
\begin{proof}
```
Consider the map ```
\begin{align*}  
A(X)_f &\to {\mathcal{O}}_X(D(f)) \\
``g/f^n" &\mapsto g/f^n: D(f) \to k
.\end{align*}```{=tex}

By definition, there exists a $k\geq 0$ such that `
\begin{align*}  
f^k(f^m g - f^n g') = 0 
\implies
f^k(f^m g - f^n g') = 0 \text{ as a function on } D(f)
.\end{align*}`{=tex} Since $f^k \neq 0$ on $D(f)$, we have
$f^m g = f^n g'$ as a function on $D(f)$, so $g/f^n = g'/g^m$ as
functions on $D(f)$.\

**Surjectivity**: By the proposition, we have surjectivity, i.e. any
element of $|OO_x(D(f))$ can be represented by some $g/f^n$.\

**Injectivity**: Suppose $g/f^n$ defines the zero function on $D(f)$,
then $g = 0$ on $D(f)$ implies that $fg=0$ on $X$
(i.e. $fg= 0 \in A(X)$), and we can write
$f(g\cdot 1 - f^n\cdot 0) = 0$. Then $g/f^n\sim 0/1 \in A(X)_f$, which
forces $g/f^n = 0\in A(X)_f$.

```{=latex}
\end{proof}
```
:::

Sheaves
-------

Idea: spaces on functions on topological spaces.

::: {.definition title="Presheaf"}
```{=latex}
\begin{definition}[Presheaf]
```
A *presheaf* (of rings) $\mathcal{F}$ on a topological space is

1.  For every open set $U\subset X$ a ring $\mathcal{F}(U)$.

2.  For any inclusion $U\subset V$ a restriction map
    $\operatorname{Res}_{VU}: \mathcal{F}(V) \to \mathcal{F}(U)$
    satisfying

```{=html}
<!-- -->
```
a.  $F(\emptyset) = 0$.
b.  $\operatorname{Res}_{UU} = \text{id}_{\mathcal{F}(U)}$.
c.  $\operatorname{Res}_{VW} \circ \operatorname{Res}_{UV} = \operatorname{Res}_{UW}$.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
The smooth functions on ${\mathbb{R}}$ with the standard topology,
$\mathcal{F} = C^\infty$ where $C^\infty(U)$ is the set of smooth
functions $U\to {\mathbb{R}}$. It suffices to check the restriction
condition, but the restriction of a smooth function is smooth: if $f$ is
smooth on $U$, it is smooth at every point in $U$, i.e. all derivatives
exist at all points of $U$. So if $V\subset U$, all derivatives of $f$
will exist at points $x \in V$, so $f$ will be smooth on $V$.

Note that this also works with continuous functions.

```{=latex}
\end{example}
```
:::

::: {.definition title="Sheaf"}
```{=latex}
\begin{definition}[Sheaf]
```
A *sheaf* is a presheaf satisfying an additional gluing property: given
$\phi_i \in \mathcal{F}(U_i)$ such that
${\left.{\phi_i}\right|_{U_i\cap U_j}} = {\left.{\phi_j}\right|_{U_i \cap U_j}}$,
then there exists a unique $\phi\in \mathcal{F}(\cup_i U_i)$ such that
${\left.{\phi}\right|_{U_i}} = \phi_i$.

```{=latex}
\end{definition}
```
:::

Thursday, September 24
======================

Recall that we defined the *regular functions* ${\mathcal{O}}_X(U)$ on
an open set $U\subset X$ an affine variety as the set of functions
$\phi: U\to k$ such that $\phi$ is locally a fraction, i.e. for all
$p\in U$ there exists a neighborhood of $p$, say $U_p \subset U$, such
that $\phi$ restricted to $U_p$ is given by $g_p \over f_p$ for some
$f_p, g_p \in A(X)$.

We proved that on a distinguished open set $D(f) = V(f)^c$, we have
${\mathcal{O}}_X(D(f)) = A(X)_f$. An important example was that
${\mathcal{O}}_X(X) = A(X)$.

Question: If $X$ is a variety over ${\mathbb{C}}$, does
$A(X) = \operatorname{Hol}(X)$? The answer is no, since taking
${\mathbb{A}}^1/{\mathbb{C}}\cong {\mathbb{C}}= X$ we obtain
$A(X) = {\mathbb{C}}[x]$ but for example
$e^z \in \operatorname{Hol}(X)$.

On the other hand, if you require that $f\in \operatorname{Hol}(X)$ is
meromorphic at $\infty$, i.e. $f({1\over z})$ is meromorphic at zero,
then you do get ${\mathbb{C}}[z]$. This is an example of GAGA!

> Review: what is a category?

> Review: what is a presheaf?

Tuesday, September 29
=====================

Recall the definition of a presheaf: a sheaf of rings on a space is a
contravariant functor from its category of open sets to ring, such that

1.  $F(\emptyset) = 0$
2.  The restriction from $U$ to itself is the identity,
3.  Restrictions compose.

Examples:

-   Smooth functions on ${\mathbb{R}}^n$
-   Holomorphic functions on ${\mathbb{C}}$

Recall the definition of sheaf: a presheaf satisfying *unique* gluing:
given $f_i \in \mathcal{F}(U_i)$, such that
${\left.{f_i}\right|_{U_i \cap U_j}} = {\left.{f_j}\right|_{U_i\cap U_j}}$
implies that there exists a unique $f\in \mathcal{F}(\cup U_i)$ such
that ${\left.{f}\right|_{U_i}} = f_i$.

Question: Are the constant functions on ${\mathbb{R}}$ a presheaf and/or
a sheaf?

Answer: This is a presheaf but not a sheaf. Set
$\mathcal{F}(U) = \left\{{f: U\to {\mathbb{R}}~{\text{s.t.}}~f(x) = c}\right\} \cong {\mathbb{R}}$
with $\mathcal{F}(\emptyset) = 0$. Can check that restrictions of
constant functions are constant, the composition of restrictions is the
overall restriction, and restriction from $U$ to itself gives the
function back.

Given constant functions $f_i \in \mathcal{F}(U_i)$, does there exist a
unique constant function $\mathcal{F}(\cup U_i)$ restricting to them?
No: take $f_1 = 1$ on $(0, 1)$ and $f_2 = 2$ on $(2, 3)$. Can check that
they both restrict to the zero function on the intersection, since these
sets are disjoint.

How can we make this into a sheaf? One way: weaken the topology. Another
way: define another presheaf $\mathcal{G}$ on ${\mathbb{R}}$ given by
*locally* constant function,
i.e. $\left\{{f: U\to {\mathbb{R}}~{\text{s.t.}}~\forall p\in U, \exists U_p\ni p,\, {\left.{f}\right|_{U_p}} \text{ is constant}}\right\}$.
Reminiscent of definition of regular functions in terms of local
properties.

::: {.example}
```{=latex}
\begin{example}
```
Let $X = \left\{{p, q}\right\}$ be a two-point space with the discrete
topology, i.e. every subset is open. Then define a sheaf by `
\begin{align*}  
\emptyset &\mapsto 0 \\
\left\{{p}\right\} &\mapsto R \\
\left\{{q}\right\} &\mapsto S \\
\implies \left\{{p, q}\right\} &\mapsto R\times S
,\end{align*}`{=tex} where the sheaf condition forces the assignment of
the whole space to be the product. Note that the first 3 assignments are
automatically compatible, which means that we need a unique
$f\in \mathcal{F}(X)$ restricting to $R$ and $S$. In other words,
$\mathcal{F}(X)$ needs to be unique and have maps to $R, S$, but this is
exactly the universal property of the product.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Consider the presheaf on $X$ given by
$\mathcal{F}(X) = R\times S \times T$. Taking
$T = {\mathbb{Z}}/2{\mathbb{Z}}$, we can force uniqueness to fail: by
projecting to $R, S$, there are two elements in the fiber, namely
$(r,s,0)\mapsto r,s$ and $(r,s,1)\mapsto r,s$.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $X = \left\{{a, b, c}\right\}$ and
$\tau = \left\{{\emptyset, \left\{{a}\right\}, \left\{{a, b}\right\}, \left\{{a, c}\right\}}\right\}$.
Can check that it's closed under finite intersections and arbitrary
unions, so this forms a topology. Now make the assignments `
\begin{align*}  
\left\{{a}\right\}& \mapsto A \\
\left\{{b}\right\}& \mapsto B \\
\left\{{a, b}\right\}& \mapsto C \\
X &\mapsto ?
.\end{align*}`{=tex}

We have a situation like this:
```{=tex}
\begin{tikzcd}
& \mathcal{F}(X)\ar[ld]\ar[rd] & \\
B\ar[rd] & & C\ar[ld] \\
& A\ar[d] & \\
& \emptyset &
\end{tikzcd}
```
Unique gluing says that given $r\in B, s\in C$ such that
$\phi_B(r) = \phi_C(s)$, there should exist a unique
$t\in \mathcal{F}(X)$ such that
${\left.{t}\right|_{\left\{{a, b}\right\}}} = r$ and
${\left.{t}\right|_{\left\{{a, c}\right\}}} = s$. This recovers exactly
the fiber product. `
\begin{align*}  
B \times_A C \mathrel{\vcenter{:}}=\left\{{(r, s) \in B\times C ~{\text{s.t.}}~\phi_B(r) = \phi_C(s) \in A}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $X$ be an affine variety with the Zariski topology and let
$\mathcal{F} \mathrel{\vcenter{:}}={\mathcal{O}}_X$ be the sheaf of
regular functions: `
\begin{align*}  
{\mathcal{O}}_X(U) \mathrel{\vcenter{:}}=\left\{{f: U\to k ~{\text{s.t.}}~\forall p\in U,\, \exists U_p \ni p,\,\, {\left.{f}\right|_{U_p}} ={g_p \over h_p} }\right\}
.\end{align*}`{=tex}

Is this a presheaf? We can check that there are restriction maps: `
\begin{align*}  
{\mathcal{O}}_X(U) &\to {\mathcal{O}}_X(V) \\
\left\{{f: U\to K}\right\} &\mapsto \left\{{{\left.{f}\right|_{V}}(x) \mathrel{\vcenter{:}}= f(x) \text{ for } x \in V }\right\}
.\end{align*}`{=tex} This makes sense because if $V\subset U$, any
$x\in V$ is in the domain of $f$. Given that $f$ is locally a fraction,
say $\rho = g_p / h_p$ on $U_p \ni p$, is ${\left.{\phi}\right|_{V}}$
locally a fraction? Yes: for all $p\in V\subset U$, $\phi = g_p / f_p$
on $U_p$ and this remains true on $U_p \cap V$.

To check that ${\mathcal{O}}_X$ is a sheaf, given a set of regular
functions $\left\{{\phi_i: U_i \to k}\right\}$ agreeing on
intersections, define `
\begin{align*}  
\phi: \cup U_i &\to k\\
\phi(x) &\mathrel{\vcenter{:}}=\phi_i(x) \text{ if }x\in U_i
.\end{align*}`{=tex}

This is well-defined, since if $x\in U_i \cap U_j$,
$\phi_i(x) = \phi_j(x)$ since both restrict to the same function on
$U_i \cap U_j$ by assumption.

Why is $\phi$ locally a fraction? We need to check that for all
$p\in U \mathrel{\vcenter{:}}=\cup U_i$ there exists a $U_p \ni p$ with
${\left.{\phi}\right|_{U_p}} = g_p/h_p$. But any $p\in \cup U_i$ implies
$p\in U_i$ for some $i$. Then there exists an open set $U_{i, p} \ni p$
in $U_i$ such that ${\left.{\phi}\right|_{U_{i, p}}} = g_p / h_p$ by
definition of a regular function. So take $U_p = U_{i, p}$ and use the
fact that ${\left.{\phi}\right|_{U_i}} = \phi_i$ along with
compatibility of restriction.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
General observation: any presheaf of functions is a sheaf when the
functions are defined by a local property, i..e any property that can be
checked at $p$ by considering an open set $U_p \ni p$.

As in the examples of smooth or holomorphic functions, these were local
properties. E.g. checking that a function is smooth involves checking on
an open set around each point. On the other hand, being a constant
function is not a local property.

```{=latex}
\end{remark}
```
:::

::: {.definition title="Restriction of a (Pre)sheaf"}
```{=latex}
\begin{definition}[Restriction of a (Pre)sheaf]
```
Given a sheaf $\mathcal{F}$ on $X$ and an open set $U\subset X$, we can
define a sheaf ${\left.{\mathcal{F}}\right|_{U}}$ on $U$ (with the
subspace topology) by defining
${\left.{\mathcal{F}}\right|_{U}}(V) \mathrel{\vcenter{:}}=\mathcal{F}(V)$
for $U\subseteq V$.

```{=latex}
\end{definition}
```
:::

::: {.definition title="Stalks"}
```{=latex}
\begin{definition}[Stalks]
```
Let $\mathcal{F}$ be a sheaf on $X$ and $p\in X$ a point. The *stalk* of
$\mathcal{F}$ at $p$, denoted $\mathcal{F}_p$ for $p\in U$, is defined
by `
\begin{align*}  
\mathcal{F}_p \mathrel{\vcenter{:}}=\left\{{(U, \phi) ~{\text{s.t.}}~\phi \in \mathcal{F}(U) }\right\} / \sim
\end{align*}`{=tex} where $(U, \phi) \sim (V, \phi')$ iff there exists a
$W\subset U\cap V$ and $p\in W$ such that
${\left.{\phi}\right|_{W}} = {\left.{\phi}\right|_{W}}'$.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
What is the stalk of $\operatorname{Hol}({\mathbb{C}})$ at $p=0$?

Examples of equivalent elements in this stalk:

![O](figures/image_2020-09-29-10-38-22.png)

In this case `
\begin{align*}  
\operatorname{Hol}({\mathbb{C}})_0 = \left\{{\phi = \sum_{i>0}c_i z^i ~{\text{s.t.}}~\phi \text{ has a positive radius of convergence}}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.definition title="Sections"}
```{=latex}
\begin{definition}[Sections]
```
An element $f\in \mathcal{F}(U)$ is called a *section* over $U$, and
elements of the stalk $f\in \mathcal{F}_p$ are called *germs* at $p$.

```{=latex}
\end{definition}
```
:::

Thursday, October 01
====================

Stalks and Localizations
------------------------

Recall that a sheaf of rings on a topological space $X$ is a ring
$\mathcal{F}(U)$ for all open sets $U\subset X$ satisfying four
properties:

1.  The empty set is mapped to zeor.

2.  The morphism $\mathcal{F}(U)\to \mathcal{F}(U)$ is the identity.

3.  Given $W\subset V\subset U$ we have `<!--\begin{center}-->`{=html}
    `<!--\begin{tikzcd}-->`{=html}
    `<!--\mathcal{F}(U) \ar[rd] & & \mathcal{F}(V) \ar[ld] \\-->`{=html}
    `<!--& \mathcal{F}(W) &-->`{=html} `<!--\end{tikzcd}-->`{=html}
    `<!--\end{center}-->`{=html}

4.  Gluing: given sections $s_i \in\mathcal{F}(U_i)$ which agree on
    overlaps (restrict to the same function on $U_i\cap U_j$), there is
    a unique $s\in \mathcal{F}(\cup U_i)$.

::: {.example}
```{=latex}
\begin{example}
```
If $X$ is an affine variety with the zariski topology, $\mathcal{O}_X$
is a sheaf of regular functions, where we recall $\mathcal{O}_X(U)$ are
the functions $\phi: U\to k$ that are locally a fraction.

```{=latex}
\end{example}
```
:::

Recall that the *stalk* of a sheaf $\mathcal{F}$ at a point $p\in X$, is
defined as `
\begin{align*}  
\mathcal{F}_p \mathrel{\vcenter{:}}=\left\{{(U, \phi) ~{\text{s.t.}}~p\in U \text{ open },\, \phi \in \mathcal{F}(U)}\right\}/\sim
.\end{align*}`{=tex} where $(U, \phi) \sim (U', \phi')$ if there exists
a $p\in W \subset U\cap U'$ such $\phi, \phi'$ restricted to $W$ are
equal.

Recall that a *local ring* is a ring with a unique maximal ideal
${\mathfrak{m}}$. Given a prime ideal ${\mathfrak{p}}\in R$, so
$ab\in {\mathfrak{p}}\implies a,b\in {\mathfrak{p}}$, the complement
$R\setminus P$ is closed under multiplication. So we can localize to
obtain
$R_{\mathfrak{p}}= \left\{{a/s ~{\text{s.t.}}~s\in R\setminus P, a\in R}\right\}/\sim$
where $a'/s' \sim a/s$ iff there exists a $t\in R\setminus P$ such that
$t(a's - as') = 0$.

::: {.warning}
```{=latex}
\begin{warning}
```
Note that $R_f$ is localizing at the powers of $f$, whereas
$R_{\mathfrak{p}}$ is localizing at the *complement* of
${\mathfrak{p}}$.

```{=latex}
\end{warning}
```
:::

Since maximal ideals are prime, we can localize any ring $R$ at a
maximal ideal $R_{\mathfrak{m}}$, and this will be a local ring. Why?
The ideals in $R_{\mathfrak{m}}$ biject with ideals in $R$ contained in
${\mathfrak{m}}$. Thus all ideals in $R_{\mathfrak{m}}$ are contained in
the maximal ideal generated by ${\mathfrak{m}}$,
i.e. ${\mathfrak{m}}R_{\mathfrak{m}}$.

::: {.lemma title="?"}
```{=latex}
\begin{lemma}[?]
```
Let $X$ be an affine variety. The stalk of the sheaf of regular
functions
${\mathcal{O}}_{X, p} \mathrel{\vcenter{:}}=({\mathcal{O}}_X)_p$ is
isomorphic to the localization $A(X)_{{\mathfrak{m}}_p}$ where
${\mathfrak{m}}_p \mathrel{\vcenter{:}}= I(\left\{{p}\right\})$.

```{=latex}
\end{lemma}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
We can write `
\begin{align*}  
A(X)_{{\mathfrak{m}}_p} \mathrel{\vcenter{:}}=\left\{{{g\over f} ~{\text{s.t.}}~g\in A(X),\, f\in A(X)\setminus{\mathfrak{m}}_p}\right\} / \sim \\
\text{ where } g_1/f_1 \sim g_2/f_2 \iff \exists h(p) \neq 0 \text{ where }0 = h(f_2 g_1 - f_1 g_2)
.\end{align*}`{=tex} where the $f$ are regular functions on $X$ such
that $f(p) = 0$.

We can also write `
\begin{align*}  
{\mathcal{O}}_{X, p} \mathrel{\vcenter{:}}=\left\{{(U, \phi) ~{\text{s.t.}}~p\in U,\, \phi \in {\mathcal{O}}_X(U) }\right\} /\sim 
\\ \text{ where } (U, \phi) \sim (U', \phi') 
\iff \exists p\in W \subset U\cap U' \text{ s.t. } {\left.{\phi}\right|_{W}} = {\left.{\phi'}\right|_{W}}
.\end{align*}`{=tex}

So we can define a map `
\begin{align*}  
\Phi: A(X)_{{\mathfrak{m}}_p} &\to {\mathcal{O}}_{X, p} \\
{g\over f} &\mapsto \qty{D_f, {g\over f}}
.\end{align*}`{=tex}

**Step 1:** There are equivalence relations on both sides, so we need to
check that things are well-defined.

We have `
\begin{align*}  
g/f \sim g'/f' &\iff \exists g \text{ such that } h(p) \neq 0,\, h(gf' - g'f)=0 \in A(X) \\
&\iff \text{the functions } {g\over f}, {g' \over f'} \text{ agree on } W\mathrel{\vcenter{:}}= D(f) \cap D(f') \cap D(h) \\
&\implies (D_f, g/f) \sim (D_{f'}, g'/f')
,\end{align*}`{=tex} since there exists a $W\subset D_f \cap D_{f'}$
such that $g/f, g'/f'$ are equal.\

**Step 2:** Surjectivity, since this is clearly a ring map with
pointwise operations.

Any germ can be represented by $(U, \phi)$ with
$\phi \in {\mathcal{O}}_X(U)$. Since the sets $D_f$ form a base for the
topology, there exists a $D_f\subset U$ containing $p$. By definition,
$(U, \phi) = (D_f, {\left.{\phi}\right|_{D_f}})$ in
${\mathcal{O}}_{X, p}$.

Using the proposition that ${\mathcal{O}}_X(D(f)) = A(X)_f$, this
implies that ${\left.{\phi}\right|_{D_f}} = g/f^n$ for some $n$ and
$f(p) \neq 0$, so $(U, \phi)$ is in the image of $\Phi$.\

**Step 3**: Injectivity. We want to show that $g/f\mapsto 0$ implies
that $g/f = 0 \in A(X)_{{\mathfrak{m}}_p}$.

Suppose that $(D_f, g/f) = 0 \in {\mathcal{O}}_{X, p}$ and
$(U, \phi) = 0 \in {\mathcal{O}}_{X,p}$, then there exists an open
$W\subset D_f$ containing $p$ such that after passing to some
distinguished open $D_h\ni p$ such that $\phi = 0$ on $D_h$. Wlog we can
assume $\phi = 0$ on $U$, since we could shrink $U$ (staying in the same
equivalence class) to make this true otherwise. Then $\phi = g/f$ on
$D_h$, using that ${\mathcal{O}}_X(D_f) = A(X)_f$, so $g/f = 0$ here. So
there exists a $k$ such that $f^k(g\cdot 1 - 0\cdot f) = 0$ in $A(X)$,
so $f^k g=0 \in A(X)_{{\mathfrak{m}}_p}$.

```{=latex}
\end{proof}
```
:::

Conclusion: `
\begin{align*}  
{\mathcal{O}}_{X, p} \cong A(X)_{{\mathfrak{m}}_p}
.\end{align*}`{=tex}

::: {.example}
```{=latex}
\begin{example}
```
Let $X = \left\{{p, q}\right\}$ with the discrete topology with the
sheaf $\mathcal{F}$ given by
$p\mapsto R, q\mapsto S, X\mapsto R\times S$.

Then $\mathcal{F}_p = R$, since if $U$ is open and $p\in\ U$ then either
$U= \left\{{p}\right\}$ or $U = X$. We can check that for $(r, s)$ a
section of $\mathcal{F}$, we have an equivalence of germs
$(X, (r, s)) \sim (\left\{{p}\right\}, r)$ since
$\left\{{p}\right\} \subset X\cap\left\{{p}\right\}$. Here $X$ plays the
role of $U$, $\left\{{p}\right\}$ of $U'$, and the last
$\left\{{p}\right\}$ the role of $W \subset U\cap U'$.

`
\begin{align*}  
{\mathcal{O}}_{X, p} &\to A(X) \\
(\left\{{p}\right\}, r) &\mapsto r \\
\mathcal{F}_p &\cong R
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $M$ be a manifold and consider the sheaf $C^\infty$ of smooth
functions on $M$. Then the stalk $C_p^\infty$ at $p$ is defined as the
set of smooth functions in a neighborhood of $p$ modulo functions being
equivalent if they agree on a small enough ball $B_\varepsilon(p)$. This
contains a maximal ideal ${\mathfrak{m}}_p$, the smooth functions
vanishing at $p$.

Then ${\mathfrak{m}}_p^2$ is again an ideal, equal to the set
$\left\{{f ~{\text{s.t.}}~{\partial}_i {\partial}_j f\mathrel{\Big|}_p = 0,\, \forall i,j}\right\}$.
Thus
${\mathfrak{m}}_p/{\mathfrak{m}}_p^2 \cong \left\{{{\partial}_v}\right\}^\vee$,
the dual of the set of directional derivatives.

```{=latex}
\end{example}
```
:::

What's the Point!
-----------------

Problem: what should a map of affine varieties be? A bad definition
would be just taking the continuous maps: for example, any bijection
${\mathbb{A}}_{\mathbb{C}}^1$ is a homeomorphism in the zariski
topology. Why? This coincides with the cofinite topology, and the
preimage of a cofinite set is cofinite.

How do we fix this?

1.  $f:X\to Y$ is continuous, i.e. $f^{-1} (U)$ is open whenever $U$ is
    open.

2.  Given $U\subset Y$ open and $\phi \in {\mathcal{O}}_Y(U)$, the
    function $\phi \circ f: f^{-1}(U) \to k$ is regular.

We'll take this to be the definition of a morphism $X\to Y$.

::: {.example}
```{=latex}
\begin{example}
```
For smooth manifolds, we also require that there is a pullback that
preserves smooth functions: `
\begin{align*}  
f^*: C^\infty(U) \to C^\infty(f^{-1}(U))
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

Tuesday, October 06
===================

Note: the sheaf of locally constant functions valued in a set $S$ is
written $\underline{\mathbf S}$.

Gathmann Chapter 4
------------------

::: {.definition title="Ringed Spaces"}
```{=latex}
\begin{definition}[Ringed Spaces]
```
A **ringed space** is a topological space $X$ together with a sheaf
${\mathcal{O}}_X$ of rings.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
```{=tex}
\hfill
```
1.  $X$ an affine variety and ${\mathcal{O}}_X$ its ring of regular
    functions.

2.  $X$ a manifold over ${\mathbb{R}}^n$ with ${\mathcal{O}}_X$ a ring
    of smooth or continuous functions on $X$.

3.  $X = \left\{{p, q}\right\}$ with the discrete topology and
    ${\mathcal{O}}_X$ given by $p\mapsto R, q\mapsto S$.

4.  Let $U\subset X$ an open subset of $X$ an affine variety. Then
    declare ${\mathcal{O}}_U$ to be ${\left.{OO_X}\right|_{U}}$.

```{=latex}
\end{example}
```
:::

Recall that the restriction of a sheaf $\mathcal{F}$ to an open subset
$U\subset X$ is defined by
${\left.{\mathcal{F}}\right|_{U}}(V) = \mathcal{F}(V)$.

::: {.example}
```{=latex}
\begin{example}
```
Let $X$ be a topological space and $p\in X$ a point. The *skyscraper
sheaf at $p$* is defined by `
\begin{align*}  
K_p(U) \mathrel{\vcenter{:}}=
\begin{cases}
K & p\in U \\
0 & p\not\in U
\end{cases}
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

Convention: we'll always assume that ${\mathcal{O}}_X$ is a sheaf of
functions, so ${\mathcal{O}}_X(U)$ is a subring of all
$K{\hbox{-}}$valued functions on $U$. Moreover,
$\operatorname{Res}_{UV}$ is restriction of $K{\hbox{-}}$valued
functions.

::: {.definition title="Morphisms"}
```{=latex}
\begin{definition}[Morphisms]
```
A *morphism of ringed spaces* `
\begin{align*}  
(X, {\mathcal{O}}_X) \xrightarrow{f}  (Y, {\mathcal{O}}_Y)
\end{align*}`{=tex} is a continuous map $X\to Y$ such that for all opens
$U \subset Y$ and any $\phi \in {\mathcal{O}}_Y(U)$, the pullback
satisfies $f^* \phi \in {\mathcal{O}}_X(f^{-1}(U))$, i.e. the pullback
of a regular function is regular.

```{=latex}
\end{definition}
```
:::

Note: need convention that ${\mathcal{O}}_X$ is a sheaf of
$K{\hbox{-}}$valued functions in order to make sense of pullbacks. In
general, for schemes, need some analog of
$f^*: {\mathcal{O}}_X(V) \to {\mathcal{O}}_X(U)$.

::: {.example}
```{=latex}
\begin{example}
```
If $(X, {\mathcal{O}}_X)$ is a ringed space associated to an affine
variety, ?

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $X = {\mathbb{A}}^1/K$ and $U = D(f)$ for $f(x) =x$, then
$D(f) = {\mathbb{A}}^1\setminus\left\{{0}\right\}$. Then
$U\hookrightarrow X$ is continuous. Given an open set
$D(f) \subset {\mathbb{A}}^1$, we have `
\begin{align*}  
{\mathcal{O}}_{{\mathbb{A}}^1}(D(f)) \mathrel{\vcenter{:}}=\left\{{g/f^n ~{\text{s.t.}}~g\in K[x]}\right\}
.\end{align*}`{=tex} We want to show that
$\iota: (U, {\mathcal{O}}_U) \hookrightarrow(X, {\mathcal{O}}_X)$ is a
morphism of ringed spaces where
${\mathcal{O}}_U(V) = {\mathcal{O}}_X(V)$. Does $\iota^*$ pull back
regular functions to regular functions? Yes, since
$\iota^{-1} (D(f)) = D(xf)$ and
$g/f^n \in {\mathcal{O}}_U(\iota^{-1}(D(f)))$.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
A non-example: take `
\begin{align*}  
h: {\mathbb{A}}^1 &\to {\mathbb{A}}^1 \\
x & \mapsto 
\begin{cases}
x & x \neq \pm 1 \\
-x & x= \pm 1
\end{cases}
.\end{align*}`{=tex} This is continuous because the zariski topology on
${\mathbb{A}}^1$ is the cofinite topology (since the closed sets are
finite), so any injective map is continuous since inverse images of
cofinite sets are again cofinite.

Question: Does $h$ define a morphism of ringed spaces? I.e., is the
pullback of a regular function on an open still regular? Take
$U = {\mathbb{A}}^1$ and the regular function
$x\in {\mathcal{O}}_{{\mathbb{A}}^1}({\mathbb{A}}^1)$. Then
$h^*x = x\circ h$, so `
\begin{align*}  
(x\circ h)(p) =
\begin{cases}
p & p\neq \pm 1 \\
-p & p= \pm 1 
\end{cases}
\not \in K[x]
\end{align*}`{=tex} since this is clearly not a polynomial: if two
polynomials agree on an infinite set of points, they are equal.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Consider
$\iota: ({\mathbb{R}}^2, C^\infty) \hookrightarrow({\mathbb{R}}^3, C^\infty)$
is the inclusion of a coordinate hyperplane. To say that this is a
morphism of ringed spaces, we need that for all
$U\subset {\mathbb{R}}^3$ open and $f:U\to {\mathbb{R}}$ a smooth
function, we want $i^* f\in C^\infty (\iota^{-1}(U))$. But this is the
same as $f\circ \iota \in C^\infty({\mathbb{R}}^2\cap U)$, which is
true.

```{=latex}
\end{example}
```
:::

::: {.proposition title="Properties of Morphisms of Ringed Spaces"}
```{=latex}
\begin{proposition}[Properties of Morphisms of Ringed Spaces]
```
```{=tex}
\hfill
```
1.  They can be composed: if $\phi \in {\mathcal{O}}_Z(U)$, then
    $g^* \phi \in {\mathcal{O}}_Y(g^{-1}(U))$ and so
    $f^* g^* \phi \in {\mathcal{O}}_X(f^{-1} g^{-1} (U))$.

2.  The identity is a morphism.

Thus ringed spaces form a category, since composition is associative.

```{=latex}
\end{proposition}
```
:::

::: {.lemma title="Gluing for Morphisms"}
```{=latex}
\begin{lemma}[Gluing for Morphisms]
```
Let $f:X\to Y$ be a continuous map between ringed spaces. Assume there
exists an open cover $\left\{{U_i}\right\}_{i\in I}\rightrightarrows X$
such that ${\left.{f}\right|_{U_i}}$ is a morphism, then $f$ is a
morphism.

Slogan: it suffices to check a morphism on an open cover.

```{=latex}
\end{lemma}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Part a: Need to check that $f$ is continuous, can compute `
\begin{align*}  
f^{-1}(V) = \bigcup_{i\in I} U_i \cap f^{-1}(V) = \bigcup_{i\in I} {\left.{f}\right|_{U_i}}^{-1} (V)
.\end{align*}`{=tex} but the later is open as a union of open sets,
where each constituent set is open by assumption.

> Will finish proof next time.

```{=latex}
\end{proof}
```
:::

Thursday, October 08
====================

::: {.proposition title="Gluing"}
```{=latex}
\begin{proposition}[Gluing]
```
Let $f:X\to Y$ be a map of ringed spaces such that there exists an open
cover $U_i\rightrightarrows X$ such that ${\left.{f}\right|_{U_i}}$ is a
morphism of ringed spaces. Then $f$ itself is a morphism is a morphism
of ringed spaces.

```{=latex}
\end{proposition}
```
:::

Recall that we proved part (a).

::: {.proof title="part b"}
```{=latex}
\begin{proof}[part b]
```
We want to show that $f^*$ sends sections of ${\mathcal{O}}_Y$ to
sections of ${\mathcal{O}}_X$ (e.g. regular functions pullback). Let
$V\subset Y$ be open and $\phi \in {\mathcal{O}}_Y(V)$, then `
\begin{align*}  
{\left.{f^* \phi}\right|_{U_i \cap f^{-1} (V)}}
\qty{ {\left.{f^* \phi}\right|_{U_i \cap f^{-1} (V)}} }^* \phi \in 
{\mathcal{O}}_X(U_i f^{-1} (V))
.\end{align*}`{=tex}

Since pullback commutes with restriction, $f^* \phi$ is the unique
$k{\hbox{-}}$valued function for which `
\begin{align*}  
{\left.{f^* \phi}\right|_{U_i \cap f^{-1} V}} =
{\left.{f}\right|_{U_i\cap f^{-1} V}}^* \phi
.\end{align*}`{=tex} and all of the latter functions agree on overlaps
$U_i \cap U_j$. This by unique gluing,
$f^* \phi \in {\mathcal{O}}_X(f^{-1}(V))$.

```{=latex}
\end{proof}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $U\subset X$ be open in an affine variety and let
$Y\subset {\mathbb{A}}^n$ be another affine variety. Then the morphisms
$U\to Y$ of ringed spaces are the maps of the form
$f = {\left[ {f_1, \cdots, f_n} \right]}: U\to {\mathbb{A}}^n$ such that
$f(U) \subset Y$ and $f_i \in {\mathcal{O}}_X(U)$ for all $i$.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
$\implies$: Assume that $f: U\to Y$ is a morphism. Then the coordinate
functions $Y\xrightarrow{y_i} {\mathbb{A}}_1$ are regular functions,
since they generate ${\mathcal{O}}_Y(Y) = k[y_1, \cdots, y_n]/I(Y)$.
Then $f^* y_i$ is a regular function, so define
$f_i \mathrel{\vcenter{:}}= f^* y_i$. But then
$f = {\left[ {f_1, \cdots, f_n} \right]}$.

$\impliedby$: Conversely suppose
$f \mathrel{\vcenter{:}}={\left[ {f_1, \cdots, f_n} \right]}: U\to Y \subset {\mathbb{A}}^n$
is a map such that $f_i \in {\mathcal{O}}_U(U)$. We want to show that
$f$ is a morphism, i.e. that the pullback of every regular function is
regular. We thus need to show

1.  $f$ is continuous, and
2.  $f^*$ pulls back regular functions.

For 1, suppose $Z$ is closed, then it suffices to show $f^{-1} (Z)$ is
closed. Then $Z = V(g_1, \cdots, g_n)$ for some $g_i \in A(Y)$. So we
can write `
\begin{align*}  
f^{-1} (Z) = \left\{{
x\in U ~{\text{s.t.}}~g_i(f_1(x), \cdots, f_n(x)  ) = 0\, \forall i
}\right\}
.\end{align*}`{=tex} The claim is that the functions $g_i$ are regular,
i.e. in ${\mathcal{O}}_U(U)$, because the $g_i$ are polynomials in
regular functions, which form a ring.

This is the common vanishing locus of $m$ regular functions on $U$. By
lemma 3.4, the vanishing locus of a regular function is closed, so
$f^{-1} (Z)$ is closed.\

For 2, let $\phi \in {\mathcal{O}}_Y(W)$ be a regular function on
$W\subset Y$ open. Then `
\begin{align*}  
f^* \phi  = \phi \circ f: f^{-1} (W) &\to K \\
x &\mapsto \phi(f_1(x), \cdots, f_n(x))
.\end{align*}`{=tex} We want to show that this is a regular function.
Since the $f_i$ are regular functions, they are locally fractions, so
for all $x\in f^{-1} (W)$ there is a neighborhood of $U_x\ni x$ such
that (by intersecting finitely many neighborhoods) all of the $f_i$ are
fractions $a_i/b_i$.

Then at a point $p = {\left[ {f_i(x)} \right]}$ in the image, there
exists an open neighborhood $W_p$ in $W$ such that $\phi = U/V$. But
then
$\phi{{\left[ {a_i /b_i} \right]}} = (U/V)({\left[ {a_i/b_i} \right]})$,
which is evaluation of a fraction of functions on fractions.

```{=latex}
\end{proof}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $Y = V(xy-1)$ and $U\subset {\mathbb{A}}^1$ be $D(x)$, so
$U = {\mathbb{A}}^1\setminus\left\{{0}\right\}$. Note that
$A(Y) = k[x,y]/\left\langle{xy-1}\right\rangle$ and
$A({\mathbb{A}}^1) = k[t]$, and
$f_1=t, f_2=t^{-1} \in {\mathcal{O}}_U(U)$. Then `
\begin{align*}  
{\left[ {f_1, f_2} \right]}: U &\to Y\subset  {\mathbb{A}}^2 \\
p &\mapsto {\left[ {p, {1\over p} } \right]}
.\end{align*}`{=tex} Thus the image lies in $Y$.

Conversely, there is a map `
\begin{align*}  
V(xy - 1) &\to U = D(0) \subset  {\mathbb{A}}^1 \\
{\left[ {x, y} \right]} &\mapsto x
.\end{align*}`{=tex} This a morphism from $V(xy - 1)$ to
${\mathbb{A}}^1$, since the coordinates are regular functions. Since the
image is contained in $U$, the definitions imply that this is in fact a
morphism of ringed spaces. We thus have maps
$U\xrightarrow{{\left[ {t, t^{-1} } \right]}} V(xy-1)$ and
$V(xy-1) \xrightarrow{x} U$ which are mutually inverse, so these are
isomorphic as ringed spaces.

```{=latex}
\end{example}
```
:::

Thus maps of affine varieties (or their open subsets) are given by
functions whose coordinates are regular.

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
Let $X, Y$ be affine varieties, then there is a correspondence `
\begin{align*}  
\left\{{\substack{\text{Morphisms } X\to Y }}\right\}
&\iff
\left\{{\substack{k{\hbox{-}}\text{algebra morphisms } A(Y) \to A(X)}}\right\} \\
X\to Y &\mapsto A(Y) \to A(X) \\
f &\mapsto f^* {\mathcal{O}}_Y(Y) = {\mathcal{O}}_X(X)
.\end{align*}`{=tex}

> Thus there is an equivalence of categories between reduced
> $k{\hbox{-}}$algebras and ???.

```{=latex}
\end{corollary}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
We have a map in the forward direction. Conversely, given a
$k{\hbox{-}}$algebra morphism $g:A(Y) \to A(X)$, we need to construct a
morphism $f$ such that $f^* = g$. Let $Y\subset {\mathbb{A}}^n$ with
coordinate functions $y_1, \cdots, y_n$. Then
$f_i = g(y_i) \in A(X) = {\mathcal{O}}_X(X)$. Set
$f = {\left[ {f_1, \cdots, f_n} \right]}$. Then by the proposition, $f$
is a morphism to ${\mathbb{A}}^n$.

Let $h\in A({\mathbb{A}}^n)$, then

`
\begin{align*}
(f^*h)(x) 
&= h(f(x)) \\
&= h({\left[ {f_1(x) , \cdots, f_n(x)} \right]}) \\
&= h(g(y_1), \cdots, g(y_n)) \\ 
&= g(h)(x) \qquad\text{since $g$ is an algebra morphism, $h$ is a polynomial}
\end{align*}`{=tex} which follows since $f_i(x) = g(y_i)(x)$, where
$g:A(Y) \to A(X)$. So $f^*(h) = g(h)$ for all $h\in A({\mathbb{A}}^n)$,
so the pullback of $f$ is $g$. We now need to check that it's contained
in the image. Let $h\in I(Y)$, then $f^*(h) = g(h) = 0$ since
$h = 0 \in A(Y)$. So $\operatorname{im}f \subset Y$. Since the
coordinate $f_i$ are regular, this is a morphism, and we have $f^* = g$
as desired.

```{=latex}
\end{proof}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Isomorphisms are not necessarily bijective morphisms. Let
$X = V(y^2 - x^3) \subset {\mathbb{A}}^2$.

Then there is a morphism `
\begin{align*}  
\phi: {\mathbb{A}}^1 &\to X \\
t &\mapsto {\left[ {t^2, t^3} \right]}
,\end{align*}`{=tex} since the coordinates $t^2, t^3$ are regular
functions. Then $\phi$ is a bijection, since we can define a piecewise
inverse `
\begin{align*}  
\phi^{-1}: X &\to {\mathbb{A}}^1 \\
{\left[ {x, y} \right]} &\mapsto 
\begin{cases}
y/x & x\neq 0 \\
0 & \text{else}
\end{cases}
.\end{align*}`{=tex} However, $\phi ^{-1}$ is not a morphism. For
instance, pulling back the function $t$ yields
$\qty{\phi ^{-1} }^* t \not \in A(X)$, since it is equal to the map
${\left[ {x, y} \right]} \mapsto y/x$ for $x\neq 0$ and $0$ if $x=y=0$,
which is not a regular function.

Since $\phi$ is a morphism, we can consider the corresponding map of
$k{\hbox{-}}$algebras `
\begin{align*}  
\phi^*: A(X) &\to A({\mathbb{A}}^1) \\
k[x, y]/\left\langle{y^2 - x^3}\right\rangle &\mapsto k[t] \\
x & \mapsto t^2 \\
y &\mapsto t^3
.\end{align*}`{=tex}

```{=latex}
\end{example}
```
:::

Tuesday, October 13
===================

Last time: proved that if $X, Y$ are affine varieties then there is a
bijection `
\begin{align*}  
\left\{{\substack{\text{Morphisms} \\ f:X\to Y}}\right\}
&\iff
\left\{{\substack{\text{$k{\hbox{-}}$algebra morphisms}\\ A(Y) \to A(X)}}\right\}
\\
f & \mapsto f^*: {\mathcal{O}}_Y(Y) \to {\mathcal{O}}_X(X)
.\end{align*}`{=tex}

::: {.remark}
```{=latex}
\begin{remark}
```
A morphism $f:X\to Y$ is by definition a morphism of ringed spaces where
${\mathcal{O}}_X, {\mathcal{O}}_Y$ are the sheaves of regular functions.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This shows $X\cong Y$ as ringed spaces iff $A(X) \cong A(Y)$ as
$k{\hbox{-}}$algebras.

```{=latex}
\end{remark}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Take `
\begin{align*}  
f: {\mathbb{A}}^1 &\to V(y^2 - x^3) \subset {\mathbb{A}}^2\\
t &\mapsto (t^2, t^3)
.\end{align*}`{=tex} This is a morphism by proposition 4.7.

We then get a map on algebras `
\begin{align*}  
f^*: A(V(y^2 - x^3)) = k[x, y] / \left\langle{y^2 - x^3}\right\rangle &\to k[t] \\
x & \mapsto t^2 \\
y & \mapsto t^3
,\end{align*}`{=tex} but even though $f$ is a bijective morphism, it's
not an isomorphism of ringed spaces. This can be seen from the fact that
the image doesn't contain $t$.

```{=latex}
\end{example}
```
:::

> Review of introductory category theory.

We'll define a category $\mathrm{AffVar}_k$ whose objects are affine
varieties over $k$ and morphisms in $\hom(X, Y)$ will be morphisms of
ringed spaces. There is a contravariant functor $A$ into reduced
finitely generated $k{\hbox{-}}$algebras which sends $X$ to $A(X)$ and
sends morphisms $f:X\to Y$ to their pullbacks $f^*:A(Y) \to A(X)$, where
"reduced" denotes the fact that there are no nilpotents.

> Review of the universal property of the product.

::: {.remark}
```{=latex}
\begin{remark}
```
If we have $X,Y$ affine varieties, we take $X\times Y$ to be the
categorical product instead of the underlying product of topological
spaces. We have `
\begin{align*}
A(X\times Y) \cong A(X) \otimes_k A(Y) \cong k[x_1, \cdots, x_n, y_1, \cdots, y_m] / I(X) \otimes 1 + 1 \otimes I(Y).\end{align*}`{=tex}
This recovers the product, since if we have

```{=tex}
\begin{tikzcd}
Z \ar[dr, dotted, "\exists H"]\ar[rrd, bend left, "f"]\ar[rdd, bend right, "g"] & & \\
& X\times Y\ar[r]\ar[d] &X  \\
& Y &  \\
\end{tikzcd}
```
where $H = (f, g)$.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Products of spaces are sent to the tensor product of
$k{\hbox{-}}$algebras, i.e. pullbacks are sent to pushouts.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Note that the groupoid associated to a group does not have products:
there can only be one element, but the outer triangles will not
necessarily simultaneously commute.

```{=latex}
\end{remark}
```
:::

Thursday, October 15
====================

End of Chapter 4
----------------

Recall the proposition: morphisms between affine varieties are in
bijection with $k{\hbox{-}}$algebra morphisms between their coordinate
rings. As a result, we'll redefine an affine variety to be a ringed
space isomorphic to an affine variety.

This allows you to say that affine varieties embedded in different ways
are the same.

::: {.example}
```{=latex}
\begin{example}
```
${\mathbb{A}}^2$ vs $V(x) \subset {\mathbb{A}}^n$. In fact, the map `
\begin{align*}  
f: {\mathbb{A}}^2 &\to {\mathbb{A}}^3
(y,z) &\mapsto (0, y, z)
.\end{align*}`{=tex} This is continuous and the pullback of regular
functions are again regular.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
With the new definition, there is a bijection between affine varieties
up to isomorphisms and finitely generated $k{\hbox{-}}$algebras up to
algebra isomorphism.

```{=latex}
\end{remark}
```
:::

::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
Let $D(f) \subset X$ be a distinguished open, then $D(f)$ is a ringed
space since $(X, {\mathcal{O}}_X)$ is and we can restrict the structure
sheaf.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Set `
\begin{align*}  
Y \mathrel{\vcenter{:}}=\left\{{(x, t) \in X\times{\mathbb{A}}^1 ~{\text{s.t.}}~tf(x) = 1}\right\} \subset X\times{\mathbb{A}}^1
.\end{align*}`{=tex} This is an affine variety, since
$Y = V(I + \left\langle{ft-1}\right\rangle)$. This is isomorphic to
$D(f)$ by the map `
\begin{align*}  
Y &\to D(f)
(x, t) &\mapsto x
.\end{align*}`{=tex} with inverse $x \mapsto (x, {1\over f(x)})$.

![Image](figures/image_2020-10-15-09-50-03.png)

Note that $\pi: X\times{\mathbb{A}}^1 \to X$ is regular, using prop 3.8:
if the coordinates of a map are regular functions, then the entire map
is a morphism of ringed spaces. We can then note that $1\over f(x)$ is
regular on $D(f)$, since $f\neq 0$ there.

```{=latex}
\end{proof}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
${\mathbb{A}}^2 \setminus\left\{{0}\right\}$ is not an affine variety.
Note that this is also not a distinguished open.

We showed on a HW problem that the regular functions on
${\mathbb{A}}^2\setminus\left\{{0}\right\}$ are $k[x, y]$, which are
also the regular functions on ${\mathbb{A}}^2$. So there is a map
inducing a pullback `
\begin{align*}  
\iota: {\mathbb{A}}^2\setminus\left\{{0}\right\}&\to {\mathbb{A}}^2 \\
\iota^* k[x, y] \xrightarrow{\sim} k[x, y]
.\end{align*}`{=tex} Note that $\iota^*$ is an isomorphism on the space
of regular functions, but $\iota$ itself is not an isomorphism of
topological spaces. Why? $i^{-1}$ is not defined at zero.

```{=latex}
\end{example}
```
:::

Chapter 5
---------

::: {.definition title="Prevariety"}
```{=latex}
\begin{definition}[Prevariety]
```
A *prevariety* is a ringed spaced $X$ with a finite open cover by affine
varieties. This is a topological space $X$ with an open cover
$\left\{{U_i}\right\}_{i=1}^n \rightrightarrows X$ such that
$(U_i, {\left.{{\mathcal{O}}_X}\right|_{U_i}} )$ is isomorphic to an
affine variety. We'll call ${\mathcal{O}}_X$ the sheaf of *regular
functions* and $U_i\subset X$ *affine open sets*.

```{=latex}
\end{definition}
```
:::

One way to construct prevarieties from affine varieties is by *gluing*:

::: {.definition title="Glued Spaces"}
```{=latex}
\begin{definition}[Glued Spaces]
```
let $X_1, X_2$ be prevarieties which are themselves actual varieties.
Let $U_{12} \subset X_1, U_{21} \subset X_2$ be opens and
$f: U_{12} \to U_{21}$ an isomorphism of ringed spaces.

![Image](figures/image_2020-10-15-10-08-59.png)

As a set, take $X = X_1 {\coprod}X_2/\sim$ where $a\sim f(a)$ for all
$a\in U_{12}$. As a topological space, $U \subset X$ is open iff
$U_i \mathrel{\vcenter{:}}= U\cap X_i$ are open in $X_i$. As a ringed
space, we take
${\mathcal{O}}_X(U) \mathrel{\vcenter{:}}=\left\{{\phi: U\to k ~{\text{s.t.}}~{\left.{\phi}\right|_{U_i}} \in {\mathcal{O}}_{X_i}}\right\}$.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
The prototypical example is ${\mathbb{P}}^1/k$ constructed from two
copies of ${\mathbb{A}}^1/k$. Set
$X_1 = {\mathbb{A}}^1, X_2 = {\mathbb{A}}^2$, with
$U_{12} \mathrel{\vcenter{:}}= D(x) \subset X_1$ and
$U_{21} \mathrel{\vcenter{:}}= D(y) \subset X_2$. Then let `
\begin{align*}  
f: U_{12} &\to U_{21} \\
x & \mapsto {1\over x}
.\end{align*}`{=tex} This defines a regular function on $U_{12}$ so
defines a morphism $U_{12} \xrightarrow{\sim} {\mathbb{A}}^1$.

![Image](figures/image_2020-10-15-10-20-32.png)

Over ${\mathbb{C}}$, topologically this yields a sphere

![Image](figures/image_2020-10-15-10-23-24.png)

Given a ringed space $X = X_1\cup X_2$ with a structure sheaf
${\mathcal{O}}_X$, what is ${\mathcal{O}}_X(X)$? By definition, it's

`
\begin{align*}  
{\mathcal{O}}_X(X) \mathrel{\vcenter{:}}=\left\{{\phi: X\to k ~{\text{s.t.}}~{\left.{\phi}\right|_{X_1}}, {\left.{\phi}\right|_{X_2}} \text{ are regular} }\right\}
.\end{align*}`{=tex}

Then if ${\left.{\phi}\right|_{X_1}} = f(x)$ and
${\left.{\phi}\right|_{X_2}} = g(y)$, we have $y=1/x$ on the overlap and
so ${\left.{f(x)}\right|_{D(x)}} = {\left.{g(1/x)}\right|_{D(x)}}$.
Since $f, g$ are rational functions agreeing on an infinite set,
$f(x) = g(1/x)$ both being polynomial forces $f = g = c$ for some
constant $c \in k$. Thus ${\mathcal{O}}_X(X) = k$.

What about ${\mathcal{O}}_X(X_1)$? This is just $k[x]$, and similarly
${\mathcal{O}}_X(X_2) = k[y]$. We can also consider
${\mathcal{O}}_X(X_1\cap X_2) = D(x) \subset X$, so this yields
$k[x, 1/x]$. We thus have a diagram
```{=tex}
\begin{tikzcd}
                         & {\mathcal{O}}_X(X_1) = k[x] \ar[rd, "x\mapsto x"]   & \\
{\mathcal{O}}_X(X) \ar[ru] \ar[rd] &                                           & {\mathcal{O}}_X(X_1\cap X_2) = k[x, 1/x] \\
                         & {\mathcal{O}}_X(X_2) = k[y] \ar[ru, "y\mapsto 1/x"] &
\end{tikzcd}
```
```{=latex}
\end{example}
```
:::

Tuesday, October 20
===================

Gluing Two Opens
----------------

Recall that a *prevariety* is a ringed space that is locally isomorphic
to an affine variety, where we recall that $(X, {\mathcal{O}}_X)$ is
*locally isomorphic* to an affine variety iff there exists an open cover
$U_i \rightrightarrows X$ such that $(U_i, {\mathcal{O}}_{U_i})$.

We found one way of producing these: the gluing construction. Given two
ringed spaces $(X_1, {\mathcal{O}}_{X_1})$ and
$(X_2, {\mathcal{O}}_{X_2})$ and open sets $U_{12} \in X_1$ and
$U_{21} \in X_2$ and an isomorphism
$(U_{12}, {\mathcal{O}}_{U_{12}}) \xrightarrow{f} (U_{21}, {\mathcal{O}}_{U_{21}})$,
we defined

-   The topological space as $X_1 {\coprod}_f X_2$
-   The sheaf of rings as
    ${\mathcal{O}}_X = \left\{{\phi:U\to k ~{\text{s.t.}}~{\left.{\phi}\right|_{U\cap X_i}} \text{ is regular for } i=1,2 }\right\}$.

::: {.example}
```{=latex}
\begin{example}
```
${\mathbb{P}}^1/k = X_1 \cup X_2$ where
$X_1 \cong {\mathbb{A}}^1, X_2 \cong {\mathbb{A}}^2$. Take
$U_{12} = D(x)$ and $U_{21} = D(y)$ with `
\begin{align*}  
f: U_{12} &\to U_{21} \\
x &\mapsto {1\over x} = y
.\end{align*}`{=tex}

![Supposing $\operatorname{ch}(k) \neq 2$. Note that for ${\mathbb{C}}$
this recovers $S^2$ in the classical
topology.](figures/image_2020-10-20-09-41-55.png)

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $X_i = {\mathbb{A}}^1$ and $U_{12} = D(x), U_{21} = D(y)$ with `
\begin{align*}  
f: U_{12} &\to U_{21} \\
x &\mapsto x=y
.\end{align*}`{=tex}

![Line with the doubled origin.](figures/image_2020-10-20-09-44-41.png)

Then
${\mathcal{O}}_X = \left\{{\phi: X\to k ~{\text{s.t.}}~{\left.{\phi}\right|_{X_i}} \text{ is regular}}\right\} \cong k[x]$.

```{=latex}
\end{example}
```
:::

More General Gluing
-------------------

Now we want to glue more than two open sets. Let $I$ be an indexing set
for prevarieties $X_i$. Suppose that for an ordered pair $(i, j)$ we
have open sets $U_{ij} \subset X_i$ and isomorphisms
$f_{ij}: U_{ij} \xrightarrow{\sim} U_{ji}$ such that

a.  $f_{ji} = f_{ij}^{-1}$

b.  $f_{jk} \circ f_{ij} = f_{ik}$ (cocycle condition)

![Opens with isomorphisms.](figures/image_2020-10-20-09-54-14.png)

Then the gluing construction is given by

1.  $X\mathrel{\vcenter{:}}={\coprod}X_i/\sim$ where $x\sim f_{ij}(x)$
    for all $i,j$ and all $x\in U_{ij}$.

2.  ${\mathcal{O}}_x(U) \mathrel{\vcenter{:}}=\left\{{\phi:U\to k ~{\text{s.t.}}~{\left.{\phi}\right|_{U\cap X_i}} \in {\mathcal{O}}_{X_i} }\right\}$.

Every prevariety arises from the gluing construction applied to $X_i$
affine varieties, since a prevariety $(X, {\mathcal{O}}_X)$ by
definition has an open affine cover $X_i \rightrightarrows X$ and $X$ is
the result of gluing the $X_i$s by the identity.

::: {.example}
```{=latex}
\begin{example}
```
Let $X_1 = X_2 = X_3 = {\mathbb{A}}^2/k$. Glue by the following
instructions:

![The map not shown is whatever formula is necessary to make the diagram
commute.](figures/image_2020-10-20-10-11-07.png)

Here

-   $(y_1, y_2) = (1/x_1, x_2/x_1)$
-   $(z_1, z_2) = (1/x_2, x_1/x_2)$
-   $U_{12} = D(x_1)$
-   $U_{21} = D(x_2)$.

![Yields ${\mathbb{P}}^2$](figures/image_2020-10-20-10-13-56.png)

Here $X_1 = [1: y/x: z/x]$, $X_2 = [x/y: 1: z/y]$.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
From Gathmann 5.10, open and closed subprevarieties. Let $X$ be a
prevariety and suppose $U\subset X$ is open. Then $(U, {\mathcal{O}}_U)$
is a prevariety where
${\mathcal{O}}_U = {\left.{{\mathcal{O}}_X}\right|_{U}}$. How can we
write $U$ as (locally) an affine variety?

Since the $U_i$ are covered by distinguished opens $D_{ij}$ in $X_i$
where $X = \cup X_i$ with $X_i$ affine varieties, we can write
$U = \bigcup_i U_i = \bigcup_{i, j} D_{ij}$.

```{=latex}
\end{example}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Let $Y\subset X$ be a closed subset of a prevariety $X$. We need to
define ${\mathcal{O}}_Y(U)$ for all $U\subset Y$ open, so we set `
\begin{align*}  
{\mathcal{O}}_Y(U) = \left\{{\phi: U\to k ~{\text{s.t.}}~\forall p\in U, \, \exists V_p \text{ with } p\in V_p \subset_{\text{open}} X \text{ and } \psi\in {\mathcal{O}}_X(V_p) \text{ s.t. } {\left.{\psi}\right|_{U\cap V}} \phi  }\right\}
.\end{align*}`{=tex}

What's the picture?

![Sheaf for a closed subset.](figures/image_2020-10-20-10-29-25.png)

It's an exercise to show that this is a prevariety.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
If $U\subset X$ is an open subprevariety or $Y\subset X$ is a closed
subprevariety, then the inclusions are morphisms. We'd need to show that
a pullback of a function is regular, but this is set up by definition.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Define $\tilde {\mathcal{O}}_X(U)$ as the set of *all* functions
$U\to k$. Then the inclusion
$(X, {\mathcal{O}}_X) \hookrightarrow(X, \tilde {\mathcal{O}}_X)$ given
by the identity on $X$ is a morphism, but the identity in the reverse
direction is not.

```{=latex}
\end{remark}
```
:::

Thursday, October 22
====================

::: {.example}
```{=latex}
\begin{example}
```
Consider ${\mathbb{A}}^1$, whose polynomial functions are $k[x]$.
Consider now $D(x) \subset {\mathbb{A}}^1$, which is equal to the affine
variety $V(xy-1)$. Then the polynomial functions on $D(x)$ are
$k[x, y] / \left\langle{xy-1}\right\rangle \cong k[x, x^{-1} ]$.

```{=latex}
\end{example}
```
:::

Recall that a *prevariety* is a ringed space $(X, {\mathcal{O}}_X)$ such
that $X$ has a finite open cover by affine varieties
$(U_i, {\left.{{\mathcal{O}}_X}\right|_{U_i}})$, and a *morphism* of
prevarieties is a morphism of ringed spaces. We saw that one can
construct prevarieties by gluing finite collections of prevarieties or
affine varieties along open sets, and all prevarieties arise this way.

Similar to varieties, the product $P$ of prevarieties $X, Y$ will
satisfy a universal property:

[Tikz
Link](https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAAUQBfU9TXfIRQBGUsKq1GLNgC1uvEBmx4CRAExiJ9Zq0QgAGvL7LBRUWq1TdIAJrcJMKAHN4RUADMAThAC2SUSA4EEgAzDwe3n6IAUFIauEgXr7+1LGIZCAMWGDWUHRwABaOINTa0noAOhUwAB5YcDgICUlRGWkaIABGMGBQoRll1lVoWAD6hs2RSG3BiCHU3b1IALQhA1Zsw2N21Ax03Qzs-CpCIJ5YTgU49lxAA)
```{=tex}
\begin{center}
\begin{tikzcd}
P \arrow[rrd, "\pi_X", bend left] \arrow[rdd, "\pi_Y"', bend right] &                                                     &   \\
                                                                    & Z \arrow[d] \arrow[r] \arrow[lu, "\exists !", dashed] & X \\
                                                                    & Y                                                   &  
\end{tikzcd}
\end{center}
```
::: {.proposition title="?"}
```{=latex}
\begin{proposition}[?]
```
The product is unique up to unique isomorphism, i.e. there is a unique
isomorphism between any two products.

```{=latex}
\end{proposition}
```
:::

::: {.proof}
```{=latex}
\begin{proof}
```
Standard!

```{=latex}
\end{proof}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
Consider ${\mathbb{A}}^1 \times {\mathbb{A}}^1$, then the product is
(and should be) ${\mathbb{A}}^2$, but ${\mathbb{A}}^2$ does not have the
product topology. The open set $D(x-y)$ is not covered by products of
open sets.

> This happens because the Zariski topology is too weak.

```{=latex}
\end{example}
```
:::

Strategy to fix: use gluing. Let $X, Y$ be prevarieties and
$\left\{{U_i}\right\}, \left\{{V_i}\right\}$ be open affine covers of
$X$ and $Y$ respectively. We can construct the product
$U_i \times V_j \subset {\mathbb{A}}^{n+m}$, which is an affine variety
and satisfies the universal property for products. We then glue two such
products $U_{i_1} \times V_{j_1}$ and $U_{i_2} \times V_{j_2}$ along
their common open subset in
$\qty{U_{i_1}\cap U_{i_2} }\cap\qty{V_{j_1} \cap V_{j_2}} \subseteq X\times Y$.

Let
$\tilde U \mathrel{\vcenter{:}}= U_{i_1} \cap U_{i_2} \times V_{j_1} \cap V_{j_2}$,
we then need that

`
\begin{align*}  
(\tilde U, {\left.{ {\mathcal{O}}_{U_{i_1} \times V_{j_1}} }\right|_{\tilde U}} ) \cong
(\tilde U, {\left.{ {\mathcal{O}}_{U_{i_2} \times V_{j_2}} }\right|_{\tilde U}} )
.\end{align*}`{=tex} This follows from the universal property of
products, since the open set
$(U\times V, {\left.{ {\mathcal{O}}_{X\times Y} }\right|_{U\times V}} )$
is a categorical product of ringed spaces, and the identity provides a
unique isomorphism. By the gluing construction, this produces a ringed
space $(X\times Y, {\mathcal{O}}_{X\times Y})$, we just need to check
that this satisfies the universal property. We have projections
$\pi_X, \pi_Y$ set-theoretically, which restrict to morphisms on every
$U_i \times V_j$. For any prevariety $Z$, we get a unique set map
$h:Z\to X\times Y$ which commutes, so it suffices to check that $h$ is a
morphism of ringed spaces.

So consider $h^{-1} (U_i \times V_j) \subset Z$, which is an open subset
of $Z$ given by $f^{-1}(U) \times f^{-1}(V)$. Take an open cover and let
$W$ be an element in it. We can then restrict $f$ and $g$ to get
${\left.{f}\right|_{W}}:W\to U_i$ and ${\left.{g}\right|_{W}}:W\to V_j$
and their product is a morphism of ringed spaces. So $Z$ is covered by
open sets for which $h$ is a morphism of ringed spaces, making $h$
itself a morphism.

What was the point of constructing the product? We want some notion
analogous to being Hausdorff to distinguish spaces like
${\mathbb{P}}^1/k$ from the line with the doubled origin. The issue is
that these spaces with the Zariski topology are never Hausdorff. So we
make the following definition:

::: {.definition title="Separated"}
```{=latex}
\begin{definition}[Separated]
```
A prevariety is **separated** iff
$X \xhookrightarrow{\Delta_X} X\times X$ is a closed embedding, where
$\Delta(x) = (x, x)$ is the diagonal morphism.
i.e. $\text{id}_X \times\text{id}_X$.

```{=latex}
\end{definition}
```
:::

::: {.definition title="Variety"}
```{=latex}
\begin{definition}[Variety]
```
A **variety** is a separated prevariety.

```{=latex}
\end{definition}
```
:::

Tuesday, October 27
===================

Recall that an affine variety is given by
$X = V(I) \subset {\mathbb{A}}^n/k$, and we have sheaves of rings of
regular functions ${\mathcal{O}}_X$ on $X$. A prevariety is a ringed
space that is covered by finitely many affine spaces. A morphism of
prevarieties $f:X\to Y$ is a continuous map such that the pullbacks of
regular functions are regular, i.e. for all
$\phi \in {\mathcal{O}}_X(U)$ we have
$f^* \phi \in {\mathcal{O}}_X(f^{-1} (U) )$. We can form a category
$\operatorname{PreVar}_k$ of prevarieties over $k$, where we have
several important constructions

1.  Gluing

2.  Products: Given $X, Y$, there is a unique prevariety $X\times Y$
    such that

    ```{=tex}
    \begin{tikzcd}
      Z\ar[drr, bend left , "f_x"] \ar[rdd, bend right, "f_y"] \ar[rd, "\exists ! h", dotted] &                                         & \\
                                                                                           & X\times Y\ar[r, "\pi_X"]\ar[d, "\pi_Y"] & X \\
                                                                                           & Y                                       &
      \end{tikzcd}
    ```

We had an analogue of being Hausdorff: the diagonal $\Delta_X$ is
closed.

::: {.example}
```{=latex}
\begin{example}
```
Glue $D(x) \subset {\mathbb{A}}^1$ to $D(y) \subset {\mathbb{A}}^1$ by
the isomorphism `
\begin{align*}  
D(x) & \xrightarrow{\sim} D(y) \\
x &\mapsto y
.\end{align*}`{=tex} This yields an affine line with two origins:

![Line with two
origins.](figures/image_2020-10-27-09-47-27.png){width="250px"}

Consider the product:

![Product of lines with two
origins](figures/image_2020-10-27-09-51-10.png){width="250px"}

Since the diagonal is given by
$\Delta_X = \left\{{(x, x) ~{\text{s.t.}}~x\in X}\right\}$, we have the
following situation in blue:

![Image](figures/image_2020-10-27-09-52-26.png){width="250px"}

We claim that $\Delta_X$ is not closed, and for example
$(0, 0') \in \mkern 1.5mu\overline{\mkern-1.5mu\Delta\mkern-1.5mu}\mkern 1.5mu_X$.
Consider $U\times U' \subset X\times X$ where $U, U'$ are the two copies
of ${\mathbb{A}}^1$ in $X$. This is an affine open set, since it's
isomorphic to ${\mathbb{A}}^1\times{\mathbb{A}}^1$.

If $\Delta_X$ were closed, then
$S \mathrel{\vcenter{:}}=\Delta_X \cap(U\times U') = \left\{{(x, x) ~{\text{s.t.}}~x\neq 0}\right\}$
would be closed in $U\times U'$.

![Open diagonal in a
product.](figures/image_2020-10-27-10-01-15.png){width="250px"}

This is because any polynomial vanishing on $S$ must vanish at $(0, 0)$,
so $S$ is an affine variety. But then
$V(I(S)) = \Delta_{{\mathbb{A}}^1}$.

```{=latex}
\end{example}
```
:::

::: {.lemma title="?"}
```{=latex}
\begin{lemma}[?]
```
```{=tex}
\hfill
```
a.  Any affine variety is a variety.

b.  Open and closed subprevarieties of a variety $X$ are themselves
    varieties.

Thus it makes since to consider *open* and *closed subvarieties*.

```{=latex}
\end{lemma}
```
:::

::: {.proof title="of a"}
```{=latex}
\begin{proof}[of a]
```
We need to check that $\Delta_X \subset X^2$ is closed for any affine
$X\subset {\mathbb{A}}^n$. Note that we can write. `
\begin{align*}
\Delta_X = X^2 \cap V\qty{ \left\{{x_j - y_j ~{\text{s.t.}}~1\leq j \leq n}\right\}} \subset {\mathbb{A}}^n \times{\mathbb{A}}^2
\end{align*}`{=tex}

```{=latex}
\end{proof}
```
:::

::: {.proof title="of b"}
```{=latex}
\begin{proof}[of b]
```
Let $\iota:Y\to X$ be the inclusion of either an open or closed subset.
Then we have a morphism $(\iota, \iota): Y^2 \to X^2$ by the universal
property. Then $\Delta_Y = (\iota, \iota)^{-1} (\Delta_X)$, so is closed
by the continuity of $(\iota, \iota)$ and the fact that $\Delta_X$. Thus
$Y$ is a variety.

```{=latex}
\end{proof}
```
:::

Properties of Varieties
-----------------------

::: {.proposition title="Properties of Varieties"}
```{=latex}
\begin{proposition}[Properties of Varieties]
```
Let $f, g: X\to Y$ be morphisms of prevarieties and assume $Y$ is a
variety.

a.  The graph of $f$, given by
    $\Gamma_f \mathrel{\vcenter{:}}=\left\{{(x, f(x)) ~{\text{s.t.}}~x\in X}\right\}$,
    is closed in $X\times Y$.

b.  The set $\left\{{x\in X~{\text{s.t.}}~f(x) = g(x)}\right\}$ is
    closed in $X$.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="of a"}
```{=latex}
\begin{proof}[of a]
```
Consider the product morphism $(f, \text{id}): X\times Y \to Y^2$. Since
$\Delta_Y$ is closed, $(f, \text{id})^{-1} (\Delta_Y)$ is closed, and is
the locus where $f(x) = y$, so this is $\Gamma_f$.

```{=latex}
\end{proof}
```
:::

::: {.proof title="of b"}
```{=latex}
\begin{proof}[of b]
```
Consider $(f, g): X\to Y^2$. Since $\Delta_Y \subset Y^2$ is closed, `
\begin{align*}
(f, g)^{-1}(\Delta_Y) = \left\{{x\in X ~{\text{s.t.}}~f(x) = g(x)}\right\} \subset X
\end{align*}`{=tex}

is closed.

```{=latex}
\end{proof}
```
:::

Chapter 6: Projective Varieties
-------------------------------

Note that affine varieties of positive dimension over ${\mathbb{C}}$ are
not compact in the classical topology, but *are* compact in the Zariski
topology. Similarly, they are Hausdorff classically, but not in the
Zariski topology. We want to find notions equivalent to Hausdorffness
and compactness in the classical setting, which end up also applying to
varieties. The fix in the latter case was considering "separatedness".
The fix for compactness will be the following:

::: {.definition title="Complete"}
```{=latex}
\begin{definition}[Complete]
```
A variety $X$ is **complete** iff for any variety $Y$ the projection map
$\pi_Y:X\times Y\to Y$ is a closed map, i.e. $\pi_Y(U)$ is closed
whenever $U$ is closed.

```{=latex}
\end{definition}
```
:::

::: {.example}
```{=latex}
\begin{example}
```
${\mathbb{A}}^1$ is not complete. Let $Y={\mathbb{A}}^1$ and
$Z = V(xy-1)\subset X\times Y$. Then
$\pi_Y(Z) = D(y) \subset Y \subset {\mathbb{A}}^1$ is not closed.

```{=latex}
\end{example}
```
:::

Thursday, October 29
====================

Projective Space
----------------

::: {.definition title="Projective Space"}
```{=latex}
\begin{definition}[Projective Space]
```
Let $n\in {\mathbb{N}}$, and define **projective $n{\hbox{-}}$space**
over $k$ by\
`
\begin{align*}  
{\mathbb{P}}^n/k = \left\{{\text{lines through the origin in } k^{n+1}}\right\}
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
For notation, given $L\in {\mathbb{P}}^n/k$, it is spanned by any
nonzero points ${\left[ {x_0, \cdots, x_n} \right]} \in L$, and $L$ is
uniquely determined by this point up to scaling by elements in
$k^{\times}$. In this case, we write
$L = {\left[ {x_0: \cdots : x_n} \right]} = {\left[ {\lambda x_0: \cdots : \lambda x_n} \right]}$.
We can then define
${\mathbb{P}}^n/k = k^{n+1}\setminus\left\{{0}\right\}/ \sim$ where we
mod out by scalar multiplication. We call $[x_1 : \cdots : x_n]$ the
*homogeneous coordinates* on ${\mathbb{P}}^n/k$.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Consider the map `
\begin{align*}  
{\mathbb{A}}^n \to {\mathbb{P}}^n \\
{\left[ {x_1, \cdots, x_n} \right]} &\mapsto {\left[ {1: x_1 : \cdots : x_n} \right]}
.\end{align*}`{=tex} This is injective. Conversely, consider `
\begin{align*}  
"D(x_0)" \subset {\mathbb{P}}^n \mathrel{\vcenter{:}}=\left\{{{\left[ {x_0 : \cdots : x_n} \right]} ~{\text{s.t.}}~x_0\neq 0}\right\}
.\end{align*}`{=tex} This is a well-defined subset of ${\mathbb{P}}^n$,
since it only depends on the equivalence class of a point. In this case,
there is a unique $\lambda(x_0, \cdots, x_n)$, namely $\lambda = 1/x_0$,
such that each point in this set is of the form
${\left[ {1: {x_1\over x_0} : \cdots : {x_n \over x_0}} \right]}$,
yielding a copy of ${\mathbb{A}}^n\subset {\mathbb{P}}^n$ given by
points ${\left[ {{x_1\over x_0}, \cdots, {x_n\over x_0}} \right]}$. What
is its complement?

It's given by
$\left\{{{\left[ {0: x_1: \cdots : x_n} \right]}}\right\} \subset {\mathbb{P}}^n$,
which is equal (as a set) to a copy of ${\mathbb{P}}^{n-1}$ defined by
the set of lines in $k^n$ defined by $x_0 = 0$.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Note that ${\mathbb{P}}^1$ contains a copy of ${\mathbb{A}}^1$ where
$x_0 \neq 0$ and a second copy where $x_1 \neq 0$, admitting maps `
\begin{align*}  
f_1: {\mathbb{A}}^1 &\to {\mathbb{P}}^1 \\
{\left[ {x_0: x_1} \right]} &\mapsto {\left[ {{x_0 \over x_1}} \right]}
.\end{align*}`{=tex}

and

`
\begin{align*}  
f_2: {\mathbb{A}}^1 &\to {\mathbb{P}}^1 \\
{\left[ {x_0: x_1} \right]} &\mapsto {\left[ {{x_1 \over x_0}} \right]}
,\end{align*}`{=tex} since every line in ${\mathbb{P}}^1$ has either
$x_0\neq 0$ or $x_1 \neq 0$. These two copies cover ${\mathbb{P}}^1$,
and the "transition map" is inversion.

```{=latex}
\end{example}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
More generally, there are $n+1$ inclusions
${\mathbb{A}}^n \hookrightarrow{\mathbb{P}}^n$ given by dividing by the
$j$th coordinate, and their union is the entire space. The gluing
construction gives ${\mathbb{P}}^n$ the structure of a prevariety: we
can consider $D(x_j) \subset {\mathbb{P}}^n$ where each has the
structure of a ringed space
$({\mathbb{A}}^n, {\mathcal{O}}_{{\mathbb{A}}^n})$. We have
$D(x_i) \cap D(x_j) \subset D(x_i)$ is given coordinate $x_k/x_i$ where
$k\neq i$, and similarly this is a subset of $D(x_j)$ with coordinates
$x_k/x_j$ for $k\neq j$. Their intersection is $D({x_i \over x_j})$,
which is a copy of ${\mathbb{A}}^{n-1}$.

```{=latex}
\end{remark}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
Consider ${\mathbb{P}}^1$, then $D(x_0) \cong {\mathbb{A}}^1$ with which
contains a copy of ${\mathbb{A}}^1$ with coordinate ring
$k{\left[ {{x_1\over x_0}} \right]}$ and a subset $D\qty{x_1\over x_0}$
with coordinate ring $k[y, 1/y]$, and similarly,
$D(x_1) \cong {\mathbb{A}}^1$ has coordinate ring
$k{\left[ {{x_0\over x_1}} \right]}$ and contains
$\supseteq D\qty{x_0\over x_1}$ with coordinate ring $k[z, 1\over z]$.
Consider their overlap $D(x_0) \cap D(x_1)$? When do $y, z$ denote the
same point in ${\mathbb{P}}^1$? When $y = 1/z$.

We can conclude that the $n+1$ copies $D(x_i) \subset {\mathbb{P}}^n$
are affine varieties isomorphic as ringed spaces on the overlaps, so the
gluing construction makes ${\mathbb{P}}^n$ a prevariety.

```{=latex}
\end{example}
```
:::

::: {.definition title="Homogeneous Polynomial"}
```{=latex}
\begin{definition}[Homogeneous Polynomial]
```
A polynomial $f$ is homogeneous of degree $f$ is every monomial in $f$
has total degree $d$.

```{=latex}
\end{definition}
```
:::

::: {.example title="?"}
```{=latex}
\begin{example}[?]
```
![Image](figures/image_2020-10-29-10-29-48.png)

```{=latex}
\end{example}
```
:::

If $f$ is homogeneous, $V(f) \subset {\mathbb{P}}^n$ is a well-defined
subset, since
$f(x_0, \cdots, x_n) = 0 \iff \lambda^d f(x_0, \cdots, x_n) = 0 \iff f(\lambda x_0, \cdots, \lambda x_n) = 0$.

::: {.definition title="?"}
```{=latex}
\begin{definition}[?]
```
A graded ring $R$ is a ring $R$ with abelian subgroups $R_d \subset R$
with $R = \bigoplus_{d\geq 0} R_d$ and for all $f\in R_d$ and
$g\in R_{d'}$, we have $fg \in R_{d+d'}$ and $R_d + R_{d} \subset R_d$.

```{=latex}
\end{definition}
```
:::

Thursday, November 05
=====================

Today: projective spaces. We defined
${\mathbb{P}}^n_{/k} \mathrel{\vcenter{:}}= k^{n+1}\setminus\left\{{0}\right\}/\sim$
where $x\sim \lambda x$ for all $x\in k^{\times}$, which we identified
with lines through the origin in $k^{n+1}$. We have homogeneous
coordinates $p = [x_0: \cdots : x_n]$.

We say an ideal is *homogeneous* iff for all $f\in I$, the homogeneous
part $f_d\in I$ for all $d$. In this case
$V_p(I) \subset {\mathbb{P}}^{n}_{/k}$ defined as the vanishing locus of
all homogeneous elements of $I$ is well-defined. Think of this as the
"projective version" of a vanishing locus.

Similarly we defined $I_p(S)$ defined as the ideal generated by all
homogeneous $f\in k[x_1, \cdots, x_{n}]$ such that $f(x) = 0$ for all
$x\in S$.

::: {.remark}
```{=latex}
\begin{remark}
```
Observe that $V_a(I)$ defined as the cone over $V_p(I)$ is the set of
points in
${\mathbb{A}}^{n+1}\setminus\left\{{0}\right\}\cup\left\{{0}\right\}$
which map to $V_p(I)$.

```{=latex}
\end{remark}
```
:::

We have an alternative definition of a cone in ${\mathbb{A}}^{n+1}$,
characterized as a closed subset $C$ which is closed under scaling, so
$kC\subseteq C$.

::: {.proposition}
```{=latex}
\begin{proposition}
```
```{=tex}
\envlist
```
-   If $S\subset k[x_1, \cdots, x_{n}]$ is a set of homogeneous
    polynomials, then $V_a(S)$ is a cone since it is closed and closed
    under scaling. This follows from the fact that
    $f(x) = 0 \iff f(\lambda x) = 0$ for $\lambda \in k^{\times}$ when
    $f$ is homogeneous.

-   If $C$ is a cone, then its affine ideal $I_a(C)$ is homogeneous.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
Let $f\in I_a(C)$, then $f(x) = 0$ for all $x\in C$. Since $C$ is closed
under scaling, $f(\lambda x) = 0$ for all $x\in C$ and
$\lambda \in k^{\times}$. Decompose $f = \sum_d f_d$ into homogeneous
pieces, then `
\begin{align*}  
x\in C \implies 0 = f(\lambda x) = \sum \lambda^d f_d(x) 
.\end{align*}`{=tex}

Fixing $x\in C$, the quantities $f_d(x)$ are constants, so the resulting
polynomial in $\lambda$ vanishes for all $\lambda$. But since $k$ is
infinite, this forces $f_d(x) = 0$ for all $d$, which shows that
$f_d \in I_a(C)$.

```{=latex}
\end{proof}
```
:::

::: {.lemma title="?"}
```{=latex}
\begin{lemma}[?]
```
There is a bijective correspondence `
\begin{align*}  
\left\{{\substack{\text{Cones}}}\right\} 
&\iff
\left\{{\substack{\text{Projective Varieties}}}\right\} \\
{\mathbb{A}}^{n+1} \supset X &\mapsto {\mathbb{P}}X\subset {\mathbb{P}}^n \\
{\mathbb{A}}^{n+1} \supset CX &\mapsfrom X\subset {\mathbb{P}}^n \\
.\end{align*}`{=tex}

```{=latex}
\end{lemma}
```
:::

::: {.proof title="?"}
```{=latex}
\begin{proof}[?]
```
${\mathbb{P}}V_a(S) = V_p(S)$ for any set $S$ of homogeneous
polynomials, and $C(V_p(S)) = V_a(S)$, where $V_p(S)$ is a cone by part
(a) of the previous proposition. Conversely, every cone is the variety
associated to some homogeneous ideal.

```{=latex}
\end{proof}
```
:::

Projective Nullstellensatz
--------------------------

::: {.definition title="Irrelevant Ideal"}
```{=latex}
\begin{definition}[Irrelevant Ideal]
```
The homogeneous ideal
$I_0 \mathrel{\vcenter{:}}=(x_0, \cdots, x_n) \subset k[x_1, \cdots, x_{n}]$
is denoted the **irrelevant ideal**.

```{=latex}
\end{definition}
```
:::

::: {.proposition title="Projective Nullstellensatz"}
```{=latex}
\begin{proposition}[Projective Nullstellensatz]
```
```{=tex}
\envlist
```
a.  For all $X\subseteq {\mathbb{P}}^n$, $V_p(I_p(X)) = X$.

b.  For all homogeneous ideal $J\subset k[x_1, \cdots, x_{n}]$ such that
    (importantly) $\sqrt{J} \neq I_0$, $I_p(V_p(J)) = \sqrt J$.

```{=latex}
\end{proposition}
```
:::

::: {.proof title="of a"}
```{=latex}
\begin{proof}[of a]
```
$\supset$: If we let $I$ denote the ideal of all homogeneous polynomials
vanishing on $X$, then this certainly contains $X$.

$\subset$: This follows from part (b), since $X = V_p(J)$ implies that
$(V_p I_p V_p)(J) = V_p(\sqrt J) = V_p(J) = X$, since taking roots of
homogeneous polynomials doesn't change the vanishing locus.

```{=latex}
\end{proof}
```
:::

::: {.proof title="of b"}
```{=latex}
\begin{proof}[of b]
```
That $I_p(V_p(J)) \supset \sqrt J$ is obvious, since $f\in \sqrt{J}$
vanishes on $V_p(J)$. `\todo[inline]{Check}`{=tex}

It remains to show $\sqrt{J} \subset I_p(V_p(J))$ , but we can write
$I_p(V_p(J))$ as
$\left\langle{f \in k[x_1, \cdots, x_{n}]}\right\rangle$ the set of
homogeneous polynomials vanishing on $V_p(S)$, which is equal to those
vanishing on $V_a(J) \setminus\left\{{0}\right\}$.

But since $I_p(\cdots)$ is closed, this is equal to the $f$ that vanish
on
$\mkern 1.5mu\overline{\mkern-1.5muV_a(J)\setminus\left\{{0}\right\}\mkern-1.5mu}\mkern 1.5mu$,
which is only equal to $V_a(J)$ iff $V_a(J) \neq \left\{{0}\right\}$.

![Image](figures/image_2020-11-05-10-10-38.png)

By the affine Nullstellensatz, `
\begin{align*}  
V_a(J) = \left\{{0}\right\} \iff \sqrt{J} = I_0
.\end{align*}`{=tex}

Thus
$I_p(V_p(J)) = \left\langle{f ~{\text{s.t.}}~\text{homogeneous vanishing on }V_a(J)}\right\rangle$.
Using the fact that $V_a(J)$ is a cone, its ideal is homogeneous and
thus generated by homogeneous polynomials by part (b) of the previous
proposition. Thus `
\begin{align*}  
I_p(V_p(J)) = I_a(V_a(J)) = \sqrt J
,\end{align*}`{=tex} where the last equality follows from the affine
Nullstellensatz.

```{=latex}
\end{proof}
```
:::

::: {.corollary title="?"}
```{=latex}
\begin{corollary}[?]
```
There is an order-reversing bijection `
\begin{align*}  
\left\{{\substack{\text{Projective varieties} \\ X\subset {\mathbb{P}}^n}}\right\}
&\iff
\left\{{\substack{\text{Homog non-irrelevant radical ideals} \\ \in k[x_1, \cdots, x_{n}]}}\right\} \\
X &\mapsto I_p(X) \\
? &\mapsfrom ?
.\end{align*}`{=tex}

```{=latex}
\end{corollary}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
A better definition of a cone over $X\subset {\mathbb{P}}^n_{/k}$ is
$\mkern 1.5mu\overline{\mkern-1.5mu\pi^{-1}(X)\mkern-1.5mu}\mkern 1.5mu \subset {\mathbb{A}}^{n+1}_{/k}$
where `
\begin{align*}  
\pi: {\mathbb{A}}^{n+1}\setminus\left\{{0}\right\}&\to {\mathbb{P}}^n \\
{\left[ {x_0, \cdots, x_n} \right]} &\mapsto {\left[ {x_0: \cdots: x_n} \right]}
.\end{align*}`{=tex}

```{=latex}
\end{remark}
```
:::

::: {.definition title="Projective coordinate ring"}
```{=latex}
\begin{definition}[Projective coordinate ring]
```
Given $X\subset {\mathbb{P}}^n$ a projective variety, the **projective
coordinate ring** of $X$ is given by `
\begin{align*}  
S(X) \mathrel{\vcenter{:}}= k[x_1, \cdots, x_{n}] / I_p(X)
.\end{align*}`{=tex}

```{=latex}
\end{definition}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
This is a graded ring since $I_p(X)$ is homogeneous. This follows since
the quotient of a graded ring by a homogeneous ideal yields a grading on
the quotient.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
We have relative versions of everything. Projective subvarieties of
projective varieties are given by $Y\subset X\subset {\mathbb{P}}^n$
where $X$ is a projective variety. We have a topology on $X$ where the
closed subsets are projective subvarieties.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Given $J\subset S(X)$, where $S(X)$ is the projective coordinate ring of
$X$ and has a grading, we can take $V_p(J) \subset X$. Conversely, given
a set $Y\subset S(X)$, we can take $I_p(Y) \subset S(X)$ those
homogeneous elements vanishing on $Y$. Thus there is an order-reversing
bijection `
\begin{align*}  
\left\{{\substack{\text{Projective subvarieties } \\ Y\subset X}}\right\}
\iff
\left\{{\substack{\text{Homogeneous nonirrelevant radical ideals} \\ I \subset S(X)}}\right\}
\end{align*}`{=tex} and
$S(X) = k[x_1, \cdots, x_{n}]/J \subset \mkern 1.5mu\overline{\mkern-1.5muI_0\mkern-1.5mu}\mkern 1.5mu$.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
Every nontrivial homogeneous ideal $J$ contained in $I_0$. Why? Suppose
$f\in J\setminus I_0$ and $f_0\neq 0$. Then $f_0\in J$ but
$f_0\in k\subset k[x_1, \cdots, x_{n}]$, implying that $1\in J$ and thus
$J = \left\langle{1}\right\rangle$.

```{=latex}
\end{remark}
```
:::

::: {.remark}
```{=latex}
\begin{remark}
```
It is sometimes useful to know that a projective variety is cut out by
homogeneous polynomials all of *equal* degree, so
$X = V (f_1, \cdots, f_m)$ with each $f_i$ homogeneous of degree $d_i$.
Then there is some maximum degree $d$. We can write `
\begin{align*}  
V(f_1) = V(x_0^k f_1, \cdots, x_n^k f_1 ) \qquad \forall k\geq 0 \\
X = \bigcap V(f_1) \cup V(x_i)
.\end{align*}`{=tex} This follows because $V$ of a product is a union of
the vanishing loci, but $\bigcap V(x_i) = \emptyset$. The equality
follows because for all points
${\left[ {x_0, \cdots, x_n} \right]} \in {\mathbb{P}}^n$, some $x_i$ is
nonzero.

```{=latex}
\end{remark}
```
:::

Misc Unsorted
=============

![Image](figures/image_2020-09-16-04-09-22.png)

[^1]: Example footnote.
