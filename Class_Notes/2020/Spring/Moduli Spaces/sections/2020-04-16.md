i Thursday April 16th

Recap from last time: the cotangent complex answers an extension problem.
Given $X \mapsvia{f} Y$ and $Y \injects Y'$ a square zero thickening.
When can the pullback diagram be filled in?

\begin{center}
\begin{tikzcd}
X  \ar[r, dotted] \ar[d] \arrow[dr, phantom, "\scalebox{1.5}{\color{black}$\lrcorner$}" , very near start, color=black]
& X' \ar[d, dotted] \\
Y \ar[r] 
& Y'
\end{tikzcd}
\end{center}

- The existence is governed by $\obs \in \Ext^2( L_{X/Y}, f^* I)$
- The number of extensions by $\Ext^1( L_{X/Y}, f^* I)$
- The automorphisms by $\Ext^0( L_{X/Y}, f^* I)$

Suppose we're considering $k[\eps] \to k$, where $L_{X/k} = \Omega_{X/k}$, and $H^*(T_{X/k})$ houses the obstruction theory.
For an embedded deformation $X \injects Y$, we have
\begin{center}
\begin{tikzcd}
X  \ar[r, dotted]
& X' \ar[d, dotted] \
Y \ar[r] 
& Y \cross_{\spec k} \spec k[\eps]
\end{tikzcd}
\end{center}

then $L_{X/Y} = I/I^2 [1] = N_{X/Y}\dual[1]$ and $\obs \in \ext^2(N\dual[1], \OO) = \Ext^1(N\dual, \OO) = H^1(N)$, and similarly $\def = H^0(N)$ and $\aut = 0$.

For $X \mapsvia{f} Y$, we can think of this as an embedded deformation of $\Gamma \subset X \cross Y$, in which case $N\dual = F^* \Omega_{Y/k}$.
Then $\obs, \def \in H^{1, 0}(f^* T_{X/k})$ respectively and $\aut = 0$.
There is an exact triangle
\begin{align*}
f^* L_{Y/k} \to L_{X/k} \to L_{X/Y} \to f^* L_{Y/k}[1]
.\end{align*}


## T1 Lifting

This will give a criterion for a pro-representable functor to be smooth.
We've seen a condition on $F$ with obstruction theory for the hull to be smooth, namely $\obs(F) = 0$.
However, often $F = h_R$ will have $R$ smooth with a natural obstruction theory for which $\obs(F) \neq 0$.

Example:
For $X/k$ smooth projective, the picard functor $\pic_{X/k}$ is smooth because we know it's an abelian variety.
We also know that the natural obstruction space is $\obs = H^2(\OO_X)$, which may be nonzero.
We could also have abstract deformations given by $H^2(T_X)$

Given $A \in \Art/k$ and $M$ a finite length $A\dash$module, we can form the ring $A \oplus M$ where $M$ is square zero and $A\actson M$ by the module structure.
This yields
\begin{align*}
0 \to M \to A \oplus M \to A \to 0
\end{align*}

The explicit ring structure is given by $(x, y) \cdot (x, y') = (xx', x'y + xy')$.

Proposition
:   Assume $\ch k =0$ and $F$ is a pro-representable deformation functor, so $F = \hom(R, \cdot)$ where $R$ is a complete local $k\dash$algebra with $\dim t_R < \infty$.
    Then $R$ is smooth over $k$, i.e. $R \cong k[[t_R\dual]]$, iff for all $A\in \art/k$ and all $M, M' \in A\dash\text{mod}$ finite dimensional with $M \surjects M'$, we have $F(A\oplus M) \surjects F(A\oplus M')$.

Proof:
First observe that $\ker(F(A\oplus M) \to F(A)) = \ker(\hom(R, A\oplus M) \to \hom(R, A))$, note that if we have two morphism $R\righrightarrows^{f\oplus g}_{f \oplus g'} A \oplus M$, denoting these maps $h, h'$ we have

1. $g-g' \in \Der_k(R, M)$, since 
  \begin{align*}
  (h-h')(x, y) = h(x)h(y) - h'(x) h'(y) = (f(x)f(y), f(x)g(y) + f(y)g(x) )  - (f(x)f(y), f(x) g'(y) + f(y) g'(x)) = f(x)(g-g')(y) + f(y)(g-g')(x)$
  .\end{align*}

2. Given $g: R\to A\oplus M$ and $\theta \in \Der_k(R, M)$, then $g + \theta: R \to A\oplus M$.

We conclude that the fibers are naturally torsors for $\Der_k(R, M)$ if nonempty.
It is in fact a canonically trivial torsor, since there is a distinguished element in each fiber.

Thus to show
\begin{center}
\begin{tikzcd}
F(A\oplus M) \ar[rr]\ar[rd]& & F(A\oplus M') \ar[ld]\\
& F(A) &
\end{tikzcd}
\end{center}

It is enough to show surjection on fibers and trivial extensions go to trivial ones, then $\Der_k(R, M) \to \Der_k(R, M')$ with $0\mapsto 0$.
The criterion for $F$ being surjective is equivalent to $\Der_k(R, M) \sujects \Der_k(R, M')$, which we identify as $\hom_R(\Omega_{R/k}, M) \surjects \hom(\Omega_{R/k'}, M')$

Warning: $\Omega_{R/k}$ is complicated.
Example: $\Omega_{k[[x]]/k} \tensor k((x)) = \Omega_{k((x))/k}$ which is an infinite dimensional $k((x))$ vector space.

Here we only need to consider the completions $\hom_R(\hat \Omega_{R/k}, M) \surjects \hom(\hat \Omega_{R/k'}, M') = k[[x]]~dx$.

Fact: In characteristic zero, $R?k$ is smooth iff $\hat \Omega_{R/k}$ is free.

Thus the surjectivity condition is equivalent to checking that $\hom(\hat \Omega_{R/k}, \wait)$ is right-exact on finite length modules.
This happens iff $\hat \Omegaaa$ are projective iff they are free.

> Uses an algebra fact: for a complete f.g. module over a complete ring, projective wrt sequences of finite-length modules implies free.
> Over a local ring, f.g. and projective implies free.

This is powerful -- allows showing deformations of Calabi-Yaus are unobstructed.

Definition
: $X/k$ smooth projective is CY iff $\omega_x \cong \OO_x$, i.e. the canonical bundle is trivial.

Proposition
: $X/k$ CY with $H^0(T_X) = 0$ (implying that the deformation functor $F$ of $X$ is pro-representable, say by $R$, and has no infinitesimal automorphisms) has unobstructed deformations, i.e. $R$ is smooth of dimension $H^1(T_X)$.

Note that $H^2(T_X) \neq 0$ in general, so this is a finer criterion.

Example:
Take $X \subset \PP^4$ a smooth quintic threefold.
By adjunction, $\omega_x = \omega_{\PP^4}(5) \mid_X = \OO_x$, so this is CY.
We have $H^0(T_x) = 0 \cong H^4(\Omega_x \tensor \omega_x)$ by Serre duality, which is $H^3(\Omega_x) = H^{3, 1} = 0$ since by Lefschetz $H^i_\sing (\PP^4, \CC) \mapsvia{\cong} H^i_{\sing}(X, \CC)$ except in middle dimension, making $H^{3, 1} = H^{1, 3} = 0$.

Exercise
: There are nontrivial embedded deformations that yield the same abstract deformations, write them down for the quintic threefold.

The abstract moduli space here is given by $\PGL(5) \textbackslash \hilb$ where $\hilb$ is smooth.

Proof:
We need to show that for any $M \surjects M'$ that $F(A\oplus M) \surjects F(A\oplus M')$.
The fibers of the LHS are extensions from $A$ to $A\oplus M$, and the RHS are extensions of $X/A$?

By dualizing, we need to show $H^1(T_{X/A}\tensor M ) \surjects H^1(T_{X/A} \tensor M')$ since the LHS is $\ext^1(\Omega_{X/A}, M)$.
We want the bottom map here to be surjective:
\begin{center}
\begin{tikzcd}
X  
& X' \ar[d] \
\spec A \ar[r, hook] 
& \spec A \oplus M
\end{tikzcd}
\end{center}

Important fact: for $X/A$ a deformation of a CY, $H^*(T_{X/A})$ is free.
This will finish the proof, since the map is given by $H^1(T_{X/A}) \tensor M \surjects H^1(T_{X/A}) \tensor M'$ by exactness.
This uses the fact that there's a spectral sequence
\begin{align*}
\Tor_{q}(H^p(T_{X/A}), M) \implies H^{p+q} (T_{X/A} \tensor M)
\end{align*}
which follows from base change and uses the fact that $T_{X/A}$ is flat.
We'll be looking at $\Tor_1(H^0(T_{X/A}), M)$ which is zero by freeness.

Hodge theory is now used: by Deligne-Illusie, for $X\mapsvia{f} S$ smooth projective, taking pushforwards $R^p f_* \Omega^q_{X/S}$ are free (coming from degeneration of Hodge to de Rham) and commutes with base change.

1. This implies that $\omega_{X/A} = \OO_X$ is trivial.
  Using Deligne-Illusie, since $\omega$ is trivial on the special fiber, $H^0(\omega_{X/A}) = A$ is free of rank 1.
  We thus have a section $\OO_X \to \omega_{X/A}$ which is an isomorphism by flatness, since it's an isomorphism on the special fiber.

2. By Serre duality, $H^1(T_{X/A}) = H^{n-1}(\Omega_{X/A} \tensor \omega_{X/A}) \dual = H^{n-1}(\Omega_{X/A})\dual$, which is free by Deligne-Illusie.
  This also holds for $H^0(T_{X/A}) = H^n(\Omega_{X/A})\dual$ is free.

Thus deformations of CYs are unobstructed.

$\qed$

Remark:
In fact we need much less.
Take $A_n = k[t] / t^n$, then consider
\begin{align*}
0 \to A_n \toi A_n[\eps] = A_n \oplus \eps A_n \to A_n = 0
.\end{align*}

For a deformation $X/A_n$, let $T^1(X/A_n) = \ker(F(A_n[\eps]) \to F(A_n) )$, the fiber above $X/A_n$.
Then Kuramata shows that one only needs to show surjectivity for these kinds of extensions, which is quite a bit less.

In the T1 lifting theorem, the condition is equivalent to the following:
For any deformation $X/A_{n+1}$, there is a map
\begin{align*}
T^1(X/A_{n+1}) \to T^1(X\tensor A_n / A_n)
.\end{align*}
and surjectivity is equivalent to the lifting condition.

In the CY situation, the extension group $T^1(X/A_{n+1}) =  H^1(T_{X/A_{n+1}})$ and the RHS is $H^1(T_{X\tensoir A_n / A_n})$.
So the slogan for the T1 lifting property is the following:

Slogan
: If the deformation space is free and commutes with base change, then deformations are unobstructed.

Commuting with base change means the RHS is $H^1(T_{X/A_{n}}) \tensor A_n$, so we just need to show it's free?
