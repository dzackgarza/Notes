---
title: "Real Analysis"
---

---

# Lecture 1 (Thu 15 Aug 2019 11:04)

> See Folland's Real Analysis, definitely a recommended reference.

Possible first day question: how can we "measure" a subset of $\RR$? We'd like bigger sets to have a higher measure, we wouldn't want removing points to increase the measure, etc. This is not quite possible, at least something that works on *all* subsets of $\RR$. We'll come back to this in a few lectures.

## Notions of "smallness" in $\RR$

\wrapenv{\Begin{definition}}
Let $E$ be a set, then $E$ is *countable* if it is in a one-to-one correspondence with $E' \subseteq \NN$, which includes $\emptyset, \NN$.
\wrapenv{\End{definition}}

\wrapenv{\Begin{definition}}
A set $E$ is *meager* (or of *1st category*) if it can be written as a countable union of **nowhere dense** sets.
\wrapenv{\End{definition}}

\wrapenv{\Begin{exercise}}
Show that any finite subset of $\RR$ is meager.
\wrapenv{\End{exercise}}

Intuitively, a set is *nowhere dense* if it is full of holes. Recall that a $X \subseteq Y$ is dense in $Y$ iff the closure of $X$ is all of $Y$. So we'll make the following definition:

\wrapenv{\Begin{definition}}
A set $A \subseteq \RR$ is *nowhere dense* if every interval $I$ contains a subinterval $S \subseteq I$ such that $S \subseteq A^c$.
\wrapenv{\End{definition}}

Note that a finite union of nowhere dense sets is also nowhere dense, which is why we're giving a name to such a countable union above. For example, $\QQ$ is an infinite, countable union of nowhere dense sets that is not itself nowhere dense.

Equivalently,

- $A^c$ contains a dense, open set.
- The interior of the closure is empty.

We'd like to say something is measure zero exactly when it can be covered by intervals whose lengths sum to less than $\varepsilon$.

\wrapenv{\Begin{definition}}
Definition: $E$ is a *null set* (or has *measure zero*) if $\forall \varepsilon >0$, there exists a sequence of intervals $\theset{I_j}_{j=1}^\infty$ such that
$$
E \subseteq \union_{j=1}^\infty \text{ and } \sum \abs{I_j} < \varepsilon.
$$
\wrapenv{\End{definition}}

\wrapenv{\Begin{exercise}}
Show that a countable union of null sets is null.
\wrapenv{\End{exercise}}

We have several relationships

- Countable $\implies$ Meager, but not the converse.
- Countable $\implies$ Null, but not the converse.

\wrapenv{\Begin{exercise}}
Show that the "middle third" Cantor set is not countable, but is both null and meager. Key point: the Cantor set does not contain any intervals.
\wrapenv{\End{exercise}}

\wrapenv{\Begin{theorem}}
Every $E \subseteq \RR$ can be written as $E = A \disjoint B$ where $A$ is null and $B$ is meager.
\wrapenv{\End{theorem}}

> This gives some information about how nullity and meagerness interact -- in particular, $\RR$ itself is neither meager nor null. Idea: if meager $\implies$ null, this theorem allows you to write $\RR$ as the union of two null sets. This is bad!

\wrapenv{\Begin{proof}}
We can assume $E = \RR$. Take an enumeration of the rationals, so $\QQ = \theset{q_j}_{j=1}^\infty$. Around each $q_j$, put an interval around it of size $1/2^{j+k}$ where we'll allow $k$ to vary, yielding multiple intervals around $q_j$. To do this, define $I_{j, k} = (q_j - 1/2^{j+k}, q_j + 2^{j+k})$. Now let $G_k = \union_j I_{j, k}$. Finally, let $A = \intersect_k G_k$; we claim that $A$ is null.

Note that $\sum_j \abs{I_{j, k}} = \frac{1} {2^k}$, so just pick $k$ such that $\frac 1 {2^k} < \varepsilon$.

Now we need to show that $A^c \definedas B$ is meager. Note that $G_k$ covers the rationals, and is a countable union of open sets, so it is dense. So $G_k$ is an open and dense set. By one of the equivalent formulations of meagerness, this means that $G_k^c$ is nowhere dense. But then $B = \union_k G_k^c$ is meager.
\wrapenv{\End{proof}}

## $\RR$ is not small

\wrapenv{\Begin{theorem}[A, Cantor]}
$\RR$ is not countable.
\wrapenv{\End{theorem}}

\wrapenv{\Begin{theorem}[B, Baire]}
$\RR$ is not meager. (Baire Category Theorem)
\wrapenv{\End{theorem}}

\wrapenv{\Begin{theorem}[C, Borel]}
$\RR$ is not null.
\wrapenv{\End{theorem}}

Note that theorems B and C imply theorem A. You can also replace $\RR$ with any nonempty interval $I = [a,b]$ where $a< b$. This is a strictly stronger statement -- if any subset of $\RR$ is not countable, then certainly $\RR$ isn't, and so on.

\wrapenv{\Begin{proof}[Proof of (A)]}
Begin by thinking of $I = [0,1]$, then every number here has a unique binary expansion. So we are reduced to showing that the set of all Bernoulli sequences (infinite length strings of 0 or 1) is uncountable. Then you can just apply the usual diagonalization argument by assuming they are countable, constructing the table, and flipping the diagonal bits to produce a sequence differing from every entry.
\wrapenv{\End{proof}}

\wrapenv{\Begin{proof}[A second proof of (A)]}
Take an interval $I$, and suppose it is countable so $I = \theset{x_i}$. Choose $I_1 \subseteq I$ that avoids $x_1$, so $x_1\not\in I_1$. Choose $I_2 \subseteq I_1$ avoiding $x_2$ and so on to produce a nested sequence of closed intervals. Since $\RR$ is complete, the intersection $\intersect_{n=1}^\infty I_n$ is nonempty, so say it contains $x$. But then $x\in I_1 \in I$, for example, but $x\neq x_i$ for any $i$, so $x\not\in I$, a contradiction. $\qed$
\wrapenv{\End{proof}}

\wrapenv{\Begin{proof}[Proof of (B)]}
Suppose $I = \union_{i=1}^\infty A_n$ where each $A_n$ is nowhere dense. We'll again construct a nested sequence of closed sets. Let $I_1 \subseteq I$ be a subinterval that misses all of $A_1$, so $A_1 \intersect I_1 = \emptyset$ using the fact that $A_1$ is nowhere dense. Repeat the same process, let $I_2 \subset I_1 \setminus A_2$. By the nested interval property, there is some $x\in \intersect A_i$.
\wrapenv{\End{proof}}

> Note that we've constructed a meager set here, so this argument shows that the complement of any meager subset of $\RR$ is nonempty. Setting up this argument in the right way in fact shows that this set is dense! Taking the contrapositive yields the usual statement of Baire's Category Theorem.

Consider the Thomae function:
It is continuous on $\QQ$, but discontinuous on $\RR\setminus\QQ$. Can this be switched to get some function $f$ that is continuous on $\RR\setminus \QQ$ and discontinuous on $\QQ$? The answer is no. The set of discontinuities of a function is *always* an $F_\sigma$ set, and $\RR\setminus \QQ$ is not one. Equivalently, the rationals are not a $G_\delta$ set.

Some facts:

- The pointwise limit of continuous functions has a meager set of discontinuities.
- If $f$ is integrable, the set of discontinuities is null.
- If $f$ is monotone, they are countable.
- There is a continuous nowhere differentiable function: let $f(x) = \sum_n \frac{\norm{10^n x}}{10^n}$, and in fact *most* functions are like this.
- If $f$ is continuous and monotone, the discontinuities are null.

\wrapenv{\Begin{theorem}}
Let $I = [a,b]$. If $I \subseteq \union_{i=1}^\infty I_i$, then $\abs{I} \leq \sum_{i=1}^\infty \abs{I_i}$.
\wrapenv{\End{theorem}}

\wrapenv{\Begin{proof}}
The proof is by induction. Assume $I \subseteq \union_n^{N+1} I_n$, where wlog we can assume that $a < a_{N+1} < b \leq b_{N+1}$, then $[a, a_{N+1}] \subset \union_{n=1}^N I_n$ so the inductive hypothesis applies. But then $b-a \leq b_{N+1} - a = (b_{N+1} - a_{N+1}) + (a_{N+1} - a) \leq \sum_{n=1}^{N+1} \abs{I_n}$.
\wrapenv{\End{proof}}

> Note that this proves that the reals are uncountable!

# Lecture 2

(Find notes for first 15 mins)

- Countable $\implies$ Cantor, all intervals are not countable
- Meager $\implies$ Baire, all intervals are not meager
- Null $\implies$ Borel, all intervals are not null.

Exercise: Verify that $f$ is continuous at$x$ iff $\lim f(x_{n}) = f(x)$ for every sequence $\theset{x_{n}} \to x$.

Definition:
If $f: X \to \RR$, the *oscillation of $f$ at $x \in X$ is given as

\begin{align*}
\omega_{f}(x) = \lim_{\delta \to \infty} \sup_{y \in B_{\delta}(x)} \abs{f(y) - f(z)}
.\end{align*}

Exercise:
Show that $f$ is continuous at $x \iff \omega_f(x) = 0$.

We can then define points of discontinuity as
$$
D_f = \theset{x \in X \suchthat \omega_f(x) > 0} = \union_{n=1}^\infty\theset{x\in X \suchthat \omega_f(x) \geq \frac 1 n}
$$

Exercise: show that $D_f$ is closed.

Theorem 1: $f$ is monotone $\implies D_f$ is countable.

> Hint: we can't cover $\RR$ by uncountable many disjoint intervals.

Theorem 2: $D_f$ is always an $F_\sigma$ set.

> $\RR - \QQ$ is not at $F_\sigma$ set, i.e. one can not construct a function that is discontinuous on exactly this set.

Theorem 3: $f$ is "1st class" $\implies D_f$ is meager.

> $f$ is first class if $f(x) = \lim_{n\to\infty} f_n(x)$ pointwise and each $f_n$ is continuous.

Theorem 4 (Lebesgue Criterion): Let $f: [a, b] \to \RR$ be bounded, then $f$ is Riemann integrable iff $D_f$ is null.

> So the Dirichlet function is not Riemann integrable.

Exercise: Prove theorems 1 and 2.

## Proof of Theorem 3
Proof of theorem 3: Want to show that $D_f$ is meager. We know it's some countable union of some sets, and it suffices to show that they are nowhere dense.

So let $F_n = \theset{x \suchthat \omega_f(x) \geq 0}$ for some fixed $n$. Let $I$ be an arbitrary closed interval, we will show that there exists a subinterval $J \subseteq I$ with $J \subseteq F_n^c$.

Consider
$$
E_k = \intersect_{i, j \leq k} \theset{x \suchthat \abs{f_i(x) - f_j(x)} \leq \frac 1 {5n}}
$$

Motivation: this comes from working backwards from 4-5 triangle inequalities that will appear later.

Some observations: $E_k$ is closed by the continuity of the $f_i$ (good exercise). We also have $E_k \subseteq E_{k+1}$. Moreover, $\union_k E_k = \RR$ because the $f_i \to f$ are Cauchy.

We'll now look for an interval entirely contained in the complement. Let $I \subset \RR$ be an interval, then write $I = \union_k (I\intersect E_k)$. Baire tells us that $I$ is not meager, so at least one term appearing in this union is *not* nowhere dense, i.e. there is some $k$ for which $I \intersect E_k$ is not nowhere dense, i.e. it contains an open interval (it has a nonempty interior, and its already closed, and thus it contains an interval).

So let $J$ be this open interval. We want to show that $J \subseteq F_n^c$. If $x\in J$, then $x\in E_k$ as well, and so $\abs{f_i(x) - f_j(x)} \leq 1/5n$ for all $i,j \geq k$. So let $i\to \infty$, so $\abs{f(x) - f_j(x)} \leq 1/5n$ for all $j\geq k$.

Now for any $x\in J$, there exists some interval $I(x) \subseteq J$ depending on $x$ such that $\abs{f(y) - f_k(x)} \leq 2/5n$. (where we will rewrite this as $f(y) - f_k(y) + f_k(y) - f_k(x))$.

This implies that $\omega_f(x) \leq 4/5n$. $\qed$.

## Proof of Theorem 4

Suppose that $f: [a,b] \to \RR$ is bounded. Recall that $f$ is Riemann integrable iff for any $\varepsilon$ there exists a partition $P_\varepsilon = \theset{a=x_1 \leq x_2 \leq \cdots x_n = b}$ of $[a,b]$ such that $U(f, P_\varepsilon) - L(f, \varepsilon) \leq \varepsilon$, where this expression is equal to
$$
\sum_n \sup_{y, z \in [x_n, x_{n+1}]} \abs{f(y) - f(z)} (x_{n+1} - x_{n})
$$

$(\Rightarrow)$: Let $\varepsilon > 0$ and $n$ be fixed, and produce a partition $P_\varepsilon$ so that this sum is less than $\varepsilon / n$.

> Recall that we want to show that $F_n$ is null.

Now exclude from this sum all intervals that miss $F_n$, making it no bigger. We also know that in $F_n$, the sups are no greater than $1/n$,
$$
\varepsilon/n \geq \sum \text{stuff} \geq \sum \frac 1 n (x_{n+1} - x_n)
$$

$(\Leftarrow)$: Suppose $D_f$ is null and let $\varepsilon>0$ be arbitrary, we want to construct $P_\varepsilon$. Choose $n > 1/\varepsilon$ and $F_n \subseteq D_f$ is closed and bounded and thus compact. But a compact measure zero interval can in fact be covered by *finitely* many open intervals. So $F_n$ is covered by finitely many intervals $\theset{ I_n }^N$ with $\sum \abs{I_n} \leq \varepsilon$.

Now if $x\not\in F_n$, then $\exists \delta(x) > 0$ where $\sup_{y,z \in B_\delta(x)} \abs{f(y) - f(z)} < \frac 1 n < \varepsilon$

Since $(\union_j I_j)^c$ is compact, there's a finite cover $I_{N+1}, \cdots I_{N'}$ covering $F_n^c$.


# Lecture n

Recall Baire's theorem: $\RR$ can not be written as a countable union of nowhere dense sets. A subset $A\subseteq \RR$ is nowhere dense if every interval contains a subinterval which lies entirely in $A^c$, iff $\overline A$ has empty interior iff $\overline A$ contains no open intervals.

Exercise: show that these definitions are equivalent.

Corollary: $\RR\setminus\QQ$ is not an $F_\sigma$ set. Suppose it was, so $\RR\setminus \QQ = \union_{n\in\NN} F_n$ with $A_n$ closed. Then $\RR = \union_n F_n \union \union_i \theset{q_i}$ where $\QQ = \union \theset{q_i}$. This exhibits $\RR$ as a countable union of closed sets. But the $F_n$ are nowhere dense, since if they contained in interval they'd also contain a rational.

Exercise: Showing that $F_n$ are nowhere dense by constructing a sequence of elements in $F_n$ that converges to an element in $F_n^c \subset \QQ$.


## Riemann Integration

Some good properties:

- Good for approximation (vertical strips)
- Many functions are in $\mathcal R$, e.g. continuous functions.
- $\mathcal R([a, b])$ is a vector space
- The integral is an element of $\mathcal R^\dual$.
- FTC
- $\mathcal R$ is closed under uniform convergence.

Some bad properties:

- The Dirichlet function $\indic{x\in\QQ}$ is not in $\mathcal R$ (Exercise!)
  - **Exercise**: show that $D_f = \RR$ (use sequential continuity)
  - It is in $\mathcal L$ (Lebesgue integral).
- $\mathcal R$ is not closed under pointwise convergence.
  - Example: $g_n(x) = \indic{x\in \QQ,~ x = \frac p q, q \leq n} \in \mathcal R$ (Exercise)
