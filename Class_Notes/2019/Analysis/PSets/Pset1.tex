\subsection{Exercises}

\begin{problem}\hfill\\
  Let $C$ denote the Cantor set.
\begin{enumerate}
  \item Show that $C$ contains point that is not an endpoint of one of the removed intervals.
  \item Show that $C$ is nowhere dense, meager, and has measure zero.
  \item Show that $C$ is uncountable.
\end{enumerate}
\end{problem}

\begin{solution}\hfill\\
  \begin{enumerate}
    \item First we will characterize the endpoints of the removed intervals. Let $C_n$ be the $n$Th stage of the deletion process that is used to define the Cantor set; then what remains is a union of intervals:
      $$
      C_n = [0, \frac 1 {3^n}] \union [\frac 2 {2^n}, \frac 3 {3^n}] \union \cdots \union[\frac {3^n-1} n, 1],
      $$
    and so the endpoints are precisely the numbers of the form $\frac{k}{3^n}$ where $0 \leq k \leq 3^n$. Moreover, any endpoint appearing in $C_n$ is never removed in any later step, and so all endpoints remaining in $C$ are of this form where we allow $0\leq n < \infty$.

    Thus, our goal is to produce a number $x\in [0,1]$ such that $x \neq \frac k {3^n}$ for any $k$ or $n$, but also satisfies $x\in C$. So we will need a general characterization of all of the points in $C$.

    \vspace{1em}\hrule

    Lemma: If $x\in C$, then one can find a ternary expansion for which all of the digits are either $0$ or $2$, i.e.
    $$
    x = \sum_{k=1}^\infty a_k 3^{-k} \quad \text{where } a_k \in \theset{0, 2}.
    $$

    Proof: By induction on the index $k$ in $a_k$, first consider note that if $x\in C$ then $x \in C_1 = [0, 1] \setminus [\frac 1 3, \frac 2 3]= [0, \frac 1 3] \union [\frac 2 3, 1]$. So if $x\in C_1$, then $x\not\in(\frac 1 3, \frac 2 3)$. But note that $a_1$ is computed in the following way:
    $$
    a_1 = \begin{cases}
      0 & 0 \leq x < \frac 1 3, \\
      1 & \frac 1 3 \leq x < \frac 2 3, \\
      2 & \frac 2 3 \leq x < 1.
    \end{cases}
    $$

    Since the interval $(\frac 1 3, \frac 2 3)$ is deleted in $C_1$, we find that $a_1 = 1 \iff x = \frac 1 3$. In this case, however, we claim that we can find a ternary expansion of $x$ that does not contain a $1$.  We first write
    $$
    x = \frac 1 3 = \sum_{k=1}^\infty a_k 3^{-k} \quad \text{where } a_1 = 1, a_{k>1} = 0,
    $$

    and then define
    $$
    x' = \sum_{k=1}^\infty b_k 3^{-k} \quad\text{where } b_1 = 0, b_{k>1} = 2.
    $$

    The claim now is that $x=x'$, which follows from the fact that this is a geometric sum that can be written in closed form:
    \begin{align*}
      x' &= \sum_{k=2}^\infty (2) 3^{-k} \\
      & = \left( \sum_{k=0}^\infty (2)3^{-k} \right) - 2 - 2(3\inv) \\
      & = 2\left( \sum_{k=0}^\infty 3^{-k} \right) - 2 - 2(3\inv) \\
      &= 2 (\frac 1 {1 - \frac 1 3}) - 2 - 2(3\inv) \\
      &= 2 \left(\frac 3 2\right) - 2 - 2(3\inv) \\
      &= 1 - \frac 2 3 \\
      &= \frac 1 3 = x.
    \end{align*}

    In short, we have $\frac 1 3 = (0.1)_3 = (0.222\cdots)_3$ as ternary expansions, and a similar proof shows that such an expansion without 1s can be found for any endpoint.

    For the inductive step, consider $a_n$: the claim is that if $a_n = 1$, then $x \not \in C_{n+1}$ -- that is, it is contained in one of the intervals deleted at the $n+1$st stage. Writing the deleted interval at this stage as $(a,b)$, we find that $a_n = 1$ if and only if $x \in [a, b)$. Since $x\in C$, the only way $a_n$ can be 1 is if $x$ was in fact the endpoint $a$ (since no previous digit was a 1, by hypothesis). However, as shown above, every such endpoint has a ternary expansion containing no 1s. $\qed$

    \vspace{1em}\hrule

    Therefore, if we can produce an $x$ that satisfies $x \neq \frac{k}{3^n}$ for any $k, n$ \textbf{and} $x$ has no 1s in its ternary expansion, we will have an $x\in C$ that is not an endpoint.

    So take
    $$
    x = (0.\overline{02})_3 = (0.020202\cdots)_3.
    $$

    This evidently has no 1s in its ternary expansion, and if we sum the corresponding geometric series, we find $x = \frac 1 4$. This is not of the form $\frac k {3^n}$ for any $k, n$, and thus fulfills both conditions.

  \item We first show that $C$ is nowhere dense by showing that the interior of its closure is empty, i.e. $(\overline C)^\circ = \emptyset$.

    To do so, we note that $C$ is itself closed and so $C = \overline C$. To see why this is, consider $C^c$; we'll show that it is open. By construction, $C_1^c$ is the open interval $(\frac 1 3, \frac 2 3)$ that is deleted, and similarly $C_n^c$ is the finite union of the open intervals that are deleted at the $n$th stage. But then
    $$
    C^c = \left(\intersect C_n \right)^c = \union C_n^c
    $$
    is an infinite union of open sets, which is also open. So $C$ is closed.

    It is also the case that $C$ has empty interior, so $C^\circ = \emptyset$. Towards a contradiction, suppose $x\in C$ is an interior point; then there is some neighborhood $N_\varepsilon(x) \subset C$. Since we are on the real line, we can write this as an interval $(x-\varepsilon, x+\varepsilon)$, which has length $2\varepsilon > 0$. Moreover, we have the containment
    $$
    (x-\varepsilon, x+ \varepsilon) \subset C \subset C_n
    $$
    for every $n$.

    Claim: The length of $C_n$ is $(\frac 2 3)^n$ where we define $C_0 = [0, 1]$. Letting $L_n$ be the length of $C_n$, one easy way to see that this is the case is to note that $L_n$ satisfies the recurrence relation
    $$
    L_{n+1} = \frac2 3 L_n,
    $$
    since an interval of length $\frac 1 3 L_n$ is removed at each stage. With the initial conditions $L_0 = 1$, it can be checked that $L_n = \left( \frac 2 3 \right)^n$ solves this relation.

    Now, since $x\in C = \intersect C_n$, it is in every $C_n$. So we can choose $n$ large enough such that
    $$
    \left( \frac 2 3 \right)^n \leq 2\varepsilon.
    $$

    Letting $\mu(X)$ denote the length of an interval, we always have $C \subseteq C_n$ and so $\mu(C) \leq \mu(C_n)$.

    Using the subadditivity of measures, we now have
    \begin{align*}
    (x-\varepsilon, x+ \varepsilon) \subset C \subset C_n \\
    \implies \mu(x-\varepsilon, x+ \varepsilon) \leq \mu(C) \leq \mu(C_n) \\
    \implies 2\varepsilon \leq \left( \frac 2 3 \right)^n,
    \end{align*}

    a contradiction. So $C$ has no interior points.

    But this means that
    $$
    (\overline C)^\circ = C^\circ = \emptyset,
    $$
    and so $C$ is nowhere dense.

    To see that $\mu(C) = 0$, we can use the fact that for any sets, measures are additive over disjoint sets and we have
    $$
    \mu(A) + \mu(X \setminus A) = \mu(X) \implies \mu(X \setminus A) = \mu(X) - \mu(A).
    $$

    Here we will take $X = [0,1]$, so $\mu(X) = 1$, and $A = C$ the Cantor set.

    By tracing through the construction of the Cantor set, letting $B_n$ be the length of the interval that is removed at each stage, we can deduce
    \begin{align*}
      B_1 &= \frac 1 3 \\
      B_2 &= \frac 2 9 \\
      \cdots \\
      B_n &= \frac {2^n}{3^{n+1}}
    .\end{align*}

    We can identify $B_n = \mu(C_n^c)$, and using the fact that $C_n^c \intersect C_{>n}^c = \emptyset$ and the fact that measures are additive over disjoint sets, we can compute

    \[
    \begin{align*}
      \mu(C) &= 1 - \mu(C^c) \\
             &= 1 - \mu((\intersect_{n=0}^\infty C_n)^c) \\
             &= 1 - \mu(\disjoint_{n=0}^\infty C_n^c) \\
             &= 1 - \sum_{n=0}^\infty \mu(C_n^c) \\
             &= 1 - \sum_{n=0}^\infty \frac{2^n}{3^{-n}} \\
             &= 1 - \frac 1 3 \sum_{n=0} \left( \frac 2 3 \right)^n \\
             &= 1 - \frac 1 3 \left( \frac 1 {1-\frac 2 3} \right) \\
             &= 1 - \frac 1 3 (3)  = 0,
    \end{align*}
    \]

    which is what we wanted to show. $\qed$

  \item Let $y\in [0,1]$ be arbitrary, we will construct an element $x\in C$ such that $y = f(x)$. We first note that every number has a binary expansion, and we can write
    $$
    y = \sum_{k=1}^\infty y_k 2^{-k} \quad\text{where } y_k \in \theset{0, 1}.
    $$

    Now we construct
    $$
    x = \sum_{k=1}^\infty a_k 3^{-k}\quad\text{where } a_k = 2y_k \implies a_k \in \theset{0, 2}.
    $$

    By the characterization given in part (1), we see that $x\in C$ because it has no 1s in its ternary expansion. Moreover, under $f$, we have $a_k \mapsto \frac 1 2 a_k = \frac 1 2 (2 a_k) = a_k$, and so $f(x) = y$ by construction.

    This shows that $C$ surjects onto $[0,1]$, and in particular, $\# C \geq \#[0, 1]$ holds for the cardinalities of these sets. Since $[0,1]$ is uncountable (say, by Cantor's diagonalization argument), this shows that $C$ is uncountable.
  \end{enumerate}
\end{solution}

\begin{problem}\hfill
  \begin{enumerate}
    \item Show that $X$ is $G_\delta$ iff $X^c$ is $F_\sigma$.
    \item Show that $X$ closed $\implies X$ is $G_\delta$ and $X$ open $\implies X$ is $F_\sigma$.
    \item Give an example of an $F_\sigma$ set that is not $G_\delta$, and a set that is neither.
  \end{enumerate}
\end{problem}


\begin{solution}\hfill
\begin{enumerate}
  \item To show the forward direction, suppose $X$ is a $F_\sigma$, so $X = \union_{i\in\NN} A_i$ with each $A_i$ an closed set. By definition, each $A_i^c$ is open, and we have
    $$
    X^c = \left( \union_{i\in \NN}A_i \right)^c = \intersect_{i\in\NN} A_i^c,
    $$
    which exhibits $X^c$ as a countable intersection of closed sets, making it an $G_\delta$.

    The reverse direction proceeds analogously: supposing $X^c$ is $G_\delta$, we can write $X^c = \intersect_{i\in\NN} B_i$ with each $B_i$ open, where $B_i^c$ is closed by definition, and
    $$
    X = (X^c)^c = (\intersect B_i)^c = \union B_i^c
    $$
    which exhibits $X$ as a union of closed sets, and thus an $F_\sigma$.

  \item Suppose $X$ is closed, we want to then write $X$ as a countable intersection of open sets.
    For every $x\in X$ and every $n\in \NN$, define
\[
  \begin{align*}
    B_n(x) &= \theset{y\in \RR^n \suchthat \abs{x - y} \leq \frac 1 n}, \\
    V_n &= \union_{x\in X} B_n(x), \\
    W &= \intersect_{n \in \NN} V_n
  .\end{align*}
\]

  Explicitly, we have
  $$W = \intersect_{n\in \NN} \union_{x\in X} B_n(x),
  $$
  and the claim is that $W$ is a $G_\delta$ and $W = X$.

  To see that the $V_n$ are open, note that $n$ is fixed and each $B_n(x)$ is an open ball around a point $x$. Any union of open sets is open, and thus so is $V_n$. By construction, $W$ is then a countable intersection of open sets, and thus $W$ is a $G_\delta$ by definition.

  We show $W=X$ in two parts. To see that $X \subseteq W$, note that if $x\in X$, then $x \in B_n(x)$ for every $n$ and thus $x \in V_n$ for every $n$ as well. But this means that $x \in \intersect_n V_n$, and so $x\in W$.

  To see that $W \subseteq X$, let $w\in W$ be arbitrary. If $w\in X$, there is nothing to check, so suppose $w\not\in X$ towards a contradiction.

  Since $w \in \intersect_n V_n$, it is in $V_n$ for every $n$. But this means that there is some particular $x_0$ such that $w \in B_n(x_0)$ for every $n$ as well, and moreover since we assumed $w\not\in X$, we have $w\neq x_0$.

  Then, letting $N_\varepsilon(w)$ be an arbitrary neighborhood of $w$, we can find an $n$ large enough such that $B_n(x) \subset N_\varepsilon(w)$. This means that $x_0 \neq w$ can be found in every neighborhood of $w$, which makes $w$ a limit point of $X$. However, since we assumed $X$ was closed, it contains all of its limit points, which would force $w \in X$, a contradiction. $\qed$

  \vspace{1em}\hrule

  Now suppose $X$ is an open set, we want to show it is an $F_\sigma$ and can thus be written as a countable union of closed sets. We can use the fact that $X^c$ is closed, and by the previous result, $X^c$ is thus a $G_\delta$. But by an earlier result, $X^c$ is a $G_\delta \iff (X^c)^c = X$ is an $F_\sigma$, and we are done.

  \item We want to construct a set that can be written as a countable union of closed sets, but not as a countable intersection of open sets. Note that in $\RR$ with the usual topology, singletons are closed, and so $\theset{p}^c$ is an open set for any point $p$.

  With this motivation, consider $X = \QQ$ and $X^c = \RR \setminus \QQ$. We can write
  $$
  \QQ = \union_{q \in \QQ} \theset{q},
  $$

  which exhibits $X$ as a countable union of closed sets because $\QQ$ itself is countable. So $\QQ$ is an $F_\sigma$ set. Suppose towards a contradiction that $\QQ$ is also $G_\delta$, so we have $\QQ = \intersect_{i\in\NN}O_i$ with each $O_i$ open. So each $O_{i}$ covers $\QQ$, i.e. $\QQ \subseteq O_{i}$, which (importantly!) forces each $O_i$ to be dense in $\RR$.

  But now note that we can also write
  $$
  \RR \setminus \QQ = \RR \setminus \union_{q\in \QQ} \theset{q} = \intersect_{q\in\QQ} \RR\setminus \theset{q},
  $$

  where we can note that $\RR\setminus\theset{q}$ is an open, dense subset of $\RR$ for each $q$. We can appeal to the Baire category theorem twice, which tells us that any countable intersection of \textit{open} dense sets will also be dense. This first tells us that the above intersection, and thus $\RR\setminus\QQ$, is dense in $\RR$. Then, writing
  $$
  \left(\intersect_{i\in \NN} O_i\right) \intersect \left(\intersect_{q\in\QQ} \RR\setminus\theset{q}\right) = \QQ \intersect \RR\setminus\QQ = \emptyset,
  $$
  we produce what is still just a countable intersection of open dense sets, and by Baire, the result would need to be dense as well. Since the empty set is \textit{not} dense in $\RR$, so we arrive at a contradiction.
\end{enumerate}
\end{solution}

\begin{problem}\hfill
\begin{enumerate}
  \item Let $r_n$ be an enumeration of the rationals, define $f(r_n) = \frac 1 n$ and $f(x) = 0$ for $x \in \RR\setminus\QQ$. Show that $\lim_{x \to c} f(x) = 0$ for every $c\in I$, and $D_f = \QQ \intersect I$.

  \item Supposing $f$ is bounded, show that $\omega_f$ is (in general) well-defined, and that $f$ is continuous at $x \iff \omega_f(x) = 0$.

  \item Show that for every $\varepsilon > 0$, the set $A(\varepsilon) = \theset{x\in\RR \suchthat \omega_f(x) > \varepsilon}$ is closed, and thus $D_f$ is an $F_\sigma$ set.
\end{enumerate}
\end{problem}


\begin{solution}\hfill
\begin{enumerate}
  \item We need to show that
    $$
    \forall c\in I, ~\forall\varepsilon > 0, ~\exists \delta \suchthat \quad \abs{x-c} \leq \delta \implies \abs{f(x) - 0} \leq \varepsilon.
    $$

    To that end, let $\theset{r_n}$ be an arbitrary enumeration of $\QQ \intersect I$, let $\varepsilon$ be fixed, and let $c \in I$ be arbitrary. If $c\in I\setminus\QQ$, then $f(c) = 0 < \varepsilon$ and there's nothing to prove. Otherwise, $c\in\QQ$, so $c = r_n$ for some $n$, and $f(c) = \frac 1 n$. Let $S = \theset{r_i \suchthat i \in \NN,~ \frac 1 i > \varepsilon} \subset \QQ$, and note that $S$ is finite by the archimedean property of $\RR$. So choose
    $$
    \delta < \min\theset{\abs{c - s} \suchthat s\in S},
    $$
    so that $S \intersect B_\delta(c) = \emptyset$.

    This means that if $x\in B_\delta(c) \intersect \QQ$, then $x = r_m$ where $\frac 1 m < \varepsilon$ by construction. But then $\abs{f(x)} = \frac 1 m < \varepsilon$, and we are done.

    By the sequential definition of continuity, $f$ is continuous iff $\lim_{x\to c} f(x) = f(c)$. As we have shown, if $c\in I\setminus\QQ$, then $\lim_{x\to c}f(x) = 0 = f(c)$, and so $f$ is continuous there. However, for $c\in I\intersect \QQ$, since $\lim_{x\to r_n} f(x) = 0 \neq \frac 1 n$, $f$ fails to be continuous there. Taken together, this says that $D_f = I\setminus \QQ$ as desired.

  \item To show that this is well-defined, we need to prove that the limit exists. By definition, since $f$ is bounded, there exists some $M$ that is independent of $x$ such that $x\in \RR \implies \abs{f(x)} \leq M$. In particular, for any fixed $\delta$, it is certainly the case that $B_\delta(x) \subset \RR$, and so $x\in B_\delta(x) \implies \abs{f(x)} \leq M$ as well.

    We can then say that if $y,z \in B_\delta(x)$, then
    $$
    \abs{f(y) - f(z)} \leq \abs{f(y)} + \abs{f(z)} \leq 2M,
    $$
    and thus the set $\theset{\abs{f(y) - f(z)} \suchthat y,z \in B_\delta(x)}$ is bounded above and thus has a least upper bound (since $\RR$ has the least upper bound property). Thus the following supremum exists:
    $$
    S(x, \delta) = \sup_{y,z \in B_\delta(x)} \abs{f(y) - f(z)}.
    $$
    We now just need to show that $\lim_{\delta \to 0^+} S(x, \delta)$ exists. To this end, we can note that if $\delta_1 < \delta_2$, then $B_{\delta_1} \subset B_{\delta_2}$, and so $S$ is a monotonically decreasing function of $\delta$ that is bounded below by 0 (since $B_0(x) = \theset{x} \implies y=z=x$ are the only choices), and is thus convergent by the monotone convergence theorem. So $\omega_f$ is well-defined.

    To see that $f$ continuous at $x \implies \omega_f(x) = 0$, let $\varepsilon$ be arbitrary; we will show that $\omega_f(x) < \varepsilon$. Since $f$ is continuous, we can pick a $\delta$ such that $y,z \in B_\delta(x) \implies f(y), f(z) \in B_{\varepsilon/2}(f(x))$. Thus we have
\[
  \begin{align*}
    \abs{y-x} < \delta \implies \abs{f(y) - f(x)} < \varepsilon/2 \\
    \abs{z-x} < \delta \implies \abs{f(z) - f(x)} < \varepsilon/2 \\
  .\end{align*}
\]

  Moreover, we can write
  $$
  \abs{f(y) - f(z)} = \abs{f(y) - f(x) + f(x) - f(z)} \leq \abs{f(y) - f(x)} + \abs{f(x) - f(z)} \leq \varepsilon,
  $$

  and thus we also have
  $$
  \sup_{y, z \in B_\delta(x)} \abs{f(y) - f(z)} < \varepsilon.
  $$

  We now want to take the limit as $\delta \to 0^+$; again since $\delta_1 \leq \delta_2 \implies B_{\delta_1} \subseteq B_{\delta_2}$, this can only make the left-hand-side of the above inequality smaller, and thus $\omega_f(x) \leq \varepsilon$. Taking $\varepsilon \to 0$ completes the proof.


  To see that $\omega_f(x) = 0 \implies f$ is continuous at $x$, let $x$ be fixed and $\varepsilon > 0$ be arbitrary; we want to produce a $\delta$ to use in the definition of continuity. Since $\omega_f(x) = 0$, we can find a $\delta$ such that
  $$
  \sup_{y, z \in B_\delta(x)} \abs{f(y) - f(z)} < \varepsilon.
  $$
  In particular, we can fix $x\in B_\delta(x)$ and let $y$ vary to obtain
  $$
  \sup_{y\in B_\delta(x)} \abs{f(y) - f(x)} < \varepsilon.
  $$

  But for any particular choice $y_0$ such that $\abs{y_0 - x} < \delta$, we have
  $$
  \abs{f(x) - f(y_0)} \leq\sup_{y\in B_\delta(x)} \abs{f(y) - f(x)} < \varepsilon,
  $$

  which is exactly the condition that
  $$
  \abs{y_0 - x} < \delta \implies \abs{f(x) - f(y_0)} < \varepsilon,
  $$
  which says that $f$ is continuous at $x$. $\qed$

  \item Note that if $A_\varepsilon$ is closed, we can write $D_f = \union_{n=1}^\infty A_{\frac 1 n}$, which is a countable union of closed sets, making $D_f$ an $F_\sigma$ set.

  We will proceed by fixing $\varepsilon$ and showing that $A_\varepsilon^c = \theset{x\in \RR \suchthat \omega_f(x) < \varepsilon}$ is open. To do so, let $x\in A_\varepsilon^c$, we then want to produce a $\delta$ such that
  $$
  B_\delta(x) = (x-\delta, x+\delta) \subset A_\varepsilon^c,
  $$

  which can be equivalently stated as
  $$
  y\in B_\delta(x) \implies \abs{y - x} < \delta \implies
  \omega_f(y) < \varepsilon \implies
  \lim_{\delta\to 0^+} \sup_{a,b \in B_\delta(y)}\abs{f(a) - f(b)} < \varepsilon
  $$

  Since $\omega_f(x) < \varepsilon$, we can find a $\delta$ such that
  $$
  \sup_{y,z \in B_{\delta}(x)} \abs{f(y) - f(z)} < \varepsilon,
  $$

  and if we fix $x$, this says that $\abs{y - x} < \delta \implies \sup_{y \in B_\delta(x)} \abs{f(y) - f(x)} < \varepsilon$. ???
\end{enumerate}
\end{solution}

\begin{problem}
  Let $X$ be countable and $\theset{x_i}$ be an enumeration, and define $f_n(x) = \indicator{x > x_n}$.
\end{problem}
