# Lecture 3: Transfers

## Defining Some Transfers

Recall that we have the sheaves $K^{MW}_*, GW$, and the sheaf property means that an inclusion $K \injects L$ induces a map $\spec(L) \to \spec(K)$. We can take $GW(\spec(L) \to \spec(K))$, and this is exactly the restriction/base change given by $\wait \tensor_k L$ of bilinear forms.
We also saw that these were stable homotopy sheaves, so there should be transfers, and we want to use them for field extensions. Let $K\subset L$ be a finite extension of finite-type schemes over $k$. This leads to transfer maps
$$
\Tr_{L/K}: GW(K) \to GW(L).
$$

There is also a geometric transfer (which is the prettiest!) which we'll define momentarily, given by with multiplication by one of those brackets to define a cohomological transfer. The geometric transfer will depend on a sequence of generators, while, while this choice can be removed for the cohomological transfer. If you use the twisting data you can get an absolute transfer.
In the case where $K\subset L$ is separable, there is a canonical way to explicitly untwist, and the absolute and cohomological transfers agree.  For these two, we took
$$
\Tr(B: V^2 \to L) = V^2 \mapsvia{B} L \mapsvia{\Tr_{W^k}}
$$
where we now view $V$ as a $k\dash$vector space, and $\Tr_{W^k}$ is the trace from Galois theory, the sum of the Galois conjugates.
We'll show that we have this structure for the geometric transfer. If $L = K[z]/\generators{f}$, so we've chosen some generator, then we get an induced map $\spec(L) \overset{z}\injects \PP^1_K$. Since this is a closed immersion corresponding to $z$, we can form a backwards map
$$
\PP^1_K \to {\PP^1_K \over \PP^1_K-\theset{z}} \homotopic \PP^1_L
$$
by crushing everything but $z$, where the last equivalence was seen in the previous lecture. But now we can take $K^{MW}_1(\PP^1_K \to \PP^1_L)$, which is a map
$$
\Tr_{L/K}^{\text{geom}}:  GW(L) \to GW(K)
$$
So we have some transfers.

## Bilinear Forms on Chow Groups

The finale of this morning was going to be adding bilinear forms to Chow groups for the purposes of having a tool in enumerative geometry. So let $X\in\Sm$ and $X^{(i)}$ codimension $i$ reduced, irreducible subschemes of $X$. Then
$$
CH^i(X) = {\bigoplus_{X^{(i)}} \ZZ \over \sim}
$$

where $\sim$ is rational equivalence, the equivalence relation generated by taking subvarieties of $V\subset X\cross \PP^1$ and equating the fibers and the endpoints 
\[
V_{\theset{1}} \sim V_{\theset{0}}
,\]
i.e. $V\intersect (X\cross\theset{1}) \sim V\intersect (X\cross\theset{0})$.

These are useful in enumerative geometry -- there are Chern classes, pushforwards, pullbacks, a ring structure, etc. This ring structure lets us do intersection theory, providing some machinery to help with enumerative questions.
The $i$th Chow group, in addition to being a motivic homology group, also has a nice formula due to Bloch that applies in the case of smooth schemes: $CH^i(X) \cong H^i(X; K^{M}_i)$ where the RHS is the Nisnevich cohomology of $X$ with coefficients in Milnor $K\dash$theory.
Oriented Chow groups (AKA Chow-Witt groups) which are the original Chow groups together with a bilinear form. By Borge and Morel, motivated by the Bloch formula above, these can be defined as
$$
\widetilde{CH}{}^i(X) \definedas H^i(X; K_i^{MW}).
$$

This can be computed by a complex (as in Morel's book):

\begin{align*}
\cdots \to \bigoplus_{z\in X^{(ii1)}} K^{MW}_{1}(K(z), ~\det_{k(z)} T_z X) \to \bigoplus_{z\in X^{(i)}} GW(K(z), ~\det_{k(z)} T_z X)  \\
\to \bigoplus_{z\in X^{(i+1)}} K^{MW}_{-1}(K(z), ~\det_{k(z)} T_z X)  \to \cdots
\end{align*}

where $k(z)$ is the function field, and since $z$ has a generic point, we can take the highest wedge power of the tangent space of $X$ at $z$ to yield the determinant term, which serves as an added twist. This explains why elements of the oriented Chow are formal combinations of codimension $i$ subvarieties $z\in X^{(i)}$ and a bilinear form over $k(z)$, $B\in GW(k(z))$.
There's structure here -- Fasel developed ring structure and pushforwards, while in the context of enumerative geometry, Mark Levine works with these. All in all, we have pullbacks, pushforwards, a noncommutative ring structure, and we can twist these groups as well.

## Twisted Chow

First we'll define the twists appearing in the complex above, and then we can define how to do twisted Chow so we can do pushforwards.
If $E$ is a field of finite type over $k$, then $K^{MW}_i(E; \Lambda)$ ("twisted by $\Lambda$") where $\Lambda$ is a 1-dimensional $E\dash$vector space can be defined as
$$
K^{MW}_i(E) \underset{\ZZ[E^\times]}\tensor \ZZ[\Lambda - \theset{0}]
$$
since $E^\times$ acts of the LHS due to the bracket $E$ in the Grothendieck-Witt group, and the RHS is possible because we can act on the nonzero elements of the vector space.
We can also twist by line bundles $L \to X$, leading to a definition of **oriented Chow groups twisted by local coefficients** via 
\[
\widetilde{CH}{}^i(X; L) \definedas H^i(X; K^{MW}_i(L))
\]
where we just take $K\dash$Milnor-Witt and twist by $L$.
For any proper $f: X\to Y$ where $\dim Y - \dim X = r$, then we have a pushforward map

\begin{align*}
f_*: \widetilde{CH}{}^i(X, \omega_{X/k}\tensor f^* \mathcal L) \to \widetilde{CH}{}^{i-r}(Y, \omega_{Y/k}\tensor \mathcal L)
.\end{align*}

where $\omega_{X/K}$ is the canonical line bundle of $X$ over $k$ given by $\det TX$, the determinant of the tangent bundle of $X$, and $f^* \mathcal L$ is the pullback of any line bundle from $f$.
Note that the bilinear form here acts like an orientation (which is exciting!), hence the name.

## Degree by Local Degree

Recall from Algebraic Topology that if we have a smooth map $f:S^n \to S^n$, then there is a notion of degree given picking regular values $p\in S^n$, so the preimage consists of finitely many points $f\inv(p) = \theset{q_1, \cdots, q_n}$, and we define $\deg f = \sum \underset{q_i}\deg f$ to be the sum of local degrees.
There is a formula for computing the degree from differential topology,  given by choosing coordinates $x_1, \cdots, x_n$ near $q_i$ and $y_1, \cdots, y_n$ near $p$ which are compatible with orientations.
Then $f:\RR^n\to\RR^n$, so we can form its Jacobian $\mathrm{Jac}(f) = \det J$ where that matrix $J$ is given by $(J)_{i,j} = \dd{f_i}{x_j}$. We then have

\[
\underset{q_i}\deg f = \begin{cases}
    1,  & \operatorname{Jac}(f) > 0 \\
    -1, & \operatorname{Jac}(f) < 0
\end{cases}
.\]

In $\Af^1$ algebraic topology, instead of just remembering the sign (like the signature), the idea of Lannes-Morel is to remember the entirety of $\operatorname{Jac}(f)$. Take $f: \PP^1 \to \PP^1$ over a field $k$, then let $p\in \PP^1(k)$ be a $k\dash$rational point so that $f\inv(p) = \theset{q_1, \cdots, q_n}$. We can then define
$$
\deg^{\Af^1}(f) = \sum \langle \underset{q_i}{\operatorname{Jac}} f\rangle \in GW(k)
$$
which doesn't depend on $p$. 
We then make an analogous definition for higher dimensions.

:::{.proposition title="?"}
The global degree is a sum of local degrees.
:::

Let $f: \PP^n \to \PP^n$ be finite such that $f\inv(\Af^n) = \Af^n$ for some chosen copy of $\Af^n \subset \PP^n$. This yields an induced map $\overline f :\PP^{n}/\PP^{n-1} \to \PP^{n}/\PP^{n-1}$. We then define the global degree by picking some $p\in \Af^n$ and setting
$$
\deg^{\Af^1}(\overline f) = \sum_{q\in f\inv(p)}\underset{q}\deg{\Af^1}(f)
$$
where the local degree can be define using balls (as in the first lecture), and we let $\underset{q}\deg{\Af^1}(f)$ be the degree of the composite map
$$
{\PP^{n} \over \PP^{n-1}} \homotopic {U \over U-\theset{q}} \to {\Af^n \over \Af^n - \theset{p}} \homotopic \operatorname{Th}(N_p\Af^n) \homotopic {\PP^{n} \over \PP^{n-1}}
$$
where $U$ is an open set chosen such that the preimage of $p$ only contains $q$, and $\operatorname{Th}(N_p\Af^n)$ is the Thom space of the normal bundle (here, the tangent bundle) and the last equality follows from the purity theorem and the fact that everything is $k\dash$rational (i.e. $k(q) = k$).
This can also be made to work at a non-rational point, using the Hatcher-style proof, of taking a collapsing map to yield the composite
$$
{\PP^{n} \over \PP^{n-1}} \to {\PP^{n} \over \PP^{n-1} -\theset{q}}\to {U \over U-\theset{q}} \to {\Af^n \over \Af^n - \theset{p}} \homotopic {\PP^{n} \over \PP^{n-1}}.
$$
This yields a notion of local degree in terms of global degree, by taking boundaries of balls, and we have the following facts:

- If $f$ is etale at $q$, and $k \subseteq k(q)$ is separable then

  $$
  \underset q \deg^{\Af^1} (f) = \Tr_{k(q)/k} \langle \operatorname{Jac}(q) \rangle
  $$
  - Depending on what you mean by transfer, the hypothesis of separability can be dropped, but it's needed here to take the composition with the Galois theory trace.
  - We could use this to compute the degree, but we are missing something


:::{.question}
What happens if $\operatorname{Jac}(f) = 0$
:::

:::{.answer}
The Eisenbud-Levine-Khimshiashvili signature formula, which says that if $f: \RR^n \to \RR^n$ where $0\mapsto 0$ is an isolated zero, then $\underset 0 \deg(f) = \operatorname{signature} (\omega^{EKL})$ which is a bilinear quadratic form on
$$
Q \definedas \RR[x_1, \cdots, x_n]_0 \over \generators{f_1, \cdots, f_n}
$$

where the numerator is localized at zero. Since the zero was isolated in its fiber, $Q$ is a finite-dimensional $\RR\dash$vector space, and $\operatorname{Jac}(f) \in Q$ (which may lie in the maximal ideal $\generators{x_1, \cdots, x_n})$. So we can pick any $\RR\dash$linear $\eta: Q \to \RR$ such that $\eta(\operatorname{Jac}(f)) = \dim Q$. This allows us to define
\begin{align*}
\omega^{EKL}: Q^2 \to \RR \\
(a,b) \mapsto \eta(ab).
.\end{align*}

:::

A question of Eisenbud was whether or not this whole form could be used as a degree over an arbitrary field $k$, not just its signature. So does it have an interpretation in algebraic topology? The answer is that it does, as a local degree in $\Af^1$ homotopy theory (which wasn't around at the time).


:::{.theorem title="Kass-Wickelgren"}
$$
\underset 0 \deg^{\Af^1}(f) = \omega^{EKL}
,$$
constructed in the same way.
:::

This works for any rational point, and one of the projects is to remove the hypothesis that $k(x) = k$.

:::{.example title="?"}
Let $f(x) = x^2$, and consider $\omega^{EKL}$ for this form. Form $Q = k[x]/\generators{x^2}$, where we don't need to localize at zero since $0$ is the only preimage of $0$. Then $\operatorname{Jac}(f) = 2x$. Note that $Q$ has a basis $\theset{1, x}$, and so we can choose

\begin{align*}
\eta: k[x]/\generators{x^2} \to k \\
\eta(2x) = 2\\
\eta(1) = 0
.\end{align*}

where we claim can send 1 wherever we want without altering the isomorphism class of $\omega^{EKL}$. We do this by forming the Gram matrix

$$
\begin{array}{cc}
 &  \begin{matrix}1 & x\end{matrix} \\
    \begin{matrix}1 \\ x\end{matrix} &
    \begin{bmatrix}
      0 & 1 \\
      1 & 0
    \end{bmatrix}
\end{array}
$$

where the 1s appear since we require $x\mapsto 1$, the bottom-right 0 because $x^2$ in the ring, and no matter what the top-left corner is, we can change basis by adding a multiple of $x$ to it.

Thus we can diagonalize this matrix to yield $\omega^{EKL} = \generators{1} + \generators{-1}$. Note that we needed to assume $\ch k$ does not divide $\dim Q$, otherwise we could have used a distinguished socle element instead in place of the Jacobian.

So now we have a way to concretely calculate degrees of maps $\PP^n /\PP^{n-1}\selfmap$, so here's an enumerative application.

:::

## $\Af^1$ Milnor Numbers

> Joint with Jesse Kass.

:::{.definition title="Nodes"}
A point $p$ on a scheme $X$ is a **node** if after base changing to the separable closure $k^s$ and looking at all of the preimages, the completed local ring
$$
\OO_{X, p} \cong k^s[[x_1, \cdots, x_n]] / \generators{\sum x_i^2 + o(x_i^3)}
,$$
where $o(x_i^3)$ just denotes higher order terms.
:::


Let $X = \theset{f=0}$ be a hypersurface, which is a scheme determined by a single equation, then if we perturb the equation near a complicated singularity, that singularity would bifurcate into nodes. So let $p\in X$ be a singularity; as $X$ is perturbed within a family $P$, $p$ bifurcates into nodes.
More specifically, for any $a_1, \cdots, a_n$, we have a family of varieties/hypersurfaces given by
$$
f(x_1, \cdots x_n) + \sum a_i x_i = t
$$
parameterized by $t$.
One definition of the Milnor number is that in any such family, it counts the number of nodes.

Let $k=\CC$, then a result of Milnor says that for any sufficiently small $a_1, \cdots, a_n$, the family $P$ contains $\mu(p)$ nodes, where $\mu$ denotes taking the Milnor number.
To find nodes, one can look at the gradient and see where all of the coefficients of the linear terms vanish. What remains is $o(x_i^2)$, so we're looking for zeros of the gradient, which requires looking at the inverse image of the gradient, so we're picking up the degree of the gradient. This gives us another definition,
$$
\mu(p) = \deg(\grad f)(p)
.$$

However, when $k\neq \CC$ and generally not algebraically closed, nodes have interesting information, including arithmetic data.
For example, consider $x^2+y^2$ and $x^2-y^2$. The first carves out just the origin, the latter, two diagonal lines.

![](assets/2019-03-09-12-18-52.png)\

The LHS is a non-split node, meaning the tangent is not defined over $k$, while the RHS is a split node. So we can use the $\Af^1$ degree in place of the topological degree, since we want to count the zeros of the gradient, and it will naturally pick up information about the node.

:::{.definition title="Type of a Node"}
The **type** of a node $p = \theset{f=0}$ is given by
$$
\operatorname{Type}(p) = \underset p \deg^{\Af^1} (\grad f) \in GW(k).
$$
:::

:::{.example title="?"}
Choose a preimage of $p$ after base change to $k(p)$, suppose the node is cut out by the $f = \sum x_i^2 + o(x_i^3)$.
Then we have the local ring $\widehat\OO_{X. p} = k[[p]] / \generators{f}$.
Then $\operatorname{Type}(p) = \Tr_{k(p)/ k}\generators{2^n a_1 \cdots a_n}$, where $k(p)$ is always a separable extension of $k$.

Then $\operatorname{Type}(x^2+ay^2) = \generators{a}$.
This picks up the two tangent directions in the field of definition, and when it's not rational, it picks up the trace from $k$ with a 2-tangent direction.
So this contains geometric/arithmetic information about both the node and its tangent directions.
:::

:::{.definition title="Milnor Number"}
For $p$ a singularity on a hypersurface, we can define **the Milnor number**
$$
\mu^{\Af^1}(p) \definedas \underset p \deg (\grad f)
.$$
:::

:::{.theorem title="Kass-Wickelgren"}
It then follows that for a generic $a_1,\cdots,a_n$, for a singularity $p$, we have
$$
\sum_{x \in \text{a family of nodes}} \operatorname{Type} (x) = \mu^{\Af^1}(p) \in GW(k),
$$
which is a fixed element.
:::

### Example of Kass-Wickelgren Theorem

Let $f(x,y) = y^2-x^3$, supposing $\ch(k) \neq 2,3$ and consider computing the $\Af^1$ Milnor number.
We compute $\grad(f) = (-3x^2, 2y)$. We can choose $p=0$ as a singularity, then

\begin{align*}
\mu^{\Af^1}(0)
&= \underset 0 \deg(\grad f) \\
&= \underset 0 \deg(x\mapsto -3x^2) \underset 0 \deg(y\mapsto 2y),
.\end{align*}

since the two variables being split apart implies that we can decompose $\grad f$ into the smash product of two maps into spheres. We know that the latter map is etale, so its degree is $\generators{2}$. For the former, we can use the prior computation for $x\mapsto x^2$ and just post-compose with $x\mapsto 3x$, so we obtain

\begin{align*}
\mu^{\Af^1}(0) &= \generators{3}(\generators{1} + \generators{-1}) \generators{2} \\
&= \generators{-6} + \generators{6}\\
&= \generators{1} + \generators{-1}\\
&= h,
\end{align*}

the hyperbolic form from earlier.

Alternatively, take a family $y^2 = x^3 + ax  + t$. We then have two situations, depending on whether or not $a=0$:

![](assets/2019-03-09-12-44-39.png)\

The bottom represents the $t$ line, where the LHS shows a cusp at $t=0$ and otherwise some general fibers. For the RHS, there are nodes exactly when $x^3+ax+t$ has a double root, which happens exactly when this polynomial' discriminant is zero, which occurs at $-27t^2-4t$. In particular, $t$ is degree 2, so there are two nodal fibers (which agrees with Milnor's theorem), and moreover if we add up the types we must get $h$.

So for example, over $\FF_5$, we $\generators{1} = \generators{-1}$, so in a family, it is not possible to have one split and one non-split rational node.
For $\FF_7$, this is reversed, and you can't have 2 split or 2 non-split rational nodes.

> Moral of the story: this obstructs certain kinds of arithmetic behavior within these families!
